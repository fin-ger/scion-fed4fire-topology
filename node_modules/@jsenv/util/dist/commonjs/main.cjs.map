{"version":3,"file":"main.cjs","sources":["../../node_modules/@jsenv/url-meta/src/internal/assertUrlLike.js","../../node_modules/@jsenv/url-meta/src/applySpecifierPatternMatching.js","../../node_modules/@jsenv/url-meta/src/internal/isPlainObject.js","../../node_modules/@jsenv/url-meta/src/metaMapToSpecifierMetaMap.js","../../node_modules/@jsenv/url-meta/src/internal/assertSpecifierMetaMap.js","../../node_modules/@jsenv/url-meta/src/normalizeSpecifierMetaMap.js","../../node_modules/@jsenv/url-meta/src/urlCanContainsMetaMatching.js","../../node_modules/@jsenv/url-meta/src/urlToMeta.js","../../src/internal/ensureUrlTrailingSlash.js","../../src/isFileSystemPath.js","../../src/fileSystemPathToUrl.js","../../src/assertAndNormalizeDirectoryUrl.js","../../src/assertAndNormalizeFileUrl.js","../../src/internal/statsToType.js","../../src/urlToFileSystemPath.js","../../src/internal/permissions.js","../../src/writeFileSystemNodePermissions.js","../../src/readFileSystemNodeStat.js","../../src/assertDirectoryPresence.js","../../src/assertFilePresence.js","../../src/bufferToEtag.js","../../node_modules/@jsenv/cancellation/src/createCancellationToken.js","../../node_modules/@jsenv/cancellation/src/operation/createOperation.js","../../node_modules/@jsenv/cancellation/src/cancelError.js","../../node_modules/@jsenv/cancellation/src/internal/arrayHelper.js","../../node_modules/@jsenv/cancellation/src/createCancellationSource.js","../../src/catchCancellation.js","../../src/readDirectory.js","../../src/internal/getCommonPathname.js","../../src/internal/pathnameToDirectoryPathname.js","../../src/urlToRelativeUrl.js","../../src/comparePathnames.js","../../src/collectFiles.js","../../src/writeDirectory.js","../../src/resolveUrl.js","../../src/removeFileSystemNode.js","../../src/ensureEmptyDirectory.js","../../src/ensureWindowsDriveLetter.js","../../src/internal/urlTargetsSameFileSystemPath.js","../../src/ensureParentDirectories.js","../../src/writeFileSystemNodeModificationTime.js","../../src/internal/replaceBackSlashesWithSlashes.js","../../src/readSymbolicLink.js","../../src/writeSymbolicLink.js","../../src/urlIsInsideOf.js","../../src/copyFileSystemNode.js","../../node_modules/@jsenv/node-signals/src/SIGUPSignal.js","../../node_modules/@jsenv/node-signals/src/SIGINTSignal.js","../../node_modules/@jsenv/node-signals/src/SIGTERMSignal.js","../../node_modules/@jsenv/node-signals/src/beforeExitSignal.js","../../node_modules/@jsenv/node-signals/src/exitSignal.js","../../node_modules/@jsenv/node-signals/src/teardownSignal.js","../../src/createCancellationTokenForProcess.js","../../src/readFileSystemNodePermissions.js","../../src/grantPermissionsOnFileSystemNode.js","../../src/memoize.js","../../src/moveFileSystemNode.js","../../src/readFile.js","../../src/readFileSystemNodeModificationTime.js","../../src/internal/fileSystemNodeToTypeOrNull.js","../../src/internal/createWatcher.js","../../src/internal/trackRessources.js","../../src/registerDirectoryLifecycle.js","../../src/registerFileLifecycle.js","../../src/resolveDirectoryUrl.js","../../src/testFileSystemNodePermissions.js","../../src/writeFile.js"],"sourcesContent":null,"names":["assertUrlLike","value","name","TypeError","isWindowsPathnameSpecifier","hasScheme","specifier","firstChar","test","secondChar","thirdChar","applySpecifierPatternMatching","url","rest","Object","keys","length","Error","applyPatternMatching","pattern","string","patternIndex","index","remainingPattern","remainingString","pass","fail","slice","skipResult","skipUntilMatch","matched","slashIndex","indexOf","skippablePredicate","bestMatch","matchAttempt","skippable","Math","max","isPlainObject","Array","isArray","metaMapToSpecifierMetaMap","metaMap","specifierMetaMap","forEach","metaKey","specifierValueMap","metaValue","meta","assertSpecifierMetaMap","checkComposition","plainObject","key","normalizeSpecifierMetaMap","specifierMetaMapNormalized","specifierResolved","String","URL","urlCanContainsMetaMatching","predicate","endsWith","fullMatchMeta","someFullMatch","partialMatchMetaArray","push","Boolean","some","partialMatchMeta","urlToMeta","reduce","previousMeta","ensureUrlTrailingSlash","isFileSystemPath","startsWithWindowsDriveLetter","fileSystemPathToUrl","pathToFileURL","assertAndNormalizeDirectoryUrl","urlString","href","e","startsWith","assertAndNormalizeFileUrl","baseUrl","statsToType","stats","isFile","isDirectory","isSymbolicLink","isFIFO","isSocket","isCharacterDevice","isBlockDevice","undefined","urlToFileSystemPath","fileUrl","fileSystemPath","fileURLToPath","S_IRUSR","S_IWUSR","S_IXUSR","S_IRGRP","S_IWGRP","S_IXGRP","S_IROTH","S_IWOTH","S_IXOTH","binaryFlagsToPermissions","binaryFlags","owner","read","write","execute","group","others","permissionsToBinaryFlags","writeFileSystemNodePermissions","source","permissions","sourceUrl","sourcePath","getPermissionOrComputeDefault","chmodNaive","Promise","resolve","reject","chmod","error","actionLevels","subjectLevels","action","subject","subjectPermissions","actionLevel","actionFallback","find","actionFallbackCandidate","subjectLevel","subjectFallback","subjectFallbackCandidate","isWindows","process","platform","readFileSystemNodeStat","nullIfNotFound","followLink","handleNotFoundOption","handleNotFoundError","readStat","handlePermissionDeniedError","nodeMethod","stat","lstat","statsObject","code","assertDirectoryPresence","sourceStats","assertFilePresence","ETAG_FOR_EMPTY_CONTENT","bufferToEtag","buffer","Buffer","isBuffer","hash","createHash","update","hashBase64String","digest","hashBase64StringSubset","toString","createCancellationToken","register","callback","unregister","throwIfRequested","cancellationRequested","createOperation","cancellationToken","start","unknownArgumentNames","promise","cancelPromise","cancelRegistration","cancelError","then","operationPromise","race","createCancelError","reason","isCancelError","arrayWithout","array","item","arrayWithoutItem","i","createCancellationSource","requested","registrationArray","cancel","registrationArrayCopy","registration","existingRegistration","token","catchCancellation","asyncFn","catch","readDirectory","emfileMaxWait","directoryUrl","directoryPath","startMs","Date","now","attemptCount","attempt","readdirNaive","handleTooManyFilesOpenedError","nowMs","timeSpentWaiting","setTimeout","readdir","names","getCommonPathname","pathname","otherPathname","firstDifferentCharacterIndex","findFirstDifferentCharacterIndex","commonString","charAt","firstDifferentSlashIndex","lastIndexOf","otherString","maxCommonLength","min","char","otherChar","pathnameToDirectoryPathname","slashLastIndex","urlToRelativeUrl","urlArg","baseUrlArg","protocol","username","password","host","search","basePathname","commonPathname","specificPathname","baseSpecificPathname","baseSpecificDirectoryPathname","relativeDirectoriesNotation","replace","relativePathname","comparePathnames","leftPathame","rightPathname","leftPartArray","split","rightPartArray","leftLength","rightLength","maxLength","leftPartExists","rightPartExists","leftPartIsLast","rightPartIsLast","leftPart","rightPart","comparison","localeCompare","collectFiles","matchingFileOperation","rootDirectoryUrl","matchingFileResultArray","visitDirectory","directoryItems","all","map","directoryItem","directoryChildNodeUrl","directoryChildNodeStats","subDirectoryUrl","relativeUrl","operationResult","fileStats","sort","leftFile","rightFile","mkdir","promises","writeDirectory","destination","recursive","allowUseless","destinationUrl","destinationPath","destinationStats","destinationType","resolveUrl","removeFileSystemNode","maxRetries","retryDelay","onlyContent","removeNonDirectory","removeDirectory","retryCount","unlinkNaive","handleTemporaryError","unlink","visit","visitFile","visitSymbolicLink","optionsFromRecursive","handleNotEmptyError","removeDirectoryContent","removeDirectoryNaive","handlePermissionError","openOrCloseError","fd","openSync","closeSync","console","stack","symbolicLinkUrl","rmdir","lstatObject","ensureEmptyDirectory","sourceType","baseUrlFallback","cwd","ensureWindowsDriveLetter","afterProtocol","extractDriveLetter","baseUrlOrFallback","driveLetter","ressource","urlTargetsSameFileSystemPath","leftUrl","rightUrl","ensureParentDirectories","destinationParentPath","dirname","writeFileSystemNodeModificationTime","mtime","mtimeValue","floor","atimeValue","utimes","replaceBackSlashesWithSlashes","readSymbolicLink","symbolicLinkPath","readlink","resolvedPath","symlink","writeSymbolicLink","target","type","targetValue","targetUrl","targetStats","urlIsInsideOf","urlValue","otherUrlValue","otherUrl","origin","urlPathname","otherUrlPathname","copyFileSystemNode","overwrite","preserveStat","preserveMtime","preservePermissions","fileRelativeUrl","fileCopyUrl","copyFileContentNaive","copyStats","symbolicLinkRelativeUrl","symbolicLinkTarget","symbolicLinkTargetUrl","linkIsRelative","symbolicLinkCopyTarget","linkCopyTargetRelative","linkType","symbolicLinkCopyUrl","mode","mtimeMs","directoryStats","directoryRelativeUrl","directoryCopyUrl","copyDirectoryContent","fileSystemNodeUrl","filePath","fileDestinationPath","copyFileNode","addCallback","triggerHangUpOrDeath","once","removeListener","SIGUPSignal","SIGINTSignal","warn","triggerTermination","SIGTERMSignal","beforeExitCallbackArray","uninstall","install","filter","beforeExitCallback","onBeforeExit","previous","beforeExitSignal","collectExceptions","exitCallback","on","getExceptions","stop","trackExceptions","exceptionArray","exception","unhandledRejectionCallback","unhandledRejection","rejectionHandledCallback","uncaughtExceptionCallback","uncaughtException","exitSignal","eventRace","SIGHUP","SIGINT","SIGTERM","beforeExit","exit","eventMap","unregisterMap","unregisterAll","args","teardownSignal","createCancellationTokenForProcess","teardownCancelSource","readFileSystemNodePermissions","grantPermissionsOnFileSystemNode","filePermissions","memoize","compute","memoized","memoizedValue","fnWithMemoization","forget","moveFileSystemNode","moveNaive","handleCrossDeviceError","rename","readFilePromisified","promisify","readFileNode","readFile","readFileSystemNodeModificationTime","fileSystemNodeToTypeOrNull","path","statSync","createWatcher","options","watcher","watch","trackRessources","callbackArray","registerCleanupCallback","splice","cleanup","localCallbackArray","isLinux","fsWatchSupportsRecursive","registerDirectoryLifecycle","added","updated","removed","watchDescription","notifyExistent","keepProcessAlive","undefinedOrFunction","entryShouldBeWatched","entryUrl","canContainEntryToWatch","entryMeta","tracker","contentMap","handleDirectoryEvent","filename","eventType","handleChange","relativeUrlCandidateArray","relativeUrlCandidate","includes","afterDirectory","removedEntryRelativeUrl","handleEntryLost","previousType","handleEntryFound","existent","entryFound","entry","persistent","close","fileSystemPathToDirectoryRelativeUrlAndFilename","readdirSync","normalizedPath","registerFileLifecycle","handleFileFound","fileMutationStopWatching","watchFileMutation","fileMutationStopTracking","watchFileAdded","fileCreationStopWatching","watchFileCreation","fileCreationgStopTracking","sourceFilename","basename","directoryWatcher","resolveDirectoryUrl","access","R_OK","W_OK","X_OK","constants","testFileSystemNodePermissions","allowedIfNotFound","writeFile","writeFileNode","content"],"mappings":";;;;;;;;;;AAAO,MAAMA,aAAa,GAAG,CAACC,KAAD,EAAQC,IAAI,GAAG,KAAf,KAAyB;AACpD,MAAI,OAAOD,KAAP,KAAiB,QAArB,EAA+B;AAC7B,UAAM,IAAIE,SAAJ,CAAe,GAAED,IAAK,8BAA6BD,KAAM,EAAzD,CAAN;AACD;;AACD,MAAIG,0BAA0B,CAACH,KAAD,CAA9B,EAAuC;AACrC,UAAM,IAAIE,SAAJ,CAAe,GAAED,IAAK,yDAAwDD,KAAM,EAApF,CAAN;AACD;;AACD,MAAI,CAACI,SAAS,CAACJ,KAAD,CAAd,EAAuB;AACrB,UAAM,IAAIE,SAAJ,CAAe,GAAED,IAAK,2CAA0CD,KAAM,EAAtE,CAAN;AACD;AACF,CAVM;;AAYP,MAAMG,0BAA0B,GAAIE,SAAD,IAAe;AAChD,QAAMC,SAAS,GAAGD,SAAS,CAAC,CAAD,CAA3B;AACA,MAAI,CAAC,WAAWE,IAAX,CAAgBD,SAAhB,CAAL,EAAiC,OAAO,KAAP;AACjC,QAAME,UAAU,GAAGH,SAAS,CAAC,CAAD,CAA5B;AACA,MAAIG,UAAU,KAAK,GAAnB,EAAwB,OAAO,KAAP;AACxB,QAAMC,SAAS,GAAGJ,SAAS,CAAC,CAAD,CAA3B;AACA,SAAOI,SAAS,KAAK,GAAd,IAAqBA,SAAS,KAAK,IAA1C;AACD,CAPD;;AASA,MAAML,SAAS,GAAIC,SAAD,IAAe,cAAcE,IAAd,CAAmBF,SAAnB,CAAjC;;ACrBA;AACA,MAIaK,6BAA6B,GAAG,CAAC;AAAEL,EAAAA,SAAF;AAAaM,EAAAA,GAAb;AAAkB,KAAGC;AAArB,IAA8B,EAA/B,KAAsC;AACjFb,EAAAA,aAAa,CAACM,SAAD,EAAY,WAAZ,CAAb;AACAN,EAAAA,aAAa,CAACY,GAAD,EAAM,KAAN,CAAb;;AACA,MAAIE,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,MAAtB,EAA8B;AAC5B,UAAM,IAAIC,KAAJ,CAAW;;EAEnBH,MAAM,CAACC,IAAP,CAAYF,IAAZ,CAAkB;;eAFV,CAAN;AAKD;;AACD,SAAOK,oBAAoB,CAACZ,SAAD,EAAYM,GAAZ,CAA3B;AACD,CAXM;;AAaP,MAAMM,oBAAoB,GAAG,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAChD,MAAIC,YAAY,GAAG,CAAnB;AACA,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,gBAAgB,GAAGJ,OAAvB;AACA,MAAIK,eAAe,GAAGJ,MAAtB,CAJgD;;AAOhD,SAAO,IAAP,EAAa;AACX;AACA,QAAIG,gBAAgB,KAAK,EAArB,IAA2BC,eAAe,KAAK,EAAnD,EAAuD;AACrD;AACA,aAAOC,IAAI,CAAC;AACVJ,QAAAA,YADU;AAEVC,QAAAA;AAFU,OAAD,CAAX;AAID,KARU;;;AAWX,QAAIC,gBAAgB,KAAK,EAArB,IAA2BC,eAAe,KAAK,EAAnD,EAAuD;AACrD;AACA,aAAOE,IAAI,CAAC;AACVL,QAAAA,YADU;AAEVC,QAAAA;AAFU,OAAD,CAAX;AAID,KAjBU;AAqBX;;;AACA,QAAIE,eAAe,KAAK,EAAxB,EAA4B;AAC1B;AACA,UAAID,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B,eAAOE,IAAI,CAAC;AACVJ,UAAAA,YAAY,EAAEA,YAAY,GAAG,CADnB;AAEVC,UAAAA;AAFU,SAAD,CAAX;AAID,OAPyB;;;AAS1B,aAAOI,IAAI,CAAC;AACVL,QAAAA,YADU;AAEVC,QAAAA;AAFU,OAAD,CAAX;AAID,KAnCU;AAuCX;;;AACA,QAAIC,gBAAgB,KAAK,GAAzB,EAA8B;AAC5B;AACA,UAAIC,eAAe,CAAC,CAAD,CAAf,KAAuB,GAA3B,EAAgC;AAC9B,eAAOC,IAAI,CAAC;AACVJ,UAAAA,YAAY,EAAEA,YAAY,GAAG,CADnB;AAEVC,UAAAA,KAAK,EAAEF,MAAM,CAACJ;AAFJ,SAAD,CAAX;AAID;;AAED,aAAOU,IAAI,CAAC;AACVL,QAAAA,YADU;AAEVC,QAAAA;AAFU,OAAD,CAAX;AAID,KArDU;;;AAwDX,QAAIC,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B;AACA,aAAOE,IAAI,CAAC;AACVJ,QAAAA,YAAY,EAAEA,YAAY,GAAG,CADnB;AAEVC,QAAAA,KAAK,EAAEF,MAAM,CAACJ;AAFJ,OAAD,CAAX;AAID,KA9DU;;;AAiEX,QAAIO,gBAAgB,CAACI,KAAjB,CAAuB,CAAvB,EAA0B,CAA1B,MAAiC,IAArC,EAA2C;AACzC;AACAJ,MAAAA,gBAAgB,GAAGA,gBAAgB,CAACI,KAAjB,CAAuB,CAAvB,CAAnB;AACAN,MAAAA,YAAY,IAAI,CAAhB;;AACA,UAAIE,gBAAgB,CAAC,CAAD,CAAhB,KAAwB,GAA5B,EAAiC;AAC/B;AACAA,QAAAA,gBAAgB,GAAGA,gBAAgB,CAACI,KAAjB,CAAuB,CAAvB,CAAnB;AACAN,QAAAA,YAAY,IAAI,CAAhB;AACD,OARwC;;;AAWzC,UAAIE,gBAAgB,KAAK,EAAzB,EAA6B;AAC3B,eAAOE,IAAI,CAAC;AACVJ,UAAAA,YADU;AAEVC,UAAAA,KAAK,EAAEF,MAAM,CAACJ;AAFJ,SAAD,CAAX;AAID;;AAED,YAAMY,UAAU,GAAGC,cAAc,CAAC;AAAEV,QAAAA,OAAO,EAAEI,gBAAX;AAA6BH,QAAAA,MAAM,EAAEI;AAArC,OAAD,CAAjC;;AAEA,UAAI,CAACI,UAAU,CAACE,OAAhB,EAAyB;AACvB,eAAOJ,IAAI,CAAC;AACVL,UAAAA,YAAY,EAAEA,YAAY,GAAGO,UAAU,CAACP,YAD9B;AAEVC,UAAAA,KAAK,EAAEA,KAAK,GAAGM,UAAU,CAACN;AAFhB,SAAD,CAAX;AAID;;AAED,aAAOG,IAAI,CAAC;AACVJ,QAAAA,YAAY,EAAEF,OAAO,CAACH,MADZ;AAEVM,QAAAA,KAAK,EAAEF,MAAM,CAACJ;AAFJ,OAAD,CAAX;AAID;;AAED,QAAIO,gBAAgB,CAAC,CAAD,CAAhB,KAAwB,GAA5B,EAAiC;AAC/B;AACAA,MAAAA,gBAAgB,GAAGA,gBAAgB,CAACI,KAAjB,CAAuB,CAAvB,CAAnB;AACAN,MAAAA,YAAY,IAAI,CAAhB,CAH+B;AAM/B;;AACA,UAAIE,gBAAgB,KAAK,EAAzB,EAA6B;AAC3B,cAAMQ,UAAU,GAAGP,eAAe,CAACQ,OAAhB,CAAwB,GAAxB,CAAnB;;AACA,YAAID,UAAU,GAAG,CAAC,CAAlB,EAAqB;AACnB,iBAAOL,IAAI,CAAC;AACVL,YAAAA,YADU;AAEVC,YAAAA,KAAK,EAAEA,KAAK,GAAGS;AAFL,WAAD,CAAX;AAID;;AACD,eAAON,IAAI,CAAC;AACVJ,UAAAA,YADU;AAEVC,UAAAA,KAAK,EAAEF,MAAM,CAACJ;AAFJ,SAAD,CAAX;AAID,OAnB8B;AAsB/B;;;AACA,UAAIO,gBAAgB,CAAC,CAAD,CAAhB,KAAwBC,eAAe,CAAC,CAAD,CAA3C,EAAgD;AAC9C,eAAOE,IAAI,CAAC;AACVL,UAAAA,YAAY,EAAEA,YAAY,GAAG,IAAIL,MADvB;AAEVM,UAAAA;AAFU,SAAD,CAAX;AAID;;AAED,YAAMM,UAAU,GAAGC,cAAc,CAAC;AAChCV,QAAAA,OAAO,EAAEI,gBADuB;AAEhCH,QAAAA,MAAM,EAAEI,eAFwB;AAGhCS,QAAAA,kBAAkB,EAAGT,eAAD,IAAqBA,eAAe,CAAC,CAAD,CAAf,KAAuB;AAHhC,OAAD,CAAjC;;AAMA,UAAI,CAACI,UAAU,CAACE,OAAhB,EAAyB;AACvB,eAAOJ,IAAI,CAAC;AACVL,UAAAA,YAAY,EAAEA,YAAY,GAAGO,UAAU,CAACP,YAD9B;AAEVC,UAAAA,KAAK,EAAEA,KAAK,GAAGM,UAAU,CAACN;AAFhB,SAAD,CAAX;AAID;;AAED,aAAOG,IAAI,CAAC;AACVJ,QAAAA,YAAY,EAAEF,OAAO,CAACH,MADZ;AAEVM,QAAAA,KAAK,EAAEF,MAAM,CAACJ;AAFJ,OAAD,CAAX;AAID;;AAED,QAAIO,gBAAgB,CAAC,CAAD,CAAhB,KAAwBC,eAAe,CAAC,CAAD,CAA3C,EAAgD;AAC9C,aAAOE,IAAI,CAAC;AACVL,QAAAA,YADU;AAEVC,QAAAA;AAFU,OAAD,CAAX;AAID,KAxJU;;;AA2JXC,IAAAA,gBAAgB,GAAGA,gBAAgB,CAACI,KAAjB,CAAuB,CAAvB,CAAnB;AACAH,IAAAA,eAAe,GAAGA,eAAe,CAACG,KAAhB,CAAsB,CAAtB,CAAlB;AACAN,IAAAA,YAAY,IAAI,CAAhB;AACAC,IAAAA,KAAK,IAAI,CAAT;AACA;AACD;AACF,CAxKD;;AA0KA,MAAMO,cAAc,GAAG,CAAC;AAAEV,EAAAA,OAAF;AAAWC,EAAAA,MAAX;AAAmBa,EAAAA,kBAAkB,GAAG,MAAM;AAA9C,CAAD,KAA0D;AAC/E,MAAIX,KAAK,GAAG,CAAZ;AACA,MAAIE,eAAe,GAAGJ,MAAtB;AACA,MAAIc,SAAS,GAAG,IAAhB,CAH+E;;AAM/E,SAAO,IAAP,EAAa;AACX,UAAMC,YAAY,GAAGjB,oBAAoB,CAACC,OAAD,EAAUK,eAAV,CAAzC;;AAEA,QAAIW,YAAY,CAACL,OAAjB,EAA0B;AACxBI,MAAAA,SAAS,GAAGC,YAAZ;AACA;AACD;;AAED,UAAMC,SAAS,GAAGH,kBAAkB,CAACT,eAAD,CAApC;AAEAU,IAAAA,SAAS,GAAGR,IAAI,CAAC;AACfL,MAAAA,YAAY,EAAEa,SAAS,GACnBG,IAAI,CAACC,GAAL,CAASJ,SAAS,CAACb,YAAnB,EAAiCc,YAAY,CAACd,YAA9C,CADmB,GAEnBc,YAAY,CAACd,YAHF;AAIfC,MAAAA,KAAK,EAAEA,KAAK,GAAGa,YAAY,CAACb;AAJb,KAAD,CAAhB;;AAOA,QAAI,CAACc,SAAL,EAAgB;AACd;AACD,KAnBU;;;AAsBXZ,IAAAA,eAAe,GAAGA,eAAe,CAACG,KAAhB,CAAsBQ,YAAY,CAACb,KAAb,GAAqB,CAA3C,CAAlB;AACAA,IAAAA,KAAK,IAAIa,YAAY,CAACb,KAAb,GAAqB,CAA9B;;AACA,QAAIE,eAAe,KAAK,EAAxB,EAA4B;AAC1BU,MAAAA,SAAS,GAAG,EACV,GAAGA,SADO;AAEVZ,QAAAA,KAAK,EAAEF,MAAM,CAACJ;AAFJ,OAAZ;AAIA;AACD;;AAED;AACD;;AAED,SAAOkB,SAAP;AACD,CA1CD;;AA4CA,MAAMT,IAAI,GAAG,CAAC;AAAEJ,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAD,KAA6B;AACxC,SAAO;AACLQ,IAAAA,OAAO,EAAE,IADJ;AAELR,IAAAA,KAFK;AAGLD,IAAAA;AAHK,GAAP;AAKD,CAND;;AAQA,MAAMK,IAAI,GAAG,CAAC;AAAEL,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAD,KAA6B;AACxC,SAAO;AACLQ,IAAAA,OAAO,EAAE,KADJ;AAELR,IAAAA,KAFK;AAGLD,IAAAA;AAHK,GAAP;AAKD,CAND;;AChPO,MAAMkB,aAAa,GAAItC,KAAD,IAAW;AACtC,MAAIA,KAAK,KAAK,IAAd,EAAoB;AAClB,WAAO,KAAP;AACD;;AACD,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,QAAIuC,KAAK,CAACC,OAAN,CAAcxC,KAAd,CAAJ,EAA0B;AACxB,aAAO,KAAP;AACD;;AACD,WAAO,IAAP;AACD;;AACD,SAAO,KAAP;AACD,CAXM;;MCEMyC,yBAAyB,GAAG,CAACC,OAAD,EAAU,GAAG9B,IAAb,KAAsB;AAC7D,MAAI,CAAC0B,aAAa,CAACI,OAAD,CAAlB,EAA6B;AAC3B,UAAM,IAAIxC,SAAJ,CAAe,uCAAsCwC,OAAQ,EAA7D,CAAN;AACD;;AACD,MAAI9B,IAAI,CAACG,MAAT,EAAiB;AACf,UAAM,IAAIC,KAAJ,CAAW;;EAEnB,IAAIJ,IAAI,CAACG,MAAO;;EAFR,CAAN;AAKD;;AAED,QAAM4B,gBAAgB,GAAG,EAAzB;AAEA9B,EAAAA,MAAM,CAACC,IAAP,CAAY4B,OAAZ,EAAqBE,OAArB,CAA8BC,OAAD,IAAa;AACxC,UAAMC,iBAAiB,GAAGJ,OAAO,CAACG,OAAD,CAAjC;;AACA,QAAI,CAACP,aAAa,CAACQ,iBAAD,CAAlB,EAAuC;AACrC,YAAM,IAAI5C,SAAJ,CACH,2CAA0C4C,iBAAkB,QAAOD,OAAQ,EADxE,CAAN;AAGD;;AACDhC,IAAAA,MAAM,CAACC,IAAP,CAAYgC,iBAAZ,EAA+BF,OAA/B,CAAwCvC,SAAD,IAAe;AACpD,YAAM0C,SAAS,GAAGD,iBAAiB,CAACzC,SAAD,CAAnC;AACA,YAAM2C,IAAI,GAAG;AAAE,SAACH,OAAD,GAAWE;AAAb,OAAb;AACAJ,MAAAA,gBAAgB,CAACtC,SAAD,CAAhB,GACEA,SAAS,IAAIsC,gBAAb,GAAgC,EAAE,GAAGA,gBAAgB,CAACtC,SAAD,CAArB;AAAkC,WAAG2C;AAArC,OAAhC,GAA8EA,IADhF;AAED,KALD;AAMD,GAbD;AAeA,SAAOL,gBAAP;AACD,CA9BM;;ACCA,MAAMM,sBAAsB,GAAG,CAACjD,KAAD,EAAQkD,gBAAgB,GAAG,IAA3B,KAAoC;AACxE,MAAI,CAACZ,aAAa,CAACtC,KAAD,CAAlB,EAA2B;AACzB,UAAM,IAAIE,SAAJ,CAAe,gDAA+CF,KAAM,EAApE,CAAN;AACD;;AAED,MAAIkD,gBAAJ,EAAsB;AACpB,UAAMC,WAAW,GAAGnD,KAApB;AACAa,IAAAA,MAAM,CAACC,IAAP,CAAYqC,WAAZ,EAAyBP,OAAzB,CAAkCQ,GAAD,IAAS;AACxCrD,MAAAA,aAAa,CAACqD,GAAD,EAAM,sBAAN,CAAb;AACA,YAAMpD,KAAK,GAAGmD,WAAW,CAACC,GAAD,CAAzB;;AACA,UAAIpD,KAAK,KAAK,IAAV,IAAkB,CAACsC,aAAa,CAACtC,KAAD,CAApC,EAA6C;AAC3C,cAAM,IAAIE,SAAJ,CACH,8DAA6DF,KAAM,cAAaoD,GAAI,EADjF,CAAN;AAGD;AACF,KARD;AASD;AACF,CAjBM;;MCAMC,yBAAyB,GAAG,CAACV,gBAAD,EAAmBhC,GAAnB,EAAwB,GAAGC,IAA3B,KAAoC;AAC3EqC,EAAAA,sBAAsB,CAACN,gBAAD,EAAmB,KAAnB,CAAtB;AACA5C,EAAAA,aAAa,CAACY,GAAD,EAAM,KAAN,CAAb;;AACA,MAAIC,IAAI,CAACG,MAAT,EAAiB;AACf,UAAM,IAAIC,KAAJ,CAAW;;EAEnB,IAAIJ,IAAI,CAACG,MAAO;;EAFR,CAAN;AAKD;;AAED,QAAMuC,0BAA0B,GAAG,EAAnC;AACAzC,EAAAA,MAAM,CAACC,IAAP,CAAY6B,gBAAZ,EAA8BC,OAA9B,CAAuCvC,SAAD,IAAe;AACnD,UAAMkD,iBAAiB,GAAGC,MAAM,CAAC,IAAIC,GAAJ,CAAQpD,SAAR,EAAmBM,GAAnB,CAAD,CAAhC;AACA2C,IAAAA,0BAA0B,CAACC,iBAAD,CAA1B,GAAgDZ,gBAAgB,CAACtC,SAAD,CAAhE;AACD,GAHD;AAIA,SAAOiD,0BAAP;AACD,CAjBM;;MCCMI,0BAA0B,GAAG,CAAC;AAAE/C,EAAAA,GAAF;AAAOgC,EAAAA,gBAAP;AAAyBgB,EAAAA,SAAzB;AAAoC,KAAG/C;AAAvC,CAAD,KAAmD;AAC3Fb,EAAAA,aAAa,CAACY,GAAD,EAAM,KAAN,CAAb,CAD2F;;AAG3F,MAAI,CAACA,GAAG,CAACiD,QAAJ,CAAa,GAAb,CAAL,EAAwB;AACtB,UAAM,IAAI5C,KAAJ,CAAW,8BAA6BL,GAAI,EAA5C,CAAN;AACD;;AACDsC,EAAAA,sBAAsB,CAACN,gBAAD,CAAtB;;AACA,MAAI,OAAOgB,SAAP,KAAqB,UAAzB,EAAqC;AACnC,UAAM,IAAIzD,SAAJ,CAAe,qCAAoCyD,SAAU,EAA7D,CAAN;AACD;;AACD,MAAI9C,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,MAAtB,EAA8B;AAC5B,UAAM,IAAIC,KAAJ,CAAW;;EAEnBH,MAAM,CAACC,IAAP,CAAYF,IAAZ,CAAkB;;iCAFV,CAAN;AAKD,GAhB0F;;;AAmB3F,MAAIiD,aAAa,GAAG,EAApB;AACA,MAAIC,aAAa,GAAG,KAApB,CApB2F;AAsB3F;;AACA,QAAMC,qBAAqB,GAAG,EAA9B;AAEAlD,EAAAA,MAAM,CAACC,IAAP,CAAY6B,gBAAZ,EAA8BC,OAA9B,CAAuCvC,SAAD,IAAe;AACnD,UAAM2C,IAAI,GAAGL,gBAAgB,CAACtC,SAAD,CAA7B;AACA,UAAM;AAAEwB,MAAAA,OAAF;AAAWR,MAAAA;AAAX,QAAqBX,6BAA6B,CAAC;AACvDL,MAAAA,SADuD;AAEvDM,MAAAA;AAFuD,KAAD,CAAxD;;AAIA,QAAIkB,OAAJ,EAAa;AACXiC,MAAAA,aAAa,GAAG,IAAhB;AACAD,MAAAA,aAAa,GAAG,EACd,GAAGA,aADW;AAEd,WAAGb;AAFW,OAAhB;AAID,KAND,MAMO,IAAIc,aAAa,KAAK,KAAlB,IAA2BzC,KAAK,IAAIV,GAAG,CAACI,MAA5C,EAAoD;AACzDgD,MAAAA,qBAAqB,CAACC,IAAtB,CAA2BhB,IAA3B;AACD;AACF,GAfD;;AAiBA,MAAIc,aAAJ,EAAmB;AACjB,WAAOG,OAAO,CAACN,SAAS,CAACE,aAAD,CAAV,CAAd;AACD;;AAED,SAAOE,qBAAqB,CAACG,IAAtB,CAA4BC,gBAAD,IAAsBR,SAAS,CAACQ,gBAAD,CAA1D,CAAP;AACD,CA/CM;;MCAMC,SAAS,GAAG,CAAC;AAAEzD,EAAAA,GAAF;AAAOgC,EAAAA,gBAAP;AAAyB,KAAG/B;AAA5B,IAAqC,EAAtC,KAA6C;AACpEb,EAAAA,aAAa,CAACY,GAAD,CAAb;AACAsC,EAAAA,sBAAsB,CAACN,gBAAD,CAAtB;;AACA,MAAI9B,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,MAAtB,EAA8B;AAC5B,UAAM,IAAIC,KAAJ,CAAW;;EAEnBH,MAAM,CAACC,IAAP,CAAYF,IAAZ,CAAkB;;sBAFV,CAAN;AAKD;;AAED,SAAOC,MAAM,CAACC,IAAP,CAAY6B,gBAAZ,EAA8B0B,MAA9B,CAAqC,CAACC,YAAD,EAAejE,SAAf,KAA6B;AACvE,UAAM;AAAEwB,MAAAA;AAAF,QAAcnB,6BAA6B,CAAC;AAChDL,MAAAA,SADgD;AAEhDM,MAAAA;AAFgD,KAAD,CAAjD;;AAIA,QAAIkB,OAAJ,EAAa;AACX,aAAO,EACL,GAAGyC,YADE;AAEL,WAAG3B,gBAAgB,CAACtC,SAAD;AAFd,OAAP;AAID;;AACD,WAAOiE,YAAP;AACD,GAZM,EAYJ,EAZI,CAAP;AAaD,CAxBM;;ACJA,MAAMC,sBAAsB,GAAI5D,GAAD,IAAS;AAC7C,SAAOA,GAAG,CAACiD,QAAJ,CAAa,GAAb,IAAoBjD,GAApB,GAA2B,GAAEA,GAAI,GAAxC;AACD,CAFM;;MCAM6D,gBAAgB,GAAIxE,KAAD,IAAW;AACzC,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,UAAM,IAAIE,SAAJ,CAAe,oDAAmDF,KAAM,EAAxE,CAAN;AACD;;AAED,MAAIA,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB,OAAO,IAAP;AACtB,SAAOyE,4BAA4B,CAACzE,KAAD,CAAnC;AACD,CAPM;;AASP,MAAMyE,4BAA4B,GAAItD,MAAD,IAAY;AAC/C,QAAMb,SAAS,GAAGa,MAAM,CAAC,CAAD,CAAxB;AACA,MAAI,CAAC,WAAWZ,IAAX,CAAgBD,SAAhB,CAAL,EAAiC,OAAO,KAAP;AAEjC,QAAME,UAAU,GAAGW,MAAM,CAAC,CAAD,CAAzB;AACA,MAAIX,UAAU,KAAK,GAAnB,EAAwB,OAAO,KAAP;AAExB,SAAO,IAAP;AACD,CARD;;MCNakE,mBAAmB,GAAI1E,KAAD,IAAW;AAC5C,MAAI,CAACwE,gBAAgB,CAACxE,KAAD,CAArB,EAA8B;AAC5B,UAAM,IAAIgB,KAAJ,CAAW,iDAAgDhB,KAAM,EAAjE,CAAN;AACD;;AACD,SAAOwD,MAAM,CAACmB,iBAAa,CAAC3E,KAAD,CAAd,CAAb;AACD,CALM;;MCCM4E,8BAA8B,GAAI5E,KAAD,IAAW;AACvD,MAAI6E,SAAJ;;AAEA,MAAI7E,KAAK,YAAYyD,GAArB,EAA0B;AACxBoB,IAAAA,SAAS,GAAG7E,KAAK,CAAC8E,IAAlB;AACD,GAFD,MAEO,IAAI,OAAO9E,KAAP,KAAiB,QAArB,EAA+B;AACpC,QAAIwE,gBAAgB,CAACxE,KAAD,CAApB,EAA6B;AAC3B6E,MAAAA,SAAS,GAAGH,mBAAmB,CAAC1E,KAAD,CAA/B;AACD,KAFD,MAEO;AACL,UAAI;AACF6E,QAAAA,SAAS,GAAGrB,MAAM,CAAC,IAAIC,GAAJ,CAAQzD,KAAR,CAAD,CAAlB;AACD,OAFD,CAEE,OAAO+E,CAAP,EAAU;AACV,cAAM,IAAI7E,SAAJ,CAAe,8CAA6CF,KAAM,EAAlE,CAAN;AACD;AACF;AACF,GAVM,MAUA;AACL,UAAM,IAAIE,SAAJ,CAAe,qDAAoDF,KAAM,EAAzE,CAAN;AACD;;AAED,MAAI,CAAC6E,SAAS,CAACG,UAAV,CAAqB,SAArB,CAAL,EAAsC;AACpC,UAAM,IAAIhE,KAAJ,CAAW,mDAAkDhB,KAAM,EAAnE,CAAN;AACD;;AAED,SAAOuE,sBAAsB,CAACM,SAAD,CAA7B;AACD,CAxBM;;MCDMI,yBAAyB,GAAG,CAACjF,KAAD,EAAQkF,OAAR,KAAoB;AAC3D,MAAIL,SAAJ;;AAEA,MAAI7E,KAAK,YAAYyD,GAArB,EAA0B;AACxBoB,IAAAA,SAAS,GAAG7E,KAAK,CAAC8E,IAAlB;AACD,GAFD,MAEO,IAAI,OAAO9E,KAAP,KAAiB,QAArB,EAA+B;AACpC,QAAIwE,gBAAgB,CAACxE,KAAD,CAApB,EAA6B;AAC3B6E,MAAAA,SAAS,GAAGH,mBAAmB,CAAC1E,KAAD,CAA/B;AACD,KAFD,MAEO;AACL,UAAI;AACF6E,QAAAA,SAAS,GAAGrB,MAAM,CAAC,IAAIC,GAAJ,CAAQzD,KAAR,EAAekF,OAAf,CAAD,CAAlB;AACD,OAFD,CAEE,OAAOH,CAAP,EAAU;AACV,cAAM,IAAI7E,SAAJ,CAAe,yCAAwCF,KAAM,EAA7D,CAAN;AACD;AACF;AACF,GAVM,MAUA;AACL,UAAM,IAAIE,SAAJ,CAAe,gDAA+CF,KAAM,EAApE,CAAN;AACD;;AAED,MAAI,CAAC6E,SAAS,CAACG,UAAV,CAAqB,SAArB,CAAL,EAAsC;AACpC,UAAM,IAAIhE,KAAJ,CAAW,8CAA6ChB,KAAM,EAA9D,CAAN;AACD;;AAED,SAAO6E,SAAP;AACD,CAxBM;;ACHA,MAAMM,WAAW,GAAIC,KAAD,IAAW;AACpC,MAAIA,KAAK,CAACC,MAAN,EAAJ,EAAoB,OAAO,MAAP;AACpB,MAAID,KAAK,CAACE,WAAN,EAAJ,EAAyB,OAAO,WAAP;AACzB,MAAIF,KAAK,CAACG,cAAN,EAAJ,EAA4B,OAAO,eAAP;AAC5B,MAAIH,KAAK,CAACI,MAAN,EAAJ,EAAoB,OAAO,MAAP;AACpB,MAAIJ,KAAK,CAACK,QAAN,EAAJ,EAAsB,OAAO,QAAP;AACtB,MAAIL,KAAK,CAACM,iBAAN,EAAJ,EAA+B,OAAO,kBAAP;AAC/B,MAAIN,KAAK,CAACO,aAAN,EAAJ,EAA2B,OAAO,cAAP;AAC3B,SAAOC,SAAP;AACD,CATM;;MCEMC,mBAAmB,GAAIC,OAAD,IAAa;AAC9C,MAAIA,OAAO,CAACA,OAAO,CAAC/E,MAAR,GAAiB,CAAlB,CAAP,KAAgC,GAApC,EAAyC;AACvC;AACA;AACA+E,IAAAA,OAAO,GAAGA,OAAO,CAACpE,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAV;AACD;;AACD,QAAMqE,cAAc,GAAGC,iBAAa,CAACF,OAAD,CAApC;AACA,SAAOC,cAAP;AACD,CARM;;ACFP;AACA;AACA;AAEA;AACA,MAAME,OAAO,GAAG,GAAhB;AAAoB;;AACpB,MAAMC,OAAO,GAAG,GAAhB;AAAoB;;AACpB,MAAMC,OAAO,GAAG,EAAhB;AAAmB;;AACnB,MAAMC,OAAO,GAAG,EAAhB;AAAmB;;AACnB,MAAMC,OAAO,GAAG,EAAhB;AAAmB;;AACnB,MAAMC,OAAO,GAAG,CAAhB;AAAkB;;AAClB,MAAMC,OAAO,GAAG,CAAhB;AAAkB;;AAClB,MAAMC,OAAO,GAAG,CAAhB;AAAkB;;AAClB,MAAMC,OAAO,GAAG,CAAhB;AAAkB;;AAElB;;;;;;;;;;;;;;;;;;AAiBA,AAAO,MAAMC,wBAAwB,GAAIC,WAAD,IAAiB;AACvD,QAAMC,KAAK,GAAG;AACZC,IAAAA,IAAI,EAAE5C,OAAO,CAAC0C,WAAW,GAAGV,OAAf,CADD;AAEZa,IAAAA,KAAK,EAAE7C,OAAO,CAAC0C,WAAW,GAAGT,OAAf,CAFF;AAGZa,IAAAA,OAAO,EAAE9C,OAAO,CAAC0C,WAAW,GAAGR,OAAf;AAHJ,GAAd;AAMA,QAAMa,KAAK,GAAG;AACZH,IAAAA,IAAI,EAAE5C,OAAO,CAAC0C,WAAW,GAAGP,OAAf,CADD;AAEZU,IAAAA,KAAK,EAAE7C,OAAO,CAAC0C,WAAW,GAAGN,OAAf,CAFF;AAGZU,IAAAA,OAAO,EAAE9C,OAAO,CAAC0C,WAAW,GAAGL,OAAf;AAHJ,GAAd;AAMA,QAAMW,MAAM,GAAG;AACbJ,IAAAA,IAAI,EAAE5C,OAAO,CAAC0C,WAAW,GAAGJ,OAAf,CADA;AAEbO,IAAAA,KAAK,EAAE7C,OAAO,CAAC0C,WAAW,GAAGH,OAAf,CAFD;AAGbO,IAAAA,OAAO,EAAE9C,OAAO,CAAC0C,WAAW,GAAGF,OAAf;AAHH,GAAf;AAMA,SAAO;AACLG,IAAAA,KADK;AAELI,IAAAA,KAFK;AAGLC,IAAAA;AAHK,GAAP;AAKD,CAxBM;AA0BP,AAAO,MAAMC,wBAAwB,GAAG,CAAC;AAAEN,EAAAA,KAAF;AAASI,EAAAA,KAAT;AAAgBC,EAAAA;AAAhB,CAAD,KAA8B;AACpE,MAAIN,WAAW,GAAG,CAAlB;AAEA,MAAIC,KAAK,CAACC,IAAV,EAAgBF,WAAW,IAAIV,OAAf;AAChB,MAAIW,KAAK,CAACE,KAAV,EAAiBH,WAAW,IAAIT,OAAf;AACjB,MAAIU,KAAK,CAACG,OAAV,EAAmBJ,WAAW,IAAIR,OAAf;AAEnB,MAAIa,KAAK,CAACH,IAAV,EAAgBF,WAAW,IAAIP,OAAf;AAChB,MAAIY,KAAK,CAACF,KAAV,EAAiBH,WAAW,IAAIN,OAAf;AACjB,MAAIW,KAAK,CAACD,OAAV,EAAmBJ,WAAW,IAAIL,OAAf;AAEnB,MAAIW,MAAM,CAACJ,IAAX,EAAiBF,WAAW,IAAIJ,OAAf;AACjB,MAAIU,MAAM,CAACH,KAAX,EAAkBH,WAAW,IAAIH,OAAf;AAClB,MAAIS,MAAM,CAACF,OAAX,EAAoBJ,WAAW,IAAIF,OAAf;AAEpB,SAAOE,WAAP;AACD,CAhBM;;MCrDMQ,8BAA8B,GAAG,OAAOC,MAAP,EAAeC,WAAf,KAA+B;AAC3E,QAAMC,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AACA,QAAMG,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,MAAIX,WAAJ;;AACA,MAAI,OAAOU,WAAP,KAAuB,QAA3B,EAAqC;AACnCA,IAAAA,WAAW,GAAG;AACZT,MAAAA,KAAK,EAAE;AACLC,QAAAA,IAAI,EAAEW,6BAA6B,CAAC,MAAD,EAAS,OAAT,EAAkBH,WAAlB,CAD9B;AAELP,QAAAA,KAAK,EAAEU,6BAA6B,CAAC,OAAD,EAAU,OAAV,EAAmBH,WAAnB,CAF/B;AAGLN,QAAAA,OAAO,EAAES,6BAA6B,CAAC,SAAD,EAAY,OAAZ,EAAqBH,WAArB;AAHjC,OADK;AAMZL,MAAAA,KAAK,EAAE;AACLH,QAAAA,IAAI,EAAEW,6BAA6B,CAAC,MAAD,EAAS,OAAT,EAAkBH,WAAlB,CAD9B;AAELP,QAAAA,KAAK,EAAEU,6BAA6B,CAAC,OAAD,EAAU,OAAV,EAAmBH,WAAnB,CAF/B;AAGLN,QAAAA,OAAO,EAAES,6BAA6B,CAAC,SAAD,EAAY,OAAZ,EAAqBH,WAArB;AAHjC,OANK;AAWZJ,MAAAA,MAAM,EAAE;AACNJ,QAAAA,IAAI,EAAEW,6BAA6B,CAAC,MAAD,EAAS,QAAT,EAAmBH,WAAnB,CAD7B;AAENP,QAAAA,KAAK,EAAEU,6BAA6B,CAAC,OAAD,EAAU,QAAV,EAAoBH,WAApB,CAF9B;AAGNN,QAAAA,OAAO,EAAES,6BAA6B,CAAC,SAAD,EAAY,QAAZ,EAAsBH,WAAtB;AAHhC;AAXI,KAAd;AAiBAV,IAAAA,WAAW,GAAGO,wBAAwB,CAACG,WAAD,CAAtC;AACD,GAnBD,MAmBO;AACLV,IAAAA,WAAW,GAAGU,WAAd;AACD;;AAED,SAAOI,UAAU,CAACF,UAAD,EAAaZ,WAAb,CAAjB;AACD,CA7BM;;AA+BP,MAAMc,UAAU,GAAG,CAAC1B,cAAD,EAAiBY,WAAjB,KAAiC;AAClD,SAAO,IAAIe,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,IAAAA,QAAK,CAAC9B,cAAD,EAAiBY,WAAjB,EAA+BmB,KAAD,IAAW;AAC5C,UAAIA,KAAJ,EAAW;AACTF,QAAAA,MAAM,CAACE,KAAD,CAAN;AACD,OAFD,MAEO;AACLH,QAAAA,OAAO;AACR;AACF,KANI,CAAL;AAOD,GARM,CAAP;AASD,CAVD;;AAYA,MAAMI,YAAY,GAAG;AAAElB,EAAAA,IAAI,EAAE,CAAR;AAAWC,EAAAA,KAAK,EAAE,CAAlB;AAAqBC,EAAAA,OAAO,EAAE;AAA9B,CAArB;AACA,MAAMiB,aAAa,GAAG;AAAEf,EAAAA,MAAM,EAAE,CAAV;AAAaD,EAAAA,KAAK,EAAE,CAApB;AAAuBJ,EAAAA,KAAK,EAAE;AAA9B,CAAtB;;AAEA,MAAMY,6BAA6B,GAAG,CAACS,MAAD,EAASC,OAAT,EAAkBb,WAAlB,KAAkC;AACtE,MAAIa,OAAO,IAAIb,WAAf,EAA4B;AAC1B,UAAMc,kBAAkB,GAAGd,WAAW,CAACa,OAAD,CAAtC;;AACA,QAAID,MAAM,IAAIE,kBAAd,EAAkC;AAChC,aAAOA,kBAAkB,CAACF,MAAD,CAAzB;AACD;;AAED,UAAMG,WAAW,GAAGL,YAAY,CAACE,MAAD,CAAhC;AACA,UAAMI,cAAc,GAAGxH,MAAM,CAACC,IAAP,CAAYiH,YAAZ,EAA0BO,IAA1B,CACpBC,uBAAD,IACER,YAAY,CAACQ,uBAAD,CAAZ,GAAwCH,WAAxC,IACAG,uBAAuB,IAAIJ,kBAHR,CAAvB;;AAKA,QAAIE,cAAJ,EAAoB;AAClB,aAAOF,kBAAkB,CAACE,cAAD,CAAzB;AACD;AACF;;AAED,QAAMG,YAAY,GAAGR,aAAa,CAACE,OAAD,CAAlC,CAlBsE;AAoBtE;;AACA,QAAMO,eAAe,GAAG5H,MAAM,CAACC,IAAP,CAAYkH,aAAZ,EAA2BM,IAA3B,CACrBI,wBAAD,IACEV,aAAa,CAACU,wBAAD,CAAb,GAA0CF,YAA1C,IACAE,wBAAwB,IAAIrB,WAHR,CAAxB;;AAKA,MAAIoB,eAAJ,EAAqB;AACnB,UAAMN,kBAAkB,GAAGd,WAAW,CAACoB,eAAD,CAAtC;AACA,WAAOR,MAAM,IAAIE,kBAAV,GACHA,kBAAkB,CAACF,MAAD,CADf,GAEHT,6BAA6B,CAACS,MAAD,EAASQ,eAAT,EAA0BpB,WAA1B,CAFjC;AAGD;;AAED,SAAO,KAAP;AACD,CAlCD;;AC9CA,MAAMsB,SAAS,GAAGC,OAAO,CAACC,QAAR,KAAqB,OAAvC;AAEA,MAAaC,sBAAsB,GAAG,OACpC1B,MADoC,EAEpC;AAAE2B,EAAAA,cAAc,GAAG,KAAnB;AAA0BC,EAAAA,UAAU,GAAG;AAAvC,IAAgD,EAFZ,KAGjC;AACH,MAAI5B,MAAM,CAACxD,QAAP,CAAgB,GAAhB,CAAJ,EAA0BwD,MAAM,GAAGA,MAAM,CAAC1F,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,CAAT;AAE1B,QAAM4F,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AACA,QAAMG,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,QAAM2B,oBAAoB,GAAGF,cAAc,GACvC;AACEG,IAAAA,mBAAmB,EAAE,MAAM;AAD7B,GADuC,GAIvC,EAJJ;AAMA,SAAOC,QAAQ,CAAC5B,UAAD,EAAa;AAC1ByB,IAAAA,UAD0B;AAE1B,OAAGC,oBAFuB;AAG1B,QAAIN,SAAS,GACT;AACE;AACAS,MAAAA,2BAA2B,EAAE,MAAOtB,KAAP,IAAiB;AAC5C;AACA;AACA;AACA,YAAI;AACF,gBAAMX,8BAA8B,CAACG,SAAD,EAAY,KAAZ,CAApC;AACA,gBAAMlC,KAAK,GAAG,MAAM+D,QAAQ,CAAC5B,UAAD,EAAa;AACvCyB,YAAAA,UADuC;AAEvC,eAAGC,oBAFoC;AAGvC;AACAG,YAAAA,2BAA2B,EAAE,MAAM;AACjC,oBAAMtB,KAAN;AACD;AANsC,WAAb,CAA5B;AAQA,iBAAO1C,KAAP;AACD,SAXD,CAWE,OAAOL,CAAP,EAAU;AACV;AACA,gBAAM+C,KAAN;AACD;AACF;AArBH,KADS,GAwBT,EAxBJ;AAH0B,GAAb,CAAf;AA6BD,CA5CM;;AA8CP,MAAMqB,QAAQ,GAAG,CACf5B,UADe,EAEf;AAAEyB,EAAAA,UAAF;AAAcE,EAAAA,mBAAmB,GAAG,IAApC;AAA0CE,EAAAA,2BAA2B,GAAG;AAAxE,IAAiF,EAFlE,KAGZ;AACH,QAAMC,UAAU,GAAGL,UAAU,GAAGM,OAAH,GAAUC,QAAvC;AAEA,SAAO,IAAI7B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCyB,IAAAA,UAAU,CAAC9B,UAAD,EAAa,CAACO,KAAD,EAAQ0B,WAAR,KAAwB;AAC7C,UAAI1B,KAAJ,EAAW;AACT,YAAIsB,2BAA2B,KAAKtB,KAAK,CAAC2B,IAAN,KAAe,OAAf,IAA0B3B,KAAK,CAAC2B,IAAN,KAAe,QAA9C,CAA/B,EAAwF;AACtF9B,UAAAA,OAAO,CAACyB,2BAA2B,CAACtB,KAAD,CAA5B,CAAP;AACD,SAFD,MAEO,IAAIoB,mBAAmB,IAAIpB,KAAK,CAAC2B,IAAN,KAAe,QAA1C,EAAoD;AACzD9B,UAAAA,OAAO,CAACuB,mBAAmB,CAACpB,KAAD,CAApB,CAAP;AACD,SAFM,MAEA;AACLF,UAAAA,MAAM,CAACE,KAAD,CAAN;AACD;AACF,OARD,MAQO;AACLH,QAAAA,OAAO,CAAC6B,WAAD,CAAP;AACD;AACF,KAZS,CAAV;AAaD,GAdM,CAAP;AAeD,CArBD;;MChDaE,uBAAuB,GAAG,MAAOtC,MAAP,IAAkB;AACvD,QAAME,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AACA,QAAMG,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,QAAMqC,WAAW,GAAG,MAAMb,sBAAsB,CAACxB,SAAD,EAAY;AAC1DyB,IAAAA,cAAc,EAAE;AAD0C,GAAZ,CAAhD;;AAGA,MAAI,CAACY,WAAL,EAAkB;AAChB,UAAM,IAAI3I,KAAJ,CAAW,0BAAyBuG,UAAW,EAA/C,CAAN;AACD;;AACD,MAAI,CAACoC,WAAW,CAACrE,WAAZ,EAAL,EAAgC;AAC9B,UAAM,IAAItE,KAAJ,CACH,yBAAwBuG,UAAW,cAAapC,WAAW,CAACwE,WAAD,CAAc,UADtE,CAAN;AAGD;AACF,CAfM;;MCAMC,kBAAkB,GAAG,MAAOxC,MAAP,IAAkB;AAClD,QAAME,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AACA,QAAMG,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,QAAMqC,WAAW,GAAG,MAAMb,sBAAsB,CAACxB,SAAD,EAAY;AAC1DyB,IAAAA,cAAc,EAAE;AAD0C,GAAZ,CAAhD;;AAGA,MAAI,CAACY,WAAL,EAAkB;AAChB,UAAM,IAAI3I,KAAJ,CAAW,qBAAoBuG,UAAW,EAA1C,CAAN;AACD;;AACD,MAAI,CAACoC,WAAW,CAACtE,MAAZ,EAAL,EAA2B;AACzB,UAAM,IAAIrE,KAAJ,CAAW,oBAAmBuG,UAAW,cAAapC,WAAW,CAACwE,WAAD,CAAc,UAA/E,CAAN;AACD;AACF,CAbM;;ACHP,MAAME,sBAAsB,GAAG,iCAA/B;AAEA,MAAaC,YAAY,GAAIC,MAAD,IAAY;AACtC,MAAI,CAACC,MAAM,CAACC,QAAP,CAAgBF,MAAhB,CAAL,EAA8B;AAC5B,UAAM,IAAI7J,SAAJ,CAAe,wBAAuB6J,MAAO,EAA7C,CAAN;AACD;;AAED,MAAIA,MAAM,CAAChJ,MAAP,KAAkB,CAAtB,EAAyB;AACvB,WAAO8I,sBAAP;AACD;;AAED,QAAMK,IAAI,GAAGC,iBAAU,CAAC,MAAD,CAAvB;AACAD,EAAAA,IAAI,CAACE,MAAL,CAAYL,MAAZ,EAAoB,MAApB;AAEA,QAAMM,gBAAgB,GAAGH,IAAI,CAACI,MAAL,CAAY,QAAZ,CAAzB;AACA,QAAMC,sBAAsB,GAAGF,gBAAgB,CAAC3I,KAAjB,CAAuB,CAAvB,EAA0B,EAA1B,CAA/B;AACA,QAAMX,MAAM,GAAGgJ,MAAM,CAAChJ,MAAtB;AAEA,SAAQ,IAAGA,MAAM,CAACyJ,QAAP,CAAgB,EAAhB,CAAoB,IAAGD,sBAAuB,GAAzD;AACD,CAjBM;;ACJA,MAAME,uBAAuB,GAAG,MAAM;AAC3C,QAAMC,QAAQ,GAAIC,QAAD,IAAc;AAC7B,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,YAAM,IAAI3J,KAAJ,CAAW,oCAAmC2J,QAAS,EAAvD,CAAN;AACD;;AAED,WAAO;AACLA,MAAAA,QADK;AAELC,MAAAA,UAAU,EAAE,MAAM;AAFb,KAAP;AAID,GATD;;AAWA,QAAMC,gBAAgB,GAAG,MAAMjF,SAA/B;;AAEA,SAAO;AACL8E,IAAAA,QADK;AAELI,IAAAA,qBAAqB,EAAE,KAFlB;AAGLD,IAAAA;AAHK,GAAP;AAKD,CAnBM;;ACEA,MAAME,eAAe,GAAG,CAAC;AAC9BC,EAAAA,iBAAiB,GAAGP,uBAAuB,EADb;AAE9BQ,EAAAA,KAF8B;AAG9B,KAAGrK;AAH2B,CAAD,KAIzB;AACJ,QAAMsK,oBAAoB,GAAGrK,MAAM,CAACC,IAAP,CAAYF,IAAZ,CAA7B;;AACA,MAAIsK,oBAAoB,CAACnK,MAAzB,EAAiC;AAC/B,UAAM,IAAIC,KAAJ,CAAW;;EAEnBkK,oBAAqB;;;MAFb,CAAN;AAMD;;AAEDF,EAAAA,iBAAiB,CAACH,gBAAlB;AACA,QAAMM,OAAO,GAAG,IAAIzD,OAAJ,CAAaC,OAAD,IAAa;AACvCA,IAAAA,OAAO,CAACsD,KAAK,EAAN,CAAP;AACD,GAFe,CAAhB;AAGA,QAAMG,aAAa,GAAG,IAAI1D,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACrD,UAAMyD,kBAAkB,GAAGL,iBAAiB,CAACN,QAAlB,CAA4BY,WAAD,IAAiB;AACrED,MAAAA,kBAAkB,CAACT,UAAnB;AACAhD,MAAAA,MAAM,CAAC0D,WAAD,CAAN;AACD,KAH0B,CAA3B;AAIAH,IAAAA,OAAO,CAACI,IAAR,CAAaF,kBAAkB,CAACT,UAAhC,EAA4C,MAAM,EAAlD;AACD,GANqB,CAAtB;AAOA,QAAMY,gBAAgB,GAAG9D,OAAO,CAAC+D,IAAR,CAAa,CAACN,OAAD,EAAUC,aAAV,CAAb,CAAzB;AAEA,SAAOI,gBAAP;AACD,CA7BM;;ACFA,MAAME,iBAAiB,GAAIC,MAAD,IAAY;AAC3C,QAAML,WAAW,GAAG,IAAItK,KAAJ,CAAW,oBAAmB2K,MAAO,EAArC,CAApB;AACAL,EAAAA,WAAW,CAACrL,IAAZ,GAAmB,cAAnB;AACAqL,EAAAA,WAAW,CAACK,MAAZ,GAAqBA,MAArB;AACA,SAAOL,WAAP;AACD,CALM;AAOP,AAAO,MAAMM,aAAa,GAAI5L,KAAD,IAAW;AACtC,SAAOA,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAA1B,IAAsCA,KAAK,CAACC,IAAN,KAAe,cAA5D;AACD,CAFM;;ACPA,MAAM4L,YAAY,GAAG,CAACC,KAAD,EAAQC,IAAR,KAAiB;AAC3C,QAAMC,gBAAgB,GAAG,EAAzB;AACA,MAAIC,CAAC,GAAG,CAAR;;AACA,SAAOA,CAAC,GAAGH,KAAK,CAAC/K,MAAjB,EAAyB;AACvB,UAAMf,KAAK,GAAG8L,KAAK,CAACG,CAAD,CAAnB;AACAA,IAAAA,CAAC;;AACD,QAAIjM,KAAK,KAAK+L,IAAd,EAAoB;AAClB;AACD;;AACDC,IAAAA,gBAAgB,CAAChI,IAAjB,CAAsBhE,KAAtB;AACD;;AACD,SAAOgM,gBAAP;AACD,CAZM;;ACAP;AACA,AAGO,MAAME,wBAAwB,GAAG,MAAM;AAC5C,MAAIC,SAAS,GAAG,KAAhB;AACA,MAAIb,WAAJ;AACA,MAAIc,iBAAiB,GAAG,EAAxB;;AACA,QAAMC,MAAM,GAAIV,MAAD,IAAY;AACzB,QAAIQ,SAAJ,EAAe;AACfA,IAAAA,SAAS,GAAG,IAAZ;AACAb,IAAAA,WAAW,GAAGI,iBAAiB,CAACC,MAAD,CAA/B;AAEA,UAAMW,qBAAqB,GAAGF,iBAAiB,CAAC1K,KAAlB,EAA9B;AACA0K,IAAAA,iBAAiB,CAACrL,MAAlB,GAA2B,CAA3B;AACAuL,IAAAA,qBAAqB,CAAC1J,OAAtB,CAA+B2J,YAAD,IAAkB;AAC9CA,MAAAA,YAAY,CAAC5B,QAAb,CAAsBW,WAAtB,EAD8C;AAG/C,KAHD;AAID,GAXD;;AAaA,QAAMZ,QAAQ,GAAIC,QAAD,IAAc;AAC7B,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,YAAM,IAAI3J,KAAJ,CAAW,oCAAmC2J,QAAS,EAAvD,CAAN;AACD;;AAED,UAAM6B,oBAAoB,GAAGJ,iBAAiB,CAAC9D,IAAlB,CAAwBiE,YAAD,IAAkB;AACpE,aAAOA,YAAY,CAAC5B,QAAb,KAA0BA,QAAjC;AACD,KAF4B,CAA7B,CAL6B;;AAS7B,QAAI6B,oBAAJ,EAA0B;AACxB,aAAOA,oBAAP;AACD;;AAED,UAAMD,YAAY,GAAG;AACnB5B,MAAAA,QADmB;AAEnBC,MAAAA,UAAU,EAAE,MAAM;AAChBwB,QAAAA,iBAAiB,GAAGP,YAAY,CAACO,iBAAD,EAAoBG,YAApB,CAAhC;AACD;AAJkB,KAArB;AAMAH,IAAAA,iBAAiB,GAAG,CAACG,YAAD,EAAe,GAAGH,iBAAlB,CAApB;AAEA,WAAOG,YAAP;AACD,GAtBD;;AAwBA,QAAM1B,gBAAgB,GAAG,MAAM;AAC7B,QAAIsB,SAAJ,EAAe;AACb,YAAMb,WAAN;AACD;AACF,GAJD;;AAMA,SAAO;AACLmB,IAAAA,KAAK,EAAE;AACL/B,MAAAA,QADK;;AAEL,UAAII,qBAAJ,GAA4B;AAC1B,eAAOqB,SAAP;AACD,OAJI;;AAKLtB,MAAAA;AALK,KADF;AAQLwB,IAAAA;AARK,GAAP;AAUD,CAzDM;;MCFMK,iBAAiB,GAAIC,OAAD,IAAa;AAC5C,SAAOA,OAAO,GAAGC,KAAV,CAAiB9E,KAAD,IAAW;AAChC,QAAI8D,aAAa,CAAC9D,KAAD,CAAjB,EAA0B;AACxB;AACA;AACA;AACA,aAAOA,KAAP;AACD;;AACD,UAAMA,KAAN;AACD,GARM,CAAP;AASD,CAVM;;MCEM+E,aAAa,GAAG,OAAOlM,GAAP,EAAY;AAAEmM,EAAAA,aAAa,GAAG;AAAlB,IAA2B,EAAvC,KAA8C;AACzE,QAAMC,YAAY,GAAGnI,8BAA8B,CAACjE,GAAD,CAAnD;AACA,QAAMqM,aAAa,GAAGnH,mBAAmB,CAACkH,YAAD,CAAzC;AACA,QAAME,OAAO,GAAGC,IAAI,CAACC,GAAL,EAAhB;AACA,MAAIC,YAAY,GAAG,CAAnB;;AAEA,QAAMC,OAAO,GAAG,MAAM;AACpB,WAAOC,YAAY,CAACN,aAAD,EAAgB;AACjCO,MAAAA,6BAA6B,EAAE,MAAOzF,KAAP,IAAiB;AAC9CsF,QAAAA,YAAY;AACZ,cAAMI,KAAK,GAAGN,IAAI,CAACC,GAAL,EAAd;AACA,cAAMM,gBAAgB,GAAGD,KAAK,GAAGP,OAAjC;;AACA,YAAIQ,gBAAgB,GAAGX,aAAvB,EAAsC;AACpC,gBAAMhF,KAAN;AACD;;AAED,eAAO,IAAIJ,OAAJ,CAAaC,OAAD,IAAa;AAC9B+F,UAAAA,UAAU,CAAC,MAAM;AACf/F,YAAAA,OAAO,CAAC0F,OAAO,EAAR,CAAP;AACD,WAFS,EAEPD,YAFO,CAAV;AAGD,SAJM,CAAP;AAKD;AAdgC,KAAhB,CAAnB;AAgBD,GAjBD;;AAmBA,SAAOC,OAAO,EAAd;AACD,CA1BM;;AA4BP,MAAMC,YAAY,GAAG,CAACN,aAAD,EAAgB;AAAEO,EAAAA,6BAA6B,GAAG;AAAlC,IAA2C,EAA3D,KAAkE;AACrF,SAAO,IAAI7F,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC+F,IAAAA,UAAO,CAACX,aAAD,EAAgB,CAAClF,KAAD,EAAQ8F,KAAR,KAAkB;AACvC,UAAI9F,KAAJ,EAAW;AACT;AACA,YAAIyF,6BAA6B,KAAKzF,KAAK,CAAC2B,IAAN,KAAe,QAAf,IAA2B3B,KAAK,CAAC2B,IAAN,KAAe,QAA/C,CAAjC,EAA2F;AACzF9B,UAAAA,OAAO,CAAC4F,6BAA6B,CAACzF,KAAD,CAA9B,CAAP;AACD,SAFD,MAEO;AACLF,UAAAA,MAAM,CAACE,KAAD,CAAN;AACD;AACF,OAPD,MAOO;AACLH,QAAAA,OAAO,CAACiG,KAAD,CAAP;AACD;AACF,KAXM,CAAP;AAYD,GAbM,CAAP;AAcD,CAfD;;AChCO,MAAMC,iBAAiB,GAAG,CAACC,QAAD,EAAWC,aAAX,KAA6B;AAC5D,QAAMC,4BAA4B,GAAGC,gCAAgC,CAACH,QAAD,EAAWC,aAAX,CAArE,CAD4D;;AAI5D,MAAIC,4BAA4B,KAAK,CAAC,CAAtC,EAAyC;AACvC,WAAOF,QAAP;AACD;;AAED,QAAMI,YAAY,GAAGJ,QAAQ,CAACpM,KAAT,CAAe,CAAf,EAAkBsM,4BAA4B,GAAG,CAAjD,CAArB,CAR4D;;AAW5D,MAAIF,QAAQ,CAACK,MAAT,CAAgBH,4BAAhB,MAAkD,GAAtD,EAA2D;AACzD,WAAOE,YAAP;AACD;;AAED,MAAIH,aAAa,CAACI,MAAd,CAAqBH,4BAArB,MAAuD,GAA3D,EAAgE;AAC9D,WAAOE,YAAP;AACD;;AAED,QAAME,wBAAwB,GAAGF,YAAY,CAACG,WAAb,CAAyB,GAAzB,CAAjC;AACA,SAAOP,QAAQ,CAACpM,KAAT,CAAe,CAAf,EAAkB0M,wBAAwB,GAAG,CAA7C,CAAP;AACD,CArBM;;AAuBP,MAAMH,gCAAgC,GAAG,CAAC9M,MAAD,EAASmN,WAAT,KAAyB;AAChE,QAAMC,eAAe,GAAGnM,IAAI,CAACoM,GAAL,CAASrN,MAAM,CAACJ,MAAhB,EAAwBuN,WAAW,CAACvN,MAApC,CAAxB;AACA,MAAIkL,CAAC,GAAG,CAAR;;AACA,SAAOA,CAAC,GAAGsC,eAAX,EAA4B;AAC1B,UAAME,IAAI,GAAGtN,MAAM,CAACgN,MAAP,CAAclC,CAAd,CAAb;AACA,UAAMyC,SAAS,GAAGJ,WAAW,CAACH,MAAZ,CAAmBlC,CAAnB,CAAlB;;AACA,QAAIwC,IAAI,KAAKC,SAAb,EAAwB;AACtB,aAAOzC,CAAP;AACD;;AACDA,IAAAA,CAAC;AACF;;AACD,MAAI9K,MAAM,CAACJ,MAAP,KAAkBuN,WAAW,CAACvN,MAAlC,EAA0C;AACxC,WAAO,CAAC,CAAR;AACD,GAb+D;;;AAehE,SAAOwN,eAAP;AACD,CAhBD;;ACvBO,MAAMI,2BAA2B,GAAIb,QAAD,IAAc;AACvD,MAAIA,QAAQ,CAAClK,QAAT,CAAkB,GAAlB,CAAJ,EAA4B;AAC1B,WAAOkK,QAAP;AACD;;AAED,QAAMc,cAAc,GAAGd,QAAQ,CAACO,WAAT,CAAqB,GAArB,CAAvB;;AACA,MAAIO,cAAc,KAAK,CAAC,CAAxB,EAA2B;AACzB,WAAO,EAAP;AACD;;AAED,SAAOd,QAAQ,CAACpM,KAAT,CAAe,CAAf,EAAkBkN,cAAc,GAAG,CAAnC,CAAP;AACD,CAXM;;MCGMC,gBAAgB,GAAG,CAACC,MAAD,EAASC,UAAT,KAAwB;AACtD,QAAMpO,GAAG,GAAG,IAAI8C,GAAJ,CAAQqL,MAAR,CAAZ;AACA,QAAM5J,OAAO,GAAG,IAAIzB,GAAJ,CAAQsL,UAAR,CAAhB;;AAEA,MAAIpO,GAAG,CAACqO,QAAJ,KAAiB9J,OAAO,CAAC8J,QAA7B,EAAuC;AACrC,WAAOF,MAAP;AACD;;AAED,MAAInO,GAAG,CAACsO,QAAJ,KAAiB/J,OAAO,CAAC+J,QAAzB,IAAqCtO,GAAG,CAACuO,QAAJ,KAAiBhK,OAAO,CAACgK,QAAlE,EAA4E;AAC1E,WAAOJ,MAAM,CAACpN,KAAP,CAAaf,GAAG,CAACqO,QAAJ,CAAajO,MAA1B,CAAP;AACD;;AAED,MAAIJ,GAAG,CAACwO,IAAJ,KAAajK,OAAO,CAACiK,IAAzB,EAA+B;AAC7B,WAAOL,MAAM,CAACpN,KAAP,CAAaf,GAAG,CAACqO,QAAJ,CAAajO,MAA1B,CAAP;AACD;;AAED,QAAM;AAAE+M,IAAAA,QAAF;AAAY5D,IAAAA,IAAZ;AAAkBkF,IAAAA;AAAlB,MAA6BzO,GAAnC;;AACA,MAAImN,QAAQ,KAAK,GAAjB,EAAsB;AACpB,WAAO5I,OAAO,CAAC4I,QAAR,CAAiBpM,KAAjB,CAAuB,CAAvB,CAAP;AACD;;AAED,QAAM;AAAEoM,IAAAA,QAAQ,EAAEuB;AAAZ,MAA6BnK,OAAnC;AAEA,QAAMoK,cAAc,GAAGzB,iBAAiB,CAACC,QAAD,EAAWuB,YAAX,CAAxC;;AACA,MAAI,CAACC,cAAL,EAAqB;AACnB,WAAOR,MAAP;AACD;;AAED,QAAMS,gBAAgB,GAAGzB,QAAQ,CAACpM,KAAT,CAAe4N,cAAc,CAACvO,MAA9B,CAAzB;AACA,QAAMyO,oBAAoB,GAAGH,YAAY,CAAC3N,KAAb,CAAmB4N,cAAc,CAACvO,MAAlC,CAA7B;AACA,QAAM0O,6BAA6B,GAAGd,2BAA2B,CAACa,oBAAD,CAAjE;AACA,QAAME,2BAA2B,GAAGD,6BAA6B,CAACE,OAA9B,CAAsC,QAAtC,EAAgD,KAAhD,CAApC;AAEA,QAAMC,gBAAgB,GAAI,GAAEF,2BAA4B,GAAEH,gBAAiB,EAA3E;AACA,SAAQ,GAAEK,gBAAiB,GAAER,MAAO,GAAElF,IAAK,EAA3C;AACD,CAnCM;;MCHM2F,gBAAgB,GAAG,CAACC,WAAD,EAAcC,aAAd,KAAgC;AAC9D,QAAMC,aAAa,GAAGF,WAAW,CAACG,KAAZ,CAAkB,GAAlB,CAAtB;AACA,QAAMC,cAAc,GAAGH,aAAa,CAACE,KAAd,CAAoB,GAApB,CAAvB;AAEA,QAAME,UAAU,GAAGH,aAAa,CAACjP,MAAjC;AACA,QAAMqP,WAAW,GAAGF,cAAc,CAACnP,MAAnC;AAEA,QAAMsP,SAAS,GAAGjO,IAAI,CAACC,GAAL,CAAS8N,UAAT,EAAqBC,WAArB,CAAlB;AACA,MAAInE,CAAC,GAAG,CAAR;;AACA,SAAOA,CAAC,GAAGoE,SAAX,EAAsB;AACpB,UAAMC,cAAc,GAAGrE,CAAC,IAAI+D,aAA5B;AACA,UAAMO,eAAe,GAAGtE,CAAC,IAAIiE,cAA7B,CAFoB;;AAIpB,QAAI,CAACI,cAAL,EAAqB,OAAO,CAAC,CAAR;AACrB,QAAI,CAACC,eAAL,EAAsB,OAAO,CAAC,CAAR;AAEtB,UAAMC,cAAc,GAAGvE,CAAC,KAAK+D,aAAa,CAACjP,MAAd,GAAuB,CAApD;AACA,UAAM0P,eAAe,GAAGxE,CAAC,KAAKiE,cAAc,CAACnP,MAAf,GAAwB,CAAtD,CARoB;;AAUpB,QAAIyP,cAAc,IAAI,CAACC,eAAvB,EAAwC,OAAO,CAAC,CAAR;AACxC,QAAI,CAACD,cAAD,IAAmBC,eAAvB,EAAwC,OAAO,CAAC,CAAR;AAExC,UAAMC,QAAQ,GAAGV,aAAa,CAAC/D,CAAD,CAA9B;AACA,UAAM0E,SAAS,GAAGT,cAAc,CAACjE,CAAD,CAAhC;AACAA,IAAAA,CAAC,GAfmB;;AAiBpB,UAAM2E,UAAU,GAAGF,QAAQ,CAACG,aAAT,CAAuBF,SAAvB,CAAnB;AACA,QAAIC,UAAU,KAAK,CAAnB,EAAsB,OAAOA,UAAP;AACvB;;AAED,MAAIT,UAAU,GAAGC,WAAjB,EAA8B,OAAO,CAAC,CAAR;AAC9B,MAAID,UAAU,GAAGC,WAAjB,EAA8B,OAAO,CAAC,CAAR;AAC9B,SAAO,CAAP;AACD,CAjCM;;MCQMU,YAAY,GAAG,OAAO;AACjC9F,EAAAA,iBAAiB,GAAGP,uBAAuB,EADV;AAEjCsC,EAAAA,YAFiC;AAGjCpK,EAAAA,gBAHiC;AAIjCgB,EAAAA,SAJiC;AAKjCoN,EAAAA,qBAAqB,GAAG,MAAM;AALG,CAAP,KAMtB;AACJ,QAAMC,gBAAgB,GAAGpM,8BAA8B,CAACmI,YAAD,CAAvD;;AACA,MAAI,OAAOpJ,SAAP,KAAqB,UAAzB,EAAqC;AACnC,UAAM,IAAIzD,SAAJ,CAAe,qCAAoCyD,SAAU,EAA7D,CAAN;AACD;;AACD,MAAI,OAAOoN,qBAAP,KAAiC,UAArC,EAAiD;AAC/C,UAAM,IAAI7Q,SAAJ,CAAe,iDAAgD6Q,qBAAsB,EAArF,CAAN;AACD;;AACD,QAAMzN,0BAA0B,GAAGD,yBAAyB,CAACV,gBAAD,EAAmBqO,gBAAnB,CAA5D;AAEA,QAAMC,uBAAuB,GAAG,EAAhC;;AACA,QAAMC,cAAc,GAAG,MAAOnE,YAAP,IAAwB;AAC7C,UAAMoE,cAAc,GAAG,MAAMpG,eAAe,CAAC;AAC3CC,MAAAA,iBAD2C;AAE3CC,MAAAA,KAAK,EAAE,MAAM4B,aAAa,CAACE,YAAD;AAFiB,KAAD,CAA5C;AAKA,UAAMrF,OAAO,CAAC0J,GAAR,CACJD,cAAc,CAACE,GAAf,CAAmB,MAAOC,aAAP,IAAyB;AAC1C,YAAMC,qBAAqB,GAAI,GAAExE,YAAa,GAAEuE,aAAc,EAA9D;AAEA,YAAME,uBAAuB,GAAG,MAAMzG,eAAe,CAAC;AACpDC,QAAAA,iBADoD;AAEpDC,QAAAA,KAAK,EAAE,MACLnC,sBAAsB,CAACyI,qBAAD,EAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACAvI,UAAAA,UAAU,EAAE;AAPgC,SAAxB;AAH4B,OAAD,CAArD;;AAcA,UAAIwI,uBAAuB,CAAClM,WAAxB,EAAJ,EAA2C;AACzC,cAAMmM,eAAe,GAAI,GAAEF,qBAAsB,GAAjD;;AAEA,YACE,CAAC7N,0BAA0B,CAAC;AAC1B/C,UAAAA,GAAG,EAAE8Q,eADqB;AAE1B9O,UAAAA,gBAAgB,EAAEW,0BAFQ;AAG1BK,UAAAA;AAH0B,SAAD,CAD7B,EAME;AACA;AACD;;AAED,cAAMuN,cAAc,CAACO,eAAD,CAApB;AACA;AACD;;AAED,UAAID,uBAAuB,CAACnM,MAAxB,EAAJ,EAAsC;AACpC,cAAMrC,IAAI,GAAGoB,SAAS,CAAC;AACrBzD,UAAAA,GAAG,EAAE4Q,qBADgB;AAErB5O,UAAAA,gBAAgB,EAAEW;AAFG,SAAD,CAAtB;AAIA,YAAI,CAACK,SAAS,CAACX,IAAD,CAAd,EAAsB;AAEtB,cAAM0O,WAAW,GAAG7C,gBAAgB,CAAC0C,qBAAD,EAAwBP,gBAAxB,CAApC;AACA,cAAMW,eAAe,GAAG,MAAM5G,eAAe,CAAC;AAC5CC,UAAAA,iBAD4C;AAE5CC,UAAAA,KAAK,EAAE,MACL8F,qBAAqB,CAAC;AACpB/F,YAAAA,iBADoB;AAEpB0G,YAAAA,WAFoB;AAGpB1O,YAAAA,IAHoB;AAIpB4O,YAAAA,SAAS,EAAEJ;AAJS,WAAD;AAHqB,SAAD,CAA7C;AAUAP,QAAAA,uBAAuB,CAACjN,IAAxB,CAA6B;AAC3B0N,UAAAA,WAD2B;AAE3B1O,UAAAA,IAF2B;AAG3B4O,UAAAA,SAAS,EAAEJ,uBAHgB;AAI3BG,UAAAA;AAJ2B,SAA7B;AAMA;AACD;AACF,KA5DD,CADI,CAAN;AA+DD,GArED;;AAsEA,QAAMT,cAAc,CAACF,gBAAD,CAApB,CAjFI;AAoFJ;AACA;AACA;;AACAC,EAAAA,uBAAuB,CAACY,IAAxB,CAA6B,CAACC,QAAD,EAAWC,SAAX,KAAyB;AACpD,WAAOlC,gBAAgB,CAACiC,QAAQ,CAACJ,WAAV,EAAuBK,SAAS,CAACL,WAAjC,CAAvB;AACD,GAFD;AAGA,SAAOT,uBAAP;AACD,CAjGM;;ACDP,MAAM;AAAEe,EAAAA;AAAF,IAAYC,WAAlB;AAEA,MAAaC,cAAc,GAAG,OAC5BC,WAD4B,EAE5B;AAAEC,EAAAA,SAAS,GAAG,IAAd;AAAoBC,EAAAA,YAAY,GAAG;AAAnC,IAA6C,EAFjB,KAGzB;AACH,QAAMC,cAAc,GAAG1N,8BAA8B,CAACuN,WAAD,CAArD;AACA,QAAMI,eAAe,GAAG1M,mBAAmB,CAACyM,cAAD,CAA3C;AAEA,QAAME,gBAAgB,GAAG,MAAM1J,sBAAsB,CAACwJ,cAAD,EAAiB;AACpEvJ,IAAAA,cAAc,EAAE,IADoD;AAEpEC,IAAAA,UAAU,EAAE;AAFwD,GAAjB,CAArD;;AAKA,MAAIwJ,gBAAJ,EAAsB;AACpB,QAAIA,gBAAgB,CAAClN,WAAjB,EAAJ,EAAoC;AAClC,UAAI+M,YAAJ,EAAkB;AAChB;AACD;;AACD,YAAM,IAAIrR,KAAJ,CAAW,+BAA8BuR,eAAgB,EAAzD,CAAN;AACD;;AAED,UAAME,eAAe,GAAGtN,WAAW,CAACqN,gBAAD,CAAnC;AACA,UAAM,IAAIxR,KAAJ,CACH,6BAA4BuR,eAAgB,uBAAsBE,eAAgB,EAD/E,CAAN;AAGD;;AAED,MAAI;AACF,UAAMT,KAAK,CAACO,eAAD,EAAkB;AAAEH,MAAAA;AAAF,KAAlB,CAAX;AACD,GAFD,CAEE,OAAOtK,KAAP,EAAc;AACd,QAAIuK,YAAY,IAAIvK,KAAK,CAAC2B,IAAN,KAAe,QAAnC,EAA6C;AAC3C;AACD;;AACD,UAAM3B,KAAN;AACD;AACF,CAlCM;;MCTM4K,UAAU,GAAG,CAACrS,SAAD,EAAY6E,OAAZ,KAAwB;AAChD,MAAI,OAAOA,OAAP,KAAmB,WAAvB,EAAoC;AAClC,UAAM,IAAIhF,SAAJ,CAAe,8BAA6BG,SAAU,EAAtD,CAAN;AACD;;AAED,SAAOmD,MAAM,CAAC,IAAIC,GAAJ,CAAQpD,SAAR,EAAmB6E,OAAnB,CAAD,CAAb;AACD,CANM;;MCQMyN,oBAAoB,GAAG,OAClCvL,MADkC,EAElC;AACEiL,EAAAA,YAAY,GAAG,KADjB;AAEED,EAAAA,SAAS,GAAG,KAFd;AAGEQ,EAAAA,UAAU,GAAG,CAHf;AAIEC,EAAAA,UAAU,GAAG,GAJf;AAKEC,EAAAA,WAAW,GAAG;AALhB,IAMI,EAR8B,KAS/B;AACH,QAAMxL,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AAEA,QAAMuC,WAAW,GAAG,MAAMb,sBAAsB,CAACxB,SAAD,EAAY;AAC1DyB,IAAAA,cAAc,EAAE,IAD0C;AAE1DC,IAAAA,UAAU,EAAE;AAF8C,GAAZ,CAAhD;;AAIA,MAAI,CAACW,WAAL,EAAkB;AAChB,QAAI0I,YAAJ,EAAkB;AAChB;AACD;;AACD,UAAM,IAAIrR,KAAJ,CAAW,wBAAuB6E,mBAAmB,CAACyB,SAAD,CAAY,EAAjE,CAAN;AACD,GAZE;AAeH;AACA;;;AACA,MACEqC,WAAW,CAACtE,MAAZ,MACAsE,WAAW,CAACpE,cAAZ,EADA,IAEAoE,WAAW,CAACjE,iBAAZ,EAFA,IAGAiE,WAAW,CAAChE,aAAZ,EAJF,EAKE;AACA,UAAMoN,kBAAkB,CAACzL,SAAS,CAAC1D,QAAV,CAAmB,GAAnB,IAA0B0D,SAAS,CAAC5F,KAAV,CAAgB,CAAhB,EAAmB,CAAC,CAApB,CAA1B,GAAmD4F,SAApD,EAA+D;AACrFsL,MAAAA,UADqF;AAErFC,MAAAA;AAFqF,KAA/D,CAAxB;AAID,GAVD,MAUO,IAAIlJ,WAAW,CAACrE,WAAZ,EAAJ,EAA+B;AACpC,UAAM0N,eAAe,CAACzO,sBAAsB,CAAC+C,SAAD,CAAvB,EAAoC;AACvD8K,MAAAA,SADuD;AAEvDQ,MAAAA,UAFuD;AAGvDC,MAAAA,UAHuD;AAIvDC,MAAAA;AAJuD,KAApC,CAArB;AAMD;AACF,CA5CM;;AA8CP,MAAMC,kBAAkB,GAAG,CAACzL,SAAD,EAAY;AAAEsL,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAZ,KAA2C;AACpE,QAAMtL,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,MAAI2L,UAAU,GAAG,CAAjB;;AACA,QAAM5F,OAAO,GAAG,MAAM;AACpB,WAAO6F,WAAW,CAAC3L,UAAD,EAAa,EAC7B,IAAI0L,UAAU,IAAIL,UAAd,GACA,EADA,GAEA;AACEO,QAAAA,oBAAoB,EAAE,YAAY;AAChCF,UAAAA,UAAU;AACV,iBAAO,IAAIvL,OAAJ,CAAaC,OAAD,IAAa;AAC9B+F,YAAAA,UAAU,CAAC,MAAM;AACf/F,cAAAA,OAAO,CAAC0F,OAAO,EAAR,CAAP;AACD,aAFS,EAEP4F,UAAU,GAAGJ,UAFN,CAAV;AAGD,WAJM,CAAP;AAKD;AARH,OAFJ;AAD6B,KAAb,CAAlB;AAcD,GAfD;;AAgBA,SAAOxF,OAAO,EAAd;AACD,CArBD;;AAuBA,MAAM6F,WAAW,GAAG,CAAC3L,UAAD,EAAa;AAAE4L,EAAAA,oBAAoB,GAAG;AAAzB,IAAkC,EAA/C,KAAsD;AACxE,SAAO,IAAIzL,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCwL,IAAAA,SAAM,CAAC7L,UAAD,EAAcO,KAAD,IAAW;AAC5B,UAAIA,KAAJ,EAAW;AACT,YAAIA,KAAK,CAAC2B,IAAN,KAAe,QAAnB,EAA6B;AAC3B9B,UAAAA,OAAO;AACR,SAFD,MAEO,IACLwL,oBAAoB,KACnBrL,KAAK,CAAC2B,IAAN,KAAe,OAAf,IACC3B,KAAK,CAAC2B,IAAN,KAAe,QADhB,IAEC3B,KAAK,CAAC2B,IAAN,KAAe,QAFhB,IAGC3B,KAAK,CAAC2B,IAAN,KAAe,QAJG,CADf,EAML;AACA9B,UAAAA,OAAO,CAACwL,oBAAoB,CAACrL,KAAD,CAArB,CAAP;AACD,SARM,MAQA;AACLF,UAAAA,MAAM,CAACE,KAAD,CAAN;AACD;AACF,OAdD,MAcO;AACLH,QAAAA,OAAO;AACR;AACF,KAlBK,CAAN;AAmBD,GApBM,CAAP;AAqBD,CAtBD;;AAwBA,MAAMqL,eAAe,GAAG,OACtBhC,gBADsB,EAEtB;AAAE4B,EAAAA,UAAF;AAAcC,EAAAA,UAAd;AAA0BT,EAAAA,SAA1B;AAAqCU,EAAAA;AAArC,CAFsB,KAGnB;AACH,QAAMO,KAAK,GAAG,MAAO/L,SAAP,IAAqB;AACjC,UAAMqC,WAAW,GAAG,MAAMb,sBAAsB,CAACxB,SAAD,EAAY;AAC1DyB,MAAAA,cAAc,EAAE,IAD0C;AAE1DC,MAAAA,UAAU,EAAE;AAF8C,KAAZ,CAAhD,CADiC;;AAOjC,QAAIW,WAAW,KAAK,IAApB,EAA0B;AACxB;AACD;;AAED,QAAIA,WAAW,CAACtE,MAAZ,MAAwBsE,WAAW,CAACjE,iBAAZ,EAAxB,IAA2DiE,WAAW,CAAChE,aAAZ,EAA/D,EAA4F;AAC1F,YAAM2N,SAAS,CAAChM,SAAD,CAAf;AACD,KAFD,MAEO,IAAIqC,WAAW,CAACpE,cAAZ,EAAJ,EAAkC;AACvC,YAAMgO,iBAAiB,CAACjM,SAAD,CAAvB;AACD,KAFM,MAEA,IAAIqC,WAAW,CAACrE,WAAZ,EAAJ,EAA+B;AACpC,YAAM4L,cAAc,CAAE,GAAE5J,SAAU,GAAd,CAApB;AACD;AACF,GAlBD;;AAoBA,QAAM4J,cAAc,GAAG,MAAOnE,YAAP,IAAwB;AAC7C,UAAMC,aAAa,GAAGnH,mBAAmB,CAACkH,YAAD,CAAzC;AACA,UAAMyG,oBAAoB,GAAGpB,SAAS,GAClC;AACEqB,MAAAA,mBAAmB,EAAE,YAAY;AAC/B,cAAMC,sBAAsB,CAAC3G,YAAD,CAA5B;AACA,cAAMmE,cAAc,CAACnE,YAAD,CAApB;AACD;AAJH,KADkC,GAOlC,EAPJ;AAQA,UAAM4G,oBAAoB,CAAC3G,aAAD,EAAgB,EACxC,GAAGwG,oBADqC;AAExC;AACA,UAAI5K,OAAO,CAACC,QAAR,KAAqB,OAArB,GACA;AACE+K,QAAAA,qBAAqB,EAAE,MAAO9L,KAAP,IAAiB;AACtC,cAAI+L,gBAAJ;;AACA,cAAI;AACF,kBAAMC,EAAE,GAAGC,WAAQ,CAAC/G,aAAD,CAAnB;AACAgH,YAAAA,YAAS,CAACF,EAAD,CAAT;AACD,WAHD,CAGE,OAAO/O,CAAP,EAAU;AACV8O,YAAAA,gBAAgB,GAAG9O,CAAnB;AACD;;AAED,cAAI8O,gBAAJ,EAAsB;AACpB,gBAAIA,gBAAgB,CAACpK,IAAjB,KAA0B,QAA9B,EAAwC;AACtC;AACD;;AACDwK,YAAAA,OAAO,CAACnM,KAAR,CAAe,4CAA2C+L,gBAAgB,CAACK,KAAM,EAAjF;AACA,kBAAMpM,KAAN;AACD;;AAED,gBAAM6L,oBAAoB,CAAC3G,aAAD,EAAgB,EAAE,GAAGwG;AAAL,WAAhB,CAA1B;AACD;AAnBH,OADA,GAsBA,EAtBJ;AAHwC,KAAhB,CAA1B;AA2BD,GArCD;;AAuCA,QAAME,sBAAsB,GAAG,MAAO3G,YAAP,IAAwB;AACrD,UAAMa,KAAK,GAAG,MAAMf,aAAa,CAACE,YAAD,CAAjC;AACA,UAAMrF,OAAO,CAAC0J,GAAR,CACJxD,KAAK,CAACyD,GAAN,CAAU,MAAOpR,IAAP,IAAgB;AACxB,YAAMU,GAAG,GAAG+R,UAAU,CAACzS,IAAD,EAAO8M,YAAP,CAAtB;AACA,YAAMsG,KAAK,CAAC1S,GAAD,CAAX;AACD,KAHD,CADI,CAAN;AAMD,GARD;;AAUA,QAAM2S,SAAS,GAAG,MAAOxN,OAAP,IAAmB;AACnC,UAAMiN,kBAAkB,CAACjN,OAAD,EAAU;AAAE8M,MAAAA,UAAF;AAAcC,MAAAA;AAAd,KAAV,CAAxB;AACD,GAFD;;AAIA,QAAMU,iBAAiB,GAAG,MAAOY,eAAP,IAA2B;AACnD,UAAMpB,kBAAkB,CAACoB,eAAD,EAAkB;AAAEvB,MAAAA,UAAF;AAAcC,MAAAA;AAAd,KAAlB,CAAxB;AACD,GAFD;;AAIA,MAAIC,WAAJ,EAAiB;AACf,UAAMY,sBAAsB,CAAC1C,gBAAD,CAA5B;AACD,GAFD,MAEO;AACL,UAAME,cAAc,CAACF,gBAAD,CAApB;AACD;AACF,CAtFD;;AAwFA,MAAM2C,oBAAoB,GAAG,CAC3B3G,aAD2B,EAE3B;AAAEyG,EAAAA,mBAAmB,GAAG,IAAxB;AAA8BG,EAAAA,qBAAqB,GAAG;AAAtD,IAA+D,EAFpC,KAGxB;AACH,SAAO,IAAIlM,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCwM,IAAAA,QAAK,CAACpH,aAAD,EAAgB,CAAClF,KAAD,EAAQuM,WAAR,KAAwB;AAC3C,UAAIvM,KAAJ,EAAW;AACT,YAAI8L,qBAAqB,IAAI9L,KAAK,CAAC2B,IAAN,KAAe,OAA5C,EAAqD;AACnD9B,UAAAA,OAAO,CAACiM,qBAAqB,CAAC9L,KAAD,CAAtB,CAAP;AACD,SAFD,MAEO,IAAIA,KAAK,CAAC2B,IAAN,KAAe,QAAnB,EAA6B;AAClC9B,UAAAA,OAAO;AACR,SAFM,MAEA,IACL8L,mBAAmB;AAElB3L,QAAAA,KAAK,CAAC2B,IAAN,KAAe,WAAf;AAEC3B,QAAAA,KAAK,CAAC2B,IAAN,KAAe,QAJE,CADd,EAML;AACA9B,UAAAA,OAAO,CAAC8L,mBAAmB,CAAC3L,KAAD,CAApB,CAAP;AACD,SARM,MAQA;AACLF,UAAAA,MAAM,CAACE,KAAD,CAAN;AACD;AACF,OAhBD,MAgBO;AACLH,QAAAA,OAAO,CAAC0M,WAAD,CAAP;AACD;AACF,KApBI,CAAL;AAqBD,GAtBM,CAAP;AAuBD,CA3BD;;MCtLaC,oBAAoB,GAAG,MAAOlN,MAAP,IAAkB;AACpD,QAAMhC,KAAK,GAAG,MAAM0D,sBAAsB,CAAC1B,MAAD,EAAS;AAAE2B,IAAAA,cAAc,EAAE,IAAlB;AAAwBC,IAAAA,UAAU,EAAE;AAApC,GAAT,CAA1C;;AACA,MAAI5D,KAAK,KAAK,IAAd,EAAoB;AAClB;AACA,WAAO8M,cAAc,CAAC9K,MAAD,CAArB;AACD;;AACD,MAAIhC,KAAK,CAACE,WAAN,EAAJ,EAAyB;AACvB;AACA,WAAOqN,oBAAoB,CAACvL,MAAD,EAAS;AAClCiL,MAAAA,YAAY,EAAE,IADoB;AAElCD,MAAAA,SAAS,EAAE,IAFuB;AAGlCU,MAAAA,WAAW,EAAE;AAHqB,KAAT,CAA3B;AAKD;;AAED,QAAMyB,UAAU,GAAGpP,WAAW,CAACC,KAAD,CAA9B;AACA,QAAMmC,UAAU,GAAG1B,mBAAmB,CAACZ,yBAAyB,CAACmC,MAAD,CAA1B,CAAtC;AACA,QAAM,IAAIpG,KAAJ,CACH,4CAA2CuG,UAAW,WAAUgN,UAAW,UADxE,CAAN;AAGD,CApBM;;ACLP,MAAM5L,WAAS,GAAGC,OAAO,CAACC,QAAR,KAAqB,OAAvC;AACA,MAAM2L,eAAe,GAAG9P,mBAAmB,CAACkE,OAAO,CAAC6L,GAAR,EAAD,CAA3C;AAEA;;;;;;;;;;;;;AAaA,MAAaC,wBAAwB,GAAG,CAAC/T,GAAD,EAAMuE,OAAN,KAAkB;AACxD,MAAI;AACFvE,IAAAA,GAAG,GAAG6C,MAAM,CAAC,IAAIC,GAAJ,CAAQ9C,GAAR,CAAD,CAAZ;AACD,GAFD,CAEE,OAAOoE,CAAP,EAAU;AACV,UAAM,IAAI/D,KAAJ,CAAW,iCAAgCL,GAAI,EAA/C,CAAN;AACD;;AAED,MAAI,CAACgI,WAAL,EAAgB;AACd,WAAOhI,GAAP;AACD;;AAED,MAAI;AACFuE,IAAAA,OAAO,GAAG1B,MAAM,CAAC,IAAIC,GAAJ,CAAQyB,OAAR,CAAD,CAAhB;AACD,GAFD,CAEE,OAAOH,CAAP,EAAU;AACV,UAAM,IAAI/D,KAAJ,CACH,qCAAoCkE,OAAQ,sCAAqCvE,GAAI,EADlF,CAAN;AAGD;;AAED,MAAI,CAACA,GAAG,CAACqE,UAAJ,CAAe,SAAf,CAAL,EAAgC;AAC9B,WAAOrE,GAAP;AACD;;AACD,QAAMgU,aAAa,GAAGhU,GAAG,CAACe,KAAJ,CAAU,UAAUX,MAApB,CAAtB,CAtBwD;;AAwBxD,MAAI6T,kBAAkB,CAACD,aAAD,CAAtB,EAAuC;AACrC,WAAOhU,GAAP;AACD,GA1BuD;;;AA6BxD,QAAMkU,iBAAiB,GAAG3P,OAAO,CAACF,UAAR,CAAmB,SAAnB,IAAgCE,OAAhC,GAA0CsP,eAApE;AACA,QAAMM,WAAW,GAAGF,kBAAkB,CAACC,iBAAiB,CAACnT,KAAlB,CAAwB,UAAUX,MAAlC,CAAD,CAAtC;;AACA,MAAI,CAAC+T,WAAL,EAAkB;AAChB,UAAM,IAAI9T,KAAJ,CACH,4CAA2CkE,OAAQ,sCAAqCvE,GAAI,EADzF,CAAN;AAGD;;AACD,SAAQ,WAAUmU,WAAY,IAAGH,aAAc,EAA/C;AACD,CArCM;;AAuCP,MAAMC,kBAAkB,GAAIG,SAAD,IAAe;AACxC;AACA,MAAI,WAAWxU,IAAX,CAAgBwU,SAAS,CAAC,CAAD,CAAzB,KAAiCA,SAAS,CAAC,CAAD,CAAT,KAAiB,GAAtD,EAA2D;AACzD,WAAOA,SAAS,CAAC,CAAD,CAAhB;AACD;;AACD,SAAO,IAAP;AACD,CAND;;ACzDO,MAAMC,4BAA4B,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACjE,MAAID,OAAO,CAACrR,QAAR,CAAiB,GAAjB,CAAJ,EAA2BqR,OAAO,GAAGA,OAAO,CAACvT,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAV;AAC3B,MAAIwT,QAAQ,CAACtR,QAAT,CAAkB,GAAlB,CAAJ,EAA4BsR,QAAQ,GAAGA,QAAQ,CAACxT,KAAT,CAAe,CAAf,EAAkB,CAAC,CAAnB,CAAX;AAC5B,SAAOuT,OAAO,KAAKC,QAAnB;AACD,CAJM;;MCKMC,uBAAuB,GAAG,MAAOhD,WAAP,IAAuB;AAC5D,QAAMG,cAAc,GAAGrN,yBAAyB,CAACkN,WAAD,CAAhD;AACA,QAAMI,eAAe,GAAG1M,mBAAmB,CAACyM,cAAD,CAA3C;AACA,QAAM8C,qBAAqB,GAAGC,YAAO,CAAC9C,eAAD,CAArC;AAEA,SAAOL,cAAc,CAACkD,qBAAD,EAAwB;AAAEhD,IAAAA,SAAS,EAAE,IAAb;AAAmBC,IAAAA,YAAY,EAAE;AAAjC,GAAxB,CAArB;AACD,CANM;;MCDMiD,mCAAmC,GAAG,CAAClO,MAAD,EAASmO,KAAT,KAAmB;AACpE,QAAMjO,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AACA,QAAMG,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AACA,QAAMkO,UAAU,GAAG,OAAOD,KAAP,KAAiB,QAAjB,GAA4B,IAAIrI,IAAJ,CAAS9K,IAAI,CAACqT,KAAL,CAAWF,KAAX,CAAT,CAA5B,GAA0DA,KAA7E,CAHoE;AAKpE;;AACA,QAAMG,UAAU,GAAGF,UAAnB;AAEA,SAAO,IAAI9N,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC+N,IAAAA,SAAM,CAACpO,UAAD,EAAamO,UAAb,EAAyBF,UAAzB,EAAsC1N,KAAD,IAAW;AACpD,UAAIA,KAAJ,EAAW;AACTF,QAAAA,MAAM,CAACE,KAAD,CAAN;AACD,OAFD,MAEO;AACLH,QAAAA,OAAO;AACR;AACF,KANK,CAAN;AAOD,GARM,CAAP;AASD,CAjBM;;ACJA,MAAMiO,6BAA6B,GAAIzU,MAAD,IAAYA,MAAM,CAACwO,OAAP,CAAe,KAAf,EAAsB,GAAtB,CAAlD;;MCOMkG,gBAAgB,GAAIlV,GAAD,IAAS;AACvC,QAAMwT,eAAe,GAAGlP,yBAAyB,CAACtE,GAAD,CAAjD;AACA,QAAMmV,gBAAgB,GAAGjQ,mBAAmB,CAACsO,eAAD,CAA5C;AAEA,SAAO,IAAIzM,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCmO,IAAAA,WAAQ,CAACD,gBAAD,EAAmB,CAAChO,KAAD,EAAQkO,YAAR,KAAyB;AAClD,UAAIlO,KAAJ,EAAW;AACTF,QAAAA,MAAM,CAACE,KAAD,CAAN;AACD,OAFD,MAEO;AACLH,QAAAA,OAAO,CACLnD,gBAAgB,CAACwR,YAAD,CAAhB,GACItR,mBAAmB,CAACsR,YAAD,CADvB,GAEIJ,6BAA6B,CAACI,YAAD,CAH5B,CAAP;AAKD;AACF,KAVO,CAAR;AAWD,GAZM,CAAP;AAaD,CAjBM;;ACEP,MAAM;AAAEC,EAAAA;AAAF,IAAchE,WAApB;AACA,MAAMtJ,WAAS,GAAGC,OAAO,CAACC,QAAR,KAAqB,OAAvC;AAEA,MAAaqN,iBAAiB,GAAG,OAAO/D,WAAP,EAAoBgE,MAApB,EAA4B;AAAEC,EAAAA;AAAF,IAAW,EAAvC,KAA8C;AAC7E,QAAM9D,cAAc,GAAGrN,yBAAyB,CAACkN,WAAD,CAAhD;AAEA,MAAIkE,WAAJ;;AACA,MAAI,OAAOF,MAAP,KAAkB,QAAtB,EAAgC;AAC9B;AACA,QAAI3R,gBAAgB,CAAC2R,MAAD,CAApB,EAA8B;AAC5BE,MAAAA,WAAW,GAAGF,MAAd;AACD,KAFD;AAAA,SAIK,IAAIA,MAAM,CAACnR,UAAP,CAAkB,IAAlB,KAA2BmR,MAAM,CAACnR,UAAP,CAAkB,KAAlB,CAA/B,EAAyD;AAC5DqR,QAAAA,WAAW,GAAGF,MAAd;AACD,OAFI;AAAA,WAIA;AACH,gBAAMG,SAAS,GAAG9S,MAAM,CAAC,IAAIC,GAAJ,CAAQ0S,MAAR,EAAgB7D,cAAhB,CAAD,CAAxB;AACA+D,UAAAA,WAAW,GAAGxQ,mBAAmB,CAACyQ,SAAD,CAAjC;AACD;AACF,GAdD,MAcO,IAAIH,MAAM,YAAY1S,GAAtB,EAA2B;AAChC4S,IAAAA,WAAW,GAAGxQ,mBAAmB,CAACsQ,MAAD,CAAjC;AACD,GAFM,MAEA;AACL,UAAM,IAAIjW,SAAJ,CAAe,6DAA4DiW,MAAO,EAAlF,CAAN;AACD;;AAED,MAAIxN,WAAS,IAAI,OAAOyN,IAAP,KAAgB,QAAjC,EAA2C;AACzC;AACA;AACA,UAAME,SAAS,GAAG5D,UAAU,CAAC2D,WAAD,EAAc/D,cAAd,CAA5B;AACA,UAAMiE,WAAW,GAAG,MAAMzN,sBAAsB,CAACwN,SAAD,EAAY;AAAEvN,MAAAA,cAAc,EAAE;AAAlB,KAAZ,CAAhD;AACAqN,IAAAA,IAAI,GAAGG,WAAW,IAAIA,WAAW,CAACjR,WAAZ,EAAf,GAA2C,KAA3C,GAAmD,MAA1D;AACD;;AAED,QAAMwQ,gBAAgB,GAAGjQ,mBAAmB,CAACyM,cAAD,CAA5C;;AACA,MAAI;AACF,UAAM2D,OAAO,CAACI,WAAD,EAAcP,gBAAd,EAAgCM,IAAhC,CAAb;AACD,GAFD,CAEE,OAAOtO,KAAP,EAAc;AACd,QAAIA,KAAK,CAAC2B,IAAN,KAAe,QAAnB,EAA6B;AAC3B,YAAM0L,uBAAuB,CAAC7C,cAAD,CAA7B;AACA,YAAM2D,OAAO,CAACI,WAAD,EAAcP,gBAAd,EAAgCM,IAAhC,CAAb;AACA;AACD;;AACD,UAAMtO,KAAN;AACD;AACF,CA3CM;;MCZM0O,aAAa,GAAG,CAACC,QAAD,EAAWC,aAAX,KAA6B;AACxD,QAAM/V,GAAG,GAAG,IAAI8C,GAAJ,CAAQgT,QAAR,CAAZ;AACA,QAAME,QAAQ,GAAG,IAAIlT,GAAJ,CAAQiT,aAAR,CAAjB;;AAEA,MAAI/V,GAAG,CAACiW,MAAJ,KAAeD,QAAQ,CAACC,MAA5B,EAAoC;AAClC,WAAO,KAAP;AACD;;AAED,QAAMC,WAAW,GAAGlW,GAAG,CAACmN,QAAxB;AACA,QAAMgJ,gBAAgB,GAAGH,QAAQ,CAAC7I,QAAlC;;AACA,MAAI+I,WAAW,KAAKC,gBAApB,EAAsC;AACpC,WAAO,KAAP;AACD;;AAED,SAAOD,WAAW,CAAC7R,UAAZ,CAAuB8R,gBAAvB,CAAP;AACD,CAfM;;ACAP;AACA,MAoBaC,kBAAkB,GAAG,OAChC3P,MADgC,EAEhC+K,WAFgC,EAGhC;AACE6E,EAAAA,SAAS,GAAG,KADd;AAEEC,EAAAA,YAAY,GAAG,IAFjB;AAGEC,EAAAA,aAAa,GAAGD,YAHlB;AAIEE,EAAAA,mBAAmB,GAAGF,YAJxB;AAKE5E,EAAAA,YAAY,GAAG,KALjB;AAMErJ,EAAAA,UAAU,GAAG;AANf,IAOI,EAV4B,KAW7B;AACH,QAAM1B,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AACA,MAAIkL,cAAc,GAAGrN,yBAAyB,CAACkN,WAAD,CAA9C;AACA,QAAM5K,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,QAAMqC,WAAW,GAAG,MAAMb,sBAAsB,CAACxB,SAAD,EAAY;AAC1DyB,IAAAA,cAAc,EAAE,IAD0C;AAE1DC,IAAAA,UAAU,EAAE;AAF8C,GAAZ,CAAhD;;AAIA,MAAI,CAACW,WAAL,EAAkB;AAChB,UAAM,IAAI3I,KAAJ,CAAW,sBAAqBuG,UAAW,EAA3C,CAAN;AACD;;AAED,MAAIiL,gBAAgB,GAAG,MAAM1J,sBAAsB,CAACwJ,cAAD,EAAiB;AAClEvJ,IAAAA,cAAc,EAAE,IADkD;AAElE;AACA;AACAC,IAAAA,UAAU,EAAE;AAJsD,GAAjB,CAAnD;;AAOA,MAAIA,UAAU,IAAIwJ,gBAAd,IAAkCA,gBAAgB,CAACjN,cAAjB,EAAtC,EAAyE;AACvE,UAAM4Q,MAAM,GAAG,MAAMN,gBAAgB,CAACvD,cAAD,CAArC;AACAA,IAAAA,cAAc,GAAGI,UAAU,CAACyD,MAAD,EAAS7D,cAAT,CAA3B;AACAE,IAAAA,gBAAgB,GAAG,MAAM1J,sBAAsB,CAACwJ,cAAD,EAAiB;AAAEvJ,MAAAA,cAAc,EAAE;AAAlB,KAAjB,CAA/C;AACD;;AACD,QAAMwJ,eAAe,GAAG1M,mBAAmB,CAACyM,cAAD,CAA3C;;AAEA,MAAI0C,4BAA4B,CAAC1N,SAAD,EAAYgL,cAAZ,CAAhC,EAA6D;AAC3D,QAAID,YAAJ,EAAkB;AAChB;AACD;;AACD,UAAM,IAAIrR,KAAJ,CAAW,eAAcuG,UAAW,8CAApC,CAAN;AACD;;AAED,MAAIiL,gBAAJ,EAAsB;AACpB,UAAM+B,UAAU,GAAGpP,WAAW,CAACwE,WAAD,CAA9B;AACA,UAAM8I,eAAe,GAAGtN,WAAW,CAACqN,gBAAD,CAAnC;;AAEA,QAAI+B,UAAU,KAAK9B,eAAnB,EAAoC;AAClC,YAAM,IAAIzR,KAAJ,CACH,eAAcuT,UAAW,SAAQhN,UAAW,OAAMgL,eAAgB,4CAA2CgC,UAAW,YAAW9B,eAAgB,GADhJ,CAAN;AAGD;;AACD,QAAI,CAACuE,SAAL,EAAgB;AACd,YAAM,IAAIhW,KAAJ,CACH,eAAcuT,UAAW,SAAQhN,UAAW,OAAMgL,eAAgB,8DAD/D,CAAN;AAGD,KAbmB;;;AAgBpB,UAAMI,oBAAoB,CAACL,cAAD,EAAiB;AAAEF,MAAAA,SAAS,EAAE,IAAb;AAAmBC,MAAAA,YAAY,EAAE;AAAjC,KAAjB,CAA1B;AACD,GAjBD,MAiBO;AACL,UAAM8C,uBAAuB,CAAC7C,cAAD,CAA7B;AACD;;AAED,MAAI3I,WAAW,CAACrE,WAAZ,EAAJ,EAA+B;AAC7BgN,IAAAA,cAAc,GAAG/N,sBAAsB,CAAC+N,cAAD,CAAvC;AACD;;AAED,QAAMe,KAAK,GAAG,OAAO1S,GAAP,EAAYyE,KAAZ,KAAsB;AAClC,QAAIA,KAAK,CAACC,MAAN,MAAkBD,KAAK,CAACM,iBAAN,EAAlB,IAA+CN,KAAK,CAACO,aAAN,EAAnD,EAA0E;AACxE,YAAM2N,SAAS,CAAC3S,GAAD,EAAMyE,KAAN,CAAf;AACD,KAFD,MAEO,IAAIA,KAAK,CAACG,cAAN,EAAJ,EAA4B;AACjC,YAAMgO,iBAAiB,CAAC5S,GAAD,AAAA,CAAvB;AACD,KAFM,MAEA,IAAIyE,KAAK,CAACE,WAAN,EAAJ,EAAyB;AAC9B,YAAM4L,cAAc,CAAC3M,sBAAsB,CAAC5D,GAAD,CAAvB,EAA8ByE,KAA9B,CAApB;AACD;AACF,GARD;;AAUA,QAAMkO,SAAS,GAAG,OAAOxN,OAAP,EAAgB8L,SAAhB,KAA8B;AAC9C,UAAMwF,eAAe,GAAGvI,gBAAgB,CAAC/I,OAAD,EAAUwB,SAAV,CAAxC;AACA,UAAM+P,WAAW,GAAG3E,UAAU,CAAC0E,eAAD,EAAkB9E,cAAlB,CAA9B;AAEA,UAAMgF,oBAAoB,CAACzR,mBAAmB,CAACC,OAAD,CAApB,EAA+BD,mBAAmB,CAACwR,WAAD,CAAlD,CAA1B;AACA,UAAME,SAAS,CAACF,WAAD,EAAczF,SAAd,CAAf;AACD,GAND;;AAQA,QAAM2B,iBAAiB,GAAG,MAAOY,eAAP,IAA2B;AACnD,UAAMqD,uBAAuB,GAAG3I,gBAAgB,CAACsF,eAAD,EAAkB7M,SAAlB,CAAhD;AACA,UAAMmQ,kBAAkB,GAAG,MAAM5B,gBAAgB,CAAC1B,eAAD,CAAjD;AACA,UAAMuD,qBAAqB,GAAGhF,UAAU,CAAC+E,kBAAD,EAAqBtD,eAArB,CAAxC;AACA,UAAMwD,cAAc,GAClBF,kBAAkB,CAACzS,UAAnB,CAA8B,IAA9B,KAAuCyS,kBAAkB,CAACzS,UAAnB,CAA8B,KAA9B,CADzC;AAGA,QAAI4S,sBAAJ;;AACA,QAAIF,qBAAqB,KAAKpQ,SAA9B,EAAyC;AACvCsQ,MAAAA,sBAAsB,GAAGD,cAAc,GAAGF,kBAAH,GAAwBnF,cAA/D;AACD,KAFD,MAEO,IAAIkE,aAAa,CAACkB,qBAAD,EAAwBpQ,SAAxB,CAAjB,EAAqD;AAC1D;AACA;AACA,YAAMuQ,sBAAsB,GAAGhJ,gBAAgB,CAAC6I,qBAAD,EAAwBpQ,SAAxB,CAA/C;AACAsQ,MAAAA,sBAAsB,GAAGD,cAAc,GAClC,KAAIE,sBAAuB,EADO,GAEnCnF,UAAU,CAACmF,sBAAD,EAAyBvF,cAAzB,CAFd;AAGD,KAPM,MAOA;AACL;AACAsF,MAAAA,sBAAsB,GAAGH,kBAAzB;AACD,KApBkD;AAuBnD;AACA;;;AACA,UAAMlB,WAAW,GAAG,MAAMzN,sBAAsB,CAAC4O,qBAAD,EAAwB;AACtE3O,MAAAA,cAAc,EAAE,IADsD;AAEtEC,MAAAA,UAAU,EAAE;AAF0D,KAAxB,CAAhD;AAIA,UAAM8O,QAAQ,GAAGvB,WAAW,IAAIA,WAAW,CAACjR,WAAZ,EAAf,GAA2C,KAA3C,GAAmD,MAApE;AAEA,UAAMyS,mBAAmB,GAAGrF,UAAU,CAAC8E,uBAAD,EAA0BlF,cAA1B,CAAtC;AACA,UAAM4D,iBAAiB,CAAC6B,mBAAD,EAAsBH,sBAAtB,EAA8C;AAAExB,MAAAA,IAAI,EAAE0B;AAAR,KAA9C,CAAvB;AACD,GAjCD;;AAmCA,QAAMP,SAAS,GAAG,OAAOjF,cAAP,EAAuBlN,KAAvB,KAAiC;AACjD,QAAI+R,mBAAmB,IAAID,aAA3B,EAA0C;AACxC,YAAM;AAAEc,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAoB7S,KAA1B;;AACA,UAAI+R,mBAAJ,EAAyB;AACvB,cAAMhQ,8BAA8B,CAACmL,cAAD,EAAiB5L,wBAAwB,CAACsR,IAAD,CAAzC,CAApC;AACD;;AACD,UAAId,aAAJ,EAAmB;AACjB,cAAM5B,mCAAmC,CAAChD,cAAD,EAAiB2F,OAAjB,CAAzC;AACD;AACF;AACF,GAVD;;AAYA,QAAM/G,cAAc,GAAG,OAAOnE,YAAP,EAAqBmL,cAArB,KAAwC;AAC7D,UAAMC,oBAAoB,GAAGtJ,gBAAgB,CAAC9B,YAAD,EAAezF,SAAf,CAA7C;AACA,UAAM8Q,gBAAgB,GAAG1F,UAAU,CAACyF,oBAAD,EAAuB7F,cAAvB,CAAnC;AAEA,UAAMJ,cAAc,CAACkG,gBAAD,CAApB;AACA,UAAMC,oBAAoB,CAACtL,YAAD,CAA1B;AACA,UAAMwK,SAAS,CAACa,gBAAD,EAAmBF,cAAnB,CAAf;AACD,GAPD;;AASA,QAAMG,oBAAoB,GAAG,MAAOtL,YAAP,IAAwB;AACnD,UAAMa,KAAK,GAAG,MAAMf,aAAa,CAACE,YAAD,CAAjC;AACA,UAAMrF,OAAO,CAAC0J,GAAR,CACJxD,KAAK,CAACyD,GAAN,CAAU,MAAOpR,IAAP,IAAgB;AACxB,YAAMqY,iBAAiB,GAAG5F,UAAU,CAACzS,IAAD,EAAO8M,YAAP,CAApC;AACA,YAAM3H,KAAK,GAAG,MAAM0D,sBAAsB,CAACwP,iBAAD,EAAoB;AAAEtP,QAAAA,UAAU,EAAE;AAAd,OAApB,CAA1C;AACA,YAAMqK,KAAK,CAACiF,iBAAD,EAAoBlT,KAApB,CAAX;AACD,KAJD,CADI,CAAN;AAOD,GATD;;AAWA,QAAMiO,KAAK,CAAC/L,SAAD,EAAYqC,WAAZ,CAAX;AACD,CA5JM;;AA8JP,MAAM2N,oBAAoB,GAAG,CAACiB,QAAD,EAAWC,mBAAX,KAAmC;AAC9D,SAAO,IAAI9Q,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC6Q,IAAAA,WAAY,CAACF,QAAD,EAAWC,mBAAX,EAAiC1Q,KAAD,IAAW;AACrD,UAAIA,KAAJ,EAAW;AACTF,QAAAA,MAAM,CAACE,KAAD,CAAN;AACD,OAFD,MAEO;AACLH,QAAAA,OAAO;AACR;AACF,KANW,CAAZ;AAOD,GARM,CAAP;AASD,CAVD;;ACnLA,MAAM+Q,WAAW,GAAI/N,QAAD,IAAc;AAChC,QAAMgO,oBAAoB,GAAG,MAAMhO,QAAQ,EAA3C,CADgC;;;AAGhC/B,EAAAA,OAAO,CAACgQ,IAAR,CAAa,OAAb,EAAsBD,oBAAtB;AACA,SAAO,MAAM;AACX/P,IAAAA,OAAO,CAACiQ,cAAR,CAAuB,OAAvB,EAAgCF,oBAAhC;AACD,GAFD;AAGD,CAPD;;AASA,AAAO,MAAMG,WAAW,GAAG;AACzBJ,EAAAA;AADyB,CAApB;;ACTP,MAAMA,aAAW,GAAI/N,QAAD,IAAc;AAChC;AACA;AACA;AACA/B,EAAAA,OAAO,CAACgQ,IAAR,CAAa,QAAb,EAAuBjO,QAAvB;AACA,SAAO,MAAM;AACX/B,IAAAA,OAAO,CAACiQ,cAAR,CAAuB,QAAvB,EAAiClO,QAAjC;AACD,GAFD;AAGD,CARD;;AAUA,AAAO,MAAMoO,YAAY,GAAG;AAC1BL,eAAAA;AAD0B,CAArB;;ACVP,MAAMA,aAAW,GAAI/N,QAAD,IAAc;AAChC,MAAI/B,OAAO,CAACC,QAAR,KAAqB,OAAzB,EAAkC;AAChCoL,IAAAA,OAAO,CAAC+E,IAAR,CAAc,qCAAd;AACA,WAAO,MAAM,EAAb;AACD;;AAED,QAAMC,kBAAkB,GAAG,MAAMtO,QAAQ,EAAzC,CANgC;;;AAQhC/B,EAAAA,OAAO,CAACgQ,IAAR,CAAa,SAAb,EAAwBK,kBAAxB;AACA,SAAO,MAAM;AACXrQ,IAAAA,OAAO,CAACiQ,cAAR,CAAuB,SAAvB,EAAkCI,kBAAlC;AACD,GAFD;AAGD,CAZD;;AAcA,AAAO,MAAMC,aAAa,GAAG;AAC3BR,eAAAA;AAD2B,CAAtB;;ACdP,IAAIS,uBAAuB,GAAG,EAA9B;AACA,IAAIC,SAAJ;;AACA,MAAMV,aAAW,GAAI/N,QAAD,IAAc;AAChC,MAAIwO,uBAAuB,CAACpY,MAAxB,KAAmC,CAAvC,EAA0CqY,SAAS,GAAGC,OAAO,EAAnB;AAC1CF,EAAAA,uBAAuB,GAAG,CAAC,GAAGA,uBAAJ,EAA6BxO,QAA7B,CAA1B;AAEA,SAAO,MAAM;AACX,QAAIwO,uBAAuB,CAACpY,MAAxB,KAAmC,CAAvC,EAA0C;AAC1CoY,IAAAA,uBAAuB,GAAGA,uBAAuB,CAACG,MAAxB,CACvBC,kBAAD,IAAwBA,kBAAkB,KAAK5O,QADvB,CAA1B;AAGA,QAAIwO,uBAAuB,CAACpY,MAAxB,KAAmC,CAAvC,EAA0CqY,SAAS;AACpD,GAND;AAOD,CAXD;;AAaA,MAAMC,OAAO,GAAG,MAAM;AACpB,QAAMG,YAAY,GAAG,MAAM;AACzB,WAAOL,uBAAuB,CAAC9U,MAAxB,CAA+B,OAAOoV,QAAP,EAAiB9O,QAAjB,KAA8B;AAClE,YAAM8O,QAAN;AACA,aAAO9O,QAAQ,EAAf;AACD,KAHM,EAGJjD,OAAO,CAACC,OAAR,EAHI,CAAP;AAID,GALD;;AAMAiB,EAAAA,OAAO,CAACgQ,IAAR,CAAa,YAAb,EAA2BY,YAA3B;AACA,SAAO,MAAM;AACX5Q,IAAAA,OAAO,CAACiQ,cAAR,CAAuB,YAAvB,EAAqCW,YAArC;AACD,GAFD;AAGD,CAXD;;AAaA,AAAO,MAAME,gBAAgB,GAAG;AAC9BhB,eAAAA;AAD8B,CAAzB;;AC5BP,MAAMA,aAAW,GAAG,CAAC/N,QAAD,EAAW;AAAEgP,EAAAA,iBAAiB,GAAG;AAAtB,IAAgC,EAA3C,KAAkD;AACpE,MAAI,CAACA,iBAAL,EAAwB;AACtB,UAAMC,YAAY,GAAG,MAAM;AACzBjP,MAAAA,QAAQ;AACT,KAFD;;AAGA/B,IAAAA,OAAO,CAACiR,EAAR,CAAW,MAAX,EAAmBD,YAAnB;AACA,WAAO,MAAM;AACXhR,MAAAA,OAAO,CAACiQ,cAAR,CAAuB,MAAvB,EAA+Be,YAA/B;AACD,KAFD;AAGD;;AAED,QAAM;AAAEE,IAAAA,aAAF;AAAiBC,IAAAA;AAAjB,MAA0BC,eAAe,EAA/C;;AACA,QAAMJ,YAAY,GAAG,MAAM;AACzBhR,IAAAA,OAAO,CAACiQ,cAAR,CAAuB,MAAvB,EAA+Be,YAA/B;AACAG,IAAAA,IAAI;AACJpP,IAAAA,QAAQ,CAAC;AACPsP,MAAAA,cAAc,EAAEH,aAAa,GAAGzI,GAAhB,CAAoB,CAAC;AAAE6I,QAAAA,SAAF;AAAatD,QAAAA;AAAb,OAAD,KAA2B;AAC7D,eAAO;AAAEsD,UAAAA,SAAF;AAAatD,UAAAA;AAAb,SAAP;AACD,OAFe;AADT,KAAD,CAAR;AAKD,GARD;;AASAhO,EAAAA,OAAO,CAACiR,EAAR,CAAW,MAAX,EAAmBD,YAAnB;AACA,SAAO,MAAM;AACXhR,IAAAA,OAAO,CAACiQ,cAAR,CAAuB,MAAvB,EAA+Be,YAA/B;AACD,GAFD;AAGD,CAzBD;;AA2BA,MAAMI,eAAe,GAAG,MAAM;AAC5B,MAAIC,cAAc,GAAG,EAArB;;AAEA,QAAME,0BAA0B,GAAG,CAACC,kBAAD,EAAqBjP,OAArB,KAAiC;AAClE8O,IAAAA,cAAc,GAAG,CACf,GAAGA,cADY,EAEf;AAAErD,MAAAA,MAAM,EAAE,oBAAV;AAAgCsD,MAAAA,SAAS,EAAEE,kBAA3C;AAA+DjP,MAAAA;AAA/D,KAFe,CAAjB;AAID,GALD;;AAOA,QAAMkP,wBAAwB,GAAIlP,OAAD,IAAa;AAC5C8O,IAAAA,cAAc,GAAGA,cAAc,CAACX,MAAf,CAAuBW,cAAD,IAAoBA,cAAc,CAAC9O,OAAf,KAA2BA,OAArE,CAAjB;AACD,GAFD;;AAIA,QAAMmP,yBAAyB,GAAG,CAACC,iBAAD,EAAoB3D,MAApB,KAA+B;AAC/D;AACA,QAAIA,MAAM,KAAK,oBAAf,EAAqC;AAErCqD,IAAAA,cAAc,GAAG,CACf,GAAGA,cADY,EAEf;AAAErD,MAAAA,MAAM,EAAE,mBAAV;AAA+BsD,MAAAA,SAAS,EAAEK;AAA1C,KAFe,CAAjB;AAID,GARD;;AAUA3R,EAAAA,OAAO,CAACiR,EAAR,CAAW,oBAAX,EAAiCM,0BAAjC;AACAvR,EAAAA,OAAO,CAACiR,EAAR,CAAW,kBAAX,EAA+BQ,wBAA/B;AACAzR,EAAAA,OAAO,CAACiR,EAAR,CAAW,mBAAX,EAAgCS,yBAAhC;AAEA,SAAO;AACLR,IAAAA,aAAa,EAAE,MAAMG,cADhB;AAELF,IAAAA,IAAI,EAAE,MAAM;AACVnR,MAAAA,OAAO,CAACiQ,cAAR,CAAuB,oBAAvB,EAA6CsB,0BAA7C;AACAvR,MAAAA,OAAO,CAACiQ,cAAR,CAAuB,kBAAvB,EAA2CwB,wBAA3C;AACAzR,MAAAA,OAAO,CAACiQ,cAAR,CAAuB,mBAAvB,EAA4CyB,yBAA5C;AACD;AANI,GAAP;AAQD,CApCD;;AAsCA,AAAO,MAAME,UAAU,GAAG;AACxB9B,eAAAA;AADwB,CAAnB;;AC1DP,MAAMA,aAAW,GAAI/N,QAAD,IAAc;AAChC,SAAO8P,SAAS,CAAC;AACfC,IAAAA,MAAM,EAAE;AACNhQ,MAAAA,QAAQ,EAAEoO,WAAW,CAACJ,WADhB;AAEN/N,MAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,QAAD;AAFlB,KADO;AAKfgQ,IAAAA,MAAM,EAAE;AACNjQ,MAAAA,QAAQ,EAAEqO,YAAY,CAACL,WADjB;AAEN/N,MAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,QAAD;AAFlB,KALO;AASf,QAAI/B,OAAO,CAACC,QAAR,KAAqB,OAArB,GACA,EADA,GAEA;AACE+R,MAAAA,OAAO,EAAE;AACPlQ,QAAAA,QAAQ,EAAEwO,aAAa,CAACR,WADjB;AAEP/N,QAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,SAAD;AAFjB;AADX,KAFJ,CATe;AAiBfkQ,IAAAA,UAAU,EAAE;AACVnQ,MAAAA,QAAQ,EAAEgP,gBAAgB,CAAChB,WADjB;AAEV/N,MAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,YAAD;AAFd,KAjBG;AAqBfmQ,IAAAA,IAAI,EAAE;AACJpQ,MAAAA,QAAQ,EAAE8P,UAAU,CAAC9B,WADjB;AAEJ/N,MAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,MAAD;AAFpB;AArBS,GAAD,CAAhB;AA0BD,CA3BD;;AA6BA,MAAM8P,SAAS,GAAIM,QAAD,IAAc;AAC9B,QAAMC,aAAa,GAAG,EAAtB;;AAEA,QAAMC,aAAa,GAAItP,MAAD,IAAY;AAChC,WAAO9K,MAAM,CAACC,IAAP,CAAYka,aAAZ,EAA2B3J,GAA3B,CAAgCpR,IAAD,IAAU+a,aAAa,CAAC/a,IAAD,CAAb,CAAoB0L,MAApB,CAAzC,CAAP;AACD,GAFD;;AAIA9K,EAAAA,MAAM,CAACC,IAAP,CAAYia,QAAZ,EAAsBnY,OAAtB,CAA+B3C,IAAD,IAAU;AACtC,UAAM;AAAEyK,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAAyBoQ,QAAQ,CAAC9a,IAAD,CAAvC;AAEA+a,IAAAA,aAAa,CAAC/a,IAAD,CAAb,GAAsByK,QAAQ,CAAC,CAAC,GAAGwQ,IAAJ,KAAa;AAC1CD,MAAAA,aAAa;AACbtQ,MAAAA,QAAQ,CAAC,GAAGuQ,IAAJ,CAAR;AACD,KAH6B,CAA9B;AAID,GAPD;AASA,SAAOD,aAAP;AACD,CAjBD;;AAmBA,AAAO,MAAME,cAAc,GAAG;AAC5BzC,eAAAA;AAD4B,CAAvB;;MCpDM0C,iCAAiC,GAAG,MAAM;AACrD,QAAMC,oBAAoB,GAAGnP,wBAAwB,EAArD;AACAiP,EAAAA,cAAc,CAACzC,WAAf,CAA4B/M,MAAD,IAAY0P,oBAAoB,CAAChP,MAArB,CAA6B,WAAUV,MAAO,EAA9C,CAAvC;AACA,SAAO0P,oBAAoB,CAAC5O,KAA5B;AACD,CAJM;;ACEP,MAAM;AAAEnD,EAAAA;AAAF,IAAW2I,WAAjB;AAEA,MAAaqJ,6BAA6B,GAAG,MAAOlU,MAAP,IAAkB;AAC7D,QAAME,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AACA,QAAMG,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,QAAM;AAAE0Q,IAAAA;AAAF,MAAW,MAAM1O,IAAI,CAAC/B,UAAD,CAA3B;AACA,SAAOb,wBAAwB,CAACsR,IAAD,CAA/B;AACD,CANM;;MCHMuD,gCAAgC,GAAG,OAC9CnU,MAD8C,EAE9C;AAAEP,EAAAA,IAAI,GAAG,KAAT;AAAgBC,EAAAA,KAAK,GAAG,KAAxB;AAA+BC,EAAAA,OAAO,GAAG;AAAzC,CAF8C,KAG3C;AACH,QAAMO,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AAEA,QAAMoU,eAAe,GAAG,MAAMF,6BAA6B,CAAChU,SAAD,CAA3D;AACA,QAAMH,8BAA8B,CAACG,SAAD,EAAY;AAC9CV,IAAAA,KAAK,EAAE;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,KAAR;AAAeC,MAAAA;AAAf,KADuC;AAE9CC,IAAAA,KAAK,EAAE;AAAEH,MAAAA,IAAF;AAAQC,MAAAA,KAAR;AAAeC,MAAAA;AAAf,KAFuC;AAG9CE,IAAAA,MAAM,EAAE;AAAEJ,MAAAA,IAAF;AAAQC,MAAAA,KAAR;AAAeC,MAAAA;AAAf;AAHsC,GAAZ,CAApC;AAKA,SAAO,YAAY;AACjB,UAAMI,8BAA8B,CAACG,SAAD,EAAYkU,eAAZ,CAApC;AACD,GAFD;AAGD,CAfM;;MCJMC,OAAO,GAAIC,OAAD,IAAa;AAClC,MAAIC,QAAQ,GAAG,KAAf;AACA,MAAIC,aAAJ;;AAEA,QAAMC,iBAAiB,GAAG,CAAC,GAAGX,IAAJ,KAAa;AACrC,QAAIS,QAAJ,EAAc;AACZ,aAAOC,aAAP;AACD,KAHoC;AAKrC;;;AACAA,IAAAA,aAAa,GAAGF,OAAO,CAAC,GAAGR,IAAJ,CAAvB;AACAS,IAAAA,QAAQ,GAAG,IAAX;AACA,WAAOC,aAAP;AACD,GATD;;AAWAC,EAAAA,iBAAiB,CAACC,MAAlB,GAA2B,MAAM;AAC/B,UAAM9b,KAAK,GAAG4b,aAAd;AACAD,IAAAA,QAAQ,GAAG,KAAX;AACAC,IAAAA,aAAa,GAAGhW,SAAhB;AACA,WAAO5F,KAAP;AACD,GALD;;AAOA,SAAO6b,iBAAP;AACD,CAvBM;;ACAP;AACA,MAYaE,kBAAkB,GAAG,OAChC3U,MADgC,EAEhC+K,WAFgC,EAGhC;AAAE6E,EAAAA,SAAS,GAAG,KAAd;AAAqB3E,EAAAA,YAAY,GAAG,KAApC;AAA2CrJ,EAAAA,UAAU,GAAG;AAAxD,IAAiE,EAHjC,KAI7B;AACH,QAAM1B,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AACA,MAAIkL,cAAc,GAAGrN,yBAAyB,CAACkN,WAAD,CAA9C;AACA,QAAM5K,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,QAAMqC,WAAW,GAAG,MAAMb,sBAAsB,CAACxB,SAAD,EAAY;AAC1DyB,IAAAA,cAAc,EAAE,IAD0C;AAE1DC,IAAAA,UAAU,EAAE;AAF8C,GAAZ,CAAhD;;AAIA,MAAI,CAACW,WAAL,EAAkB;AAChB,UAAM,IAAI3I,KAAJ,CAAW,wBAAuBuG,UAAW,EAA7C,CAAN;AACD;;AAED,MAAIiL,gBAAgB,GAAG,MAAM1J,sBAAsB,CAACwJ,cAAD,EAAiB;AAClEvJ,IAAAA,cAAc,EAAE,IADkD;AAElE;AACA;AACAC,IAAAA,UAAU,EAAE;AAJsD,GAAjB,CAAnD;;AAOA,MAAIA,UAAU,IAAIwJ,gBAAd,IAAkCA,gBAAgB,CAACjN,cAAjB,EAAtC,EAAyE;AACvE,UAAM4Q,MAAM,GAAG,MAAMN,gBAAgB,CAACvD,cAAD,CAArC;AACAA,IAAAA,cAAc,GAAGI,UAAU,CAACyD,MAAD,EAAS7D,cAAT,CAA3B;AACAE,IAAAA,gBAAgB,GAAG,MAAM1J,sBAAsB,CAACwJ,cAAD,EAAiB;AAAEvJ,MAAAA,cAAc,EAAE;AAAlB,KAAjB,CAA/C;AACD;;AACD,QAAMwJ,eAAe,GAAG1M,mBAAmB,CAACyM,cAAD,CAA3C;;AAEA,MAAI0C,4BAA4B,CAAC1N,SAAD,EAAYgL,cAAZ,CAAhC,EAA6D;AAC3D,QAAID,YAAJ,EAAkB;AAChB;AACD;;AACD,UAAM,IAAIrR,KAAJ,CAAW,sBAAqBuG,UAAW,8CAA3C,CAAN;AACD;;AAED,MAAIiL,gBAAJ,EAAsB;AACpB,UAAM+B,UAAU,GAAGpP,WAAW,CAACwE,WAAD,CAA9B;AACA,UAAM8I,eAAe,GAAGtN,WAAW,CAACqN,gBAAD,CAAnC;;AAEA,QAAI+B,UAAU,KAAK9B,eAAnB,EAAoC;AAClC,YAAM,IAAIzR,KAAJ,CACH,eAAcuT,UAAW,SAAQhN,UAAW,OAAMgL,eAAgB,4CAA2CgC,UAAW,YAAW9B,eAAgB,GADhJ,CAAN;AAGD;;AACD,QAAI,CAACuE,SAAL,EAAgB;AACd,YAAM,IAAIhW,KAAJ,CACH,eAAcuT,UAAW,SAAQhN,UAAW,OAAMgL,eAAgB,8DAD/D,CAAN;AAGD,KAbmB;;;AAgBpB,UAAMI,oBAAoB,CAACL,cAAD,EAAiB;AAAEF,MAAAA,SAAS,EAAE;AAAb,KAAjB,CAA1B;AACD,GAjBD,MAiBO;AACL,UAAM+C,uBAAuB,CAAC7C,cAAD,CAA7B;AACD;;AAED,QAAM0J,SAAS,CAACzU,UAAD,EAAagL,eAAb,EAA8B;AAC3C0J,IAAAA,sBAAsB,EAAE,YAAY;AAClC,YAAMlF,kBAAkB,CAACzP,SAAD,EAAYgL,cAAZ,EAA4B;AAAE2E,QAAAA,YAAY,EAAE;AAAhB,OAA5B,CAAxB;AACA,YAAMtE,oBAAoB,CAACrL,SAAD,EAAY;AAAE8K,QAAAA,SAAS,EAAE;AAAb,OAAZ,CAA1B;AACD;AAJ0C,GAA9B,CAAf;AAMD,CAjEM;;AAmEP,MAAM4J,SAAS,GAAG,CAACzU,UAAD,EAAagL,eAAb,EAA8B;AAAE0J,EAAAA,sBAAsB,GAAG;AAA3B,IAAoC,EAAlE,KAAyE;AACzF,SAAO,IAAIvU,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCsU,IAAAA,SAAM,CAAC3U,UAAD,EAAagL,eAAb,EAA+BzK,KAAD,IAAW;AAC7C,UAAIA,KAAJ,EAAW;AACT,YAAImU,sBAAsB,IAAInU,KAAK,CAAC2B,IAAN,KAAe,OAA7C,EAAsD;AACpD9B,UAAAA,OAAO,CAACsU,sBAAsB,CAACnU,KAAD,CAAvB,CAAP;AACD,SAFD,MAEO;AACLF,UAAAA,MAAM,CAACE,KAAD,CAAN;AACD;AACF,OAND,MAMO;AACLH,QAAAA,OAAO;AACR;AACF,KAVK,CAAN;AAWD,GAZM,CAAP;AAaD,CAdD;;AC3EA,MAAMwU,mBAAmB,GAAGC,cAAS,CAACC,WAAD,CAArC;AACA,MAAaC,QAAQ,GAAG,MAAOtc,KAAP,IAAiB;AACvC,QAAM8F,OAAO,GAAGb,yBAAyB,CAACjF,KAAD,CAAzC;AACA,QAAMuY,QAAQ,GAAG1S,mBAAmB,CAACC,OAAD,CAApC;AACA,QAAMiE,MAAM,GAAG,MAAMoS,mBAAmB,CAAC5D,QAAD,CAAxC;AACA,SAAOxO,MAAM,CAACS,QAAP,EAAP;AACD,CALM;;MCJM+R,kCAAkC,GAAG,MAAOnV,MAAP,IAAkB;AAClE,QAAMhC,KAAK,GAAG,MAAM0D,sBAAsB,CAAC1B,MAAD,CAA1C;AACA,SAAOhF,IAAI,CAACqT,KAAL,CAAWrQ,KAAK,CAAC6S,OAAjB,CAAP;AACD,CAHM;;ACEA,MAAMuE,0BAA0B,GAAI7b,GAAD,IAAS;AACjD,QAAM8b,IAAI,GAAG5W,mBAAmB,CAAClF,GAAD,CAAhC;;AACA,MAAI;AACF,UAAMyE,KAAK,GAAGsX,WAAQ,CAACD,IAAD,CAAtB;AACA,WAAOtX,WAAW,CAACC,KAAD,CAAlB;AACD,GAHD,CAGE,OAAOL,CAAP,EAAU;AACV,QAAIA,CAAC,CAAC0E,IAAF,KAAW,QAAf,EAAyB;AACvB,aAAO,IAAP;AACD;;AACD,UAAM1E,CAAN;AACD;AACF,CAXM;;ACFP,MAAM4D,WAAS,GAAGC,OAAO,CAACC,QAAR,KAAqB,OAAvC;AAEA,AAAO,MAAM8T,aAAa,GAAG,CAACpV,UAAD,EAAaqV,OAAb,KAAyB;AACpD,QAAMC,OAAO,GAAGC,QAAK,CAACvV,UAAD,EAAaqV,OAAb,CAArB;;AAEA,MAAIjU,WAAJ,EAAe;AACbkU,IAAAA,OAAO,CAAChD,EAAR,CAAW,OAAX,EAAoB,MAAO/R,KAAP,IAAiB;AACnC;AACA,UAAIA,KAAK,CAAC2B,IAAN,KAAe,OAAnB,EAA4B;AAC1B,YAAI;AACF,gBAAMqK,EAAE,GAAGC,WAAQ,CAACxM,UAAD,EAAa,GAAb,CAAnB;AACAyM,UAAAA,YAAS,CAACF,EAAD,CAAT;AACD,SAHD,CAGE,OAAO/O,CAAP,EAAU;AACV,cAAIA,CAAC,CAAC0E,IAAF,KAAW,QAAf,EAAyB;AACvB;AACD;;AACDwK,UAAAA,OAAO,CAACnM,KAAR,CAAe,qCAAoC/C,CAAC,CAACmP,KAAM,EAA3D;AACA,gBAAMpM,KAAN;AACD;AACF,OAXD,MAWO;AACL,cAAMA,KAAN;AACD;AACF,KAhBD;AAiBD;;AAED,SAAO+U,OAAP;AACD,CAxBM;;ACJA,MAAME,eAAe,GAAG,MAAM;AACnC,QAAMC,aAAa,GAAG,EAAtB;;AAEA,QAAMC,uBAAuB,GAAItS,QAAD,IAAc;AAC5C,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EACE,MAAM,IAAIzK,SAAJ,CAAe;YACfyK,QAAS,EADT,CAAN;AAEFqS,IAAAA,aAAa,CAAChZ,IAAd,CAAmB2G,QAAnB;AACA,WAAO,MAAM;AACX,YAAMtJ,KAAK,GAAG2b,aAAa,CAACjb,OAAd,CAAsB4I,QAAtB,CAAd;AACA,UAAItJ,KAAK,GAAG,CAAC,CAAb,EAAgB2b,aAAa,CAACE,MAAd,CAAqB7b,KAArB,EAA4B,CAA5B;AACjB,KAHD;AAID,GATD;;AAWA,QAAM8b,OAAO,GAAG,MAAOxR,MAAP,IAAkB;AAChC,UAAMyR,kBAAkB,GAAGJ,aAAa,CAACtb,KAAd,EAA3B;AACA,UAAMgG,OAAO,CAAC0J,GAAR,CAAYgM,kBAAkB,CAAC/L,GAAnB,CAAwB1G,QAAD,IAAcA,QAAQ,CAACgB,MAAD,CAA7C,CAAZ,CAAN;AACD,GAHD;;AAKA,SAAO;AAAEsR,IAAAA,uBAAF;AAA2BE,IAAAA;AAA3B,GAAP;AACD,CApBM;;ACAP;AACA,AAiBA,MAAME,OAAO,GAAGzU,OAAO,CAACC,QAAR,KAAqB,OAArC;;AAEA,MAAMyU,wBAAwB,GAAG,CAACD,OAAlC;AAEA,MAAaE,0BAA0B,GAAG,CACxCnW,MADwC,EAExC;AACEoW,EAAAA,KADF;AAEEC,EAAAA,OAFF;AAGEC,EAAAA,OAHF;AAIEC,EAAAA,gBAAgB,GAAG;AACjB,cAAU;AADO,GAJrB;AAOEC,EAAAA,cAAc,GAAG,KAPnB;AAQEC,EAAAA,gBAAgB,GAAG,IARrB;AASEzL,EAAAA,SAAS,GAAG;AATd,CAFwC,KAarC;AACH,QAAM9K,SAAS,GAAG/C,sBAAsB,CAACU,yBAAyB,CAACmC,MAAD,CAA1B,CAAxC;;AACA,MAAI,CAAC0W,mBAAmB,CAACN,KAAD,CAAxB,EAAiC;AAC/B,UAAM,IAAItd,SAAJ,CAAe,8CAA6Csd,KAAM,EAAlE,CAAN;AACD;;AACD,MAAI,CAACM,mBAAmB,CAACL,OAAD,CAAxB,EAAmC;AACjC,UAAM,IAAIvd,SAAJ,CAAe,gDAA+Cud,OAAQ,EAAtE,CAAN;AACD;;AACD,MAAI,CAACK,mBAAmB,CAACJ,OAAD,CAAxB,EAAmC;AACjC,UAAM,IAAIxd,SAAJ,CAAe,gDAA+Cwd,OAAQ,EAAtE,CAAN;AACD;;AAED,QAAM/a,gBAAgB,GAAGU,yBAAyB,CAChDZ,yBAAyB,CAAC;AACxBqa,IAAAA,KAAK,EAAEa;AADiB,GAAD,CADuB,EAIhDrW,SAJgD,CAAlD;;AAMA,QAAMyW,oBAAoB,GAAG,CAAC;AAAErM,IAAAA,WAAF;AAAe0E,IAAAA;AAAf,GAAD,KAA2B;AACtD,UAAM4H,QAAQ,GAAGtL,UAAU,CAAChB,WAAD,EAAcpK,SAAd,CAA3B;;AAEA,QAAI8O,IAAI,KAAK,WAAb,EAA0B;AACxB,YAAM6H,sBAAsB,GAAGva,0BAA0B,CAAC;AACxD/C,QAAAA,GAAG,EAAG,GAAEqd,QAAS,GADuC;AAExDrb,QAAAA,gBAFwD;AAGxDgB,QAAAA,SAAS,EAAE,CAAC;AAAEmZ,UAAAA;AAAF,SAAD,KAAeA;AAH8B,OAAD,CAAzD;AAKA,aAAOmB,sBAAP;AACD;;AAED,UAAMC,SAAS,GAAG9Z,SAAS,CAAC;AAC1BzD,MAAAA,GAAG,EAAEqd,QADqB;AAE1Brb,MAAAA;AAF0B,KAAD,CAA3B;AAKA,WAAOub,SAAS,CAACpB,KAAjB;AACD,GAlBD;;AAoBA,QAAMqB,OAAO,GAAGpB,eAAe,EAA/B;AAEA,QAAMqB,UAAU,GAAG,EAAnB;;AAEA,QAAMC,oBAAoB,GAAG,CAAC;AAAElG,IAAAA,oBAAF;AAAwBmG,IAAAA,QAAxB;AAAkCC,IAAAA;AAAlC,GAAD,KAAmD;AAC9E,QAAID,QAAJ,EAAc;AACZ,UAAInG,oBAAJ,EAA0B;AACxBqG,QAAAA,YAAY,CAAE,GAAErG,oBAAqB,IAAGmG,QAAS,EAArC,CAAZ;AACD,OAFD,MAEO;AACLE,QAAAA,YAAY,CAAE,GAAEF,QAAS,EAAb,CAAZ;AACD;AACF,KAND,MAMO,IAAI,CAACZ,OAAO,IAAIF,KAAZ,KAAsBe,SAAS,KAAK,QAAxC,EAAkD;AACvD;AACA;AAEA,UAAIE,yBAAyB,GAAG5d,MAAM,CAACC,IAAP,CAAYsd,UAAZ,CAAhC;;AAEA,UAAIhM,SAAS,IAAI,CAACkL,wBAAlB,EAA4C;AAC1CmB,QAAAA,yBAAyB,GAAGA,yBAAyB,CAACnF,MAA1B,CAAkCoF,oBAAD,IAA0B;AACrF,cAAI,CAACvG,oBAAL,EAA2B;AACzB;AACA,gBAAIuG,oBAAoB,CAACC,QAArB,CAA8B,GAA9B,CAAJ,EAAwC,OAAO,KAAP;AACxC,mBAAO,IAAP;AACD,WALoF;;;AAQrF,cAAI,CAACD,oBAAoB,CAAC1Z,UAArB,CAAgCmT,oBAAhC,CAAL,EAA4D,OAAO,KAAP;AAE5D,gBAAMyG,cAAc,GAAGF,oBAAoB,CAAChd,KAArB,CAA2ByW,oBAAoB,CAACpX,MAArB,GAA8B,CAAzD,CAAvB,CAVqF;;AAYrF,cAAI6d,cAAc,CAACD,QAAf,CAAwB,GAAxB,CAAJ,EAAkC,OAAO,KAAP;AAElC,iBAAO,IAAP;AACD,SAf2B,CAA5B;AAgBD;;AAED,YAAME,uBAAuB,GAAGJ,yBAAyB,CAACnW,IAA1B,CAAgCoW,oBAAD,IAA0B;AACvF,cAAMV,QAAQ,GAAGtL,UAAU,CAACgM,oBAAD,EAAuBpX,SAAvB,CAA3B;AACA,cAAM8O,IAAI,GAAGoG,0BAA0B,CAACwB,QAAD,CAAvC;AACA,eAAO5H,IAAI,KAAK,IAAhB;AACD,OAJ+B,CAAhC;;AAMA,UAAIyI,uBAAJ,EAA6B;AAC3BC,QAAAA,eAAe,CAAC;AACdpN,UAAAA,WAAW,EAAEmN,uBADC;AAEdzI,UAAAA,IAAI,EAAEgI,UAAU,CAACS,uBAAD;AAFF,SAAD,CAAf;AAID;AACF;AACF,GA7CD;;AA+CA,QAAML,YAAY,GAAI9M,WAAD,IAAiB;AACpC,UAAMsM,QAAQ,GAAGtL,UAAU,CAAChB,WAAD,EAAcpK,SAAd,CAA3B;AACA,UAAMyX,YAAY,GAAGX,UAAU,CAAC1M,WAAD,CAA/B;AACA,UAAM0E,IAAI,GAAGoG,0BAA0B,CAACwB,QAAD,CAAvC;;AAEA,QAAI,CAACD,oBAAoB,CAAC;AAAErM,MAAAA,WAAF;AAAe0E,MAAAA;AAAf,KAAD,CAAzB,EAAkD;AAChD;AACD,KAPmC;;;AAUpC,QAAI,CAAC2I,YAAL,EAAmB;AACjB,UAAI3I,IAAI,KAAK,IAAb,EAAmB;AACjB4I,QAAAA,gBAAgB,CAAC;AAAEtN,UAAAA,WAAF;AAAe0E,UAAAA,IAAf;AAAqB6I,UAAAA,QAAQ,EAAE;AAA/B,SAAD,CAAhB;AACD;;AACD;AACD,KAfmC;;;AAkBpC,QAAI7I,IAAI,KAAK,IAAb,EAAmB;AACjB0I,MAAAA,eAAe,CAAC;AAAEpN,QAAAA,WAAF;AAAe0E,QAAAA,IAAI,EAAE2I;AAArB,OAAD,CAAf;AACA;AACD,KArBmC;AAwBpC;;;AACA,QAAIA,YAAY,KAAK3I,IAArB,EAA2B;AACzB0I,MAAAA,eAAe,CAAC;AAAEpN,QAAAA,WAAF;AAAe0E,QAAAA,IAAI,EAAE2I;AAArB,OAAD,CAAf;AACAC,MAAAA,gBAAgB,CAAC;AAAEtN,QAAAA,WAAF;AAAe0E,QAAAA;AAAf,OAAD,CAAhB;AACA;AACD,KA7BmC;AAgCpC;AACA;AACA;;;AACA,QAAIA,IAAI,KAAK,WAAb,EAA0B;AACxB;AACD,KArCmC;AAwCpC;AACA;;;AACA,QAAIqH,OAAJ,EAAa;AACXA,MAAAA,OAAO,CAAC;AAAE/L,QAAAA,WAAF;AAAe0E,QAAAA;AAAf,OAAD,CAAP;AACD;AACF,GA7CD;;AA+CA,QAAM4I,gBAAgB,GAAG,CAAC;AAAEtN,IAAAA,WAAF;AAAe0E,IAAAA,IAAf;AAAqB6I,IAAAA;AAArB,GAAD,KAAqC;AAC5D,QAAI,CAAClB,oBAAoB,CAAC;AAAErM,MAAAA,WAAF;AAAe0E,MAAAA;AAAf,KAAD,CAAzB,EAAkD;AAChD;AACD;;AAEDgI,IAAAA,UAAU,CAAC1M,WAAD,CAAV,GAA0B0E,IAA1B;AAEA,UAAM4H,QAAQ,GAAGtL,UAAU,CAAChB,WAAD,EAAcpK,SAAd,CAA3B;;AAEA,QAAI8O,IAAI,KAAK,WAAb,EAA0B;AACxBlF,MAAAA,cAAc,CAAC;AACbnE,QAAAA,YAAY,EAAG,GAAEiR,QAAS,GADb;AAEbkB,QAAAA,UAAU,EAAGC,KAAD,IAAW;AACrBH,UAAAA,gBAAgB,CAAC;AACftN,YAAAA,WAAW,EAAG,GAAEA,WAAY,IAAGyN,KAAK,CAACzN,WAAY,EADlC;AAEf0E,YAAAA,IAAI,EAAE+I,KAAK,CAAC/I,IAFG;AAGf6I,YAAAA;AAHe,WAAD,CAAhB;AAKD;AARY,OAAD,CAAd;AAUD;;AAED,QAAIzB,KAAJ,EAAW;AACT,UAAIyB,QAAJ,EAAc;AACZ,YAAIrB,cAAJ,EAAoB;AAClBJ,UAAAA,KAAK,CAAC;AAAE9L,YAAAA,WAAF;AAAe0E,YAAAA,IAAf;AAAqB6I,YAAAA,QAAQ,EAAE;AAA/B,WAAD,CAAL;AACD;AACF,OAJD,MAIO;AACLzB,QAAAA,KAAK,CAAC;AAAE9L,UAAAA,WAAF;AAAe0E,UAAAA;AAAf,SAAD,CAAL;AACD;AACF,KA9B2D;;;AAiC5D,QAAI,CAACkH,wBAAD,IAA6BlH,IAAI,KAAK,WAA1C,EAAuD;AACrD,YAAMyG,OAAO,GAAGF,aAAa,CAAC9W,mBAAmB,CAACmY,QAAD,CAApB,EAAgC;AAAEoB,QAAAA,UAAU,EAAEvB;AAAd,OAAhC,CAA7B;AACAM,MAAAA,OAAO,CAAClB,uBAAR,CAAgC,MAAM;AACpCJ,QAAAA,OAAO,CAACwC,KAAR;AACD,OAFD;AAGAxC,MAAAA,OAAO,CAAChD,EAAR,CAAW,QAAX,EAAqB,CAAC0E,SAAD,EAAYD,QAAZ,KAAyB;AAC5CD,QAAAA,oBAAoB,CAAC;AACnBlG,UAAAA,oBAAoB,EAAEzG,WADH;AAEnB4M,UAAAA,QAAQ,EAAEA,QAAQ,GAAG1I,6BAA6B,CAAC0I,QAAD,CAAhC,GAA6C,EAF5C;AAGnBC,UAAAA;AAHmB,SAAD,CAApB;AAKD,OAND;AAOD;AACF,GA9CD;;AAgDA,QAAMO,eAAe,GAAG,CAAC;AAAEpN,IAAAA,WAAF;AAAe0E,IAAAA;AAAf,GAAD,KAA2B;AACjD,WAAOgI,UAAU,CAAC1M,WAAD,CAAjB;;AACA,QAAIgM,OAAJ,EAAa;AACXA,MAAAA,OAAO,CAAC;AAAEhM,QAAAA,WAAF;AAAe0E,QAAAA;AAAf,OAAD,CAAP;AACD;AACF,GALD;;AAOAlF,EAAAA,cAAc,CAAC;AACbnE,IAAAA,YAAY,EAAEzF,SADD;AAEb4X,IAAAA,UAAU,EAAE,CAAC;AAAExN,MAAAA,WAAF;AAAe0E,MAAAA;AAAf,KAAD,KAA2B;AACrC4I,MAAAA,gBAAgB,CAAC;AAAEtN,QAAAA,WAAF;AAAe0E,QAAAA,IAAf;AAAqB6I,QAAAA,QAAQ,EAAE;AAA/B,OAAD,CAAhB;AACD;AAJY,GAAD,CAAd;AAOA,QAAMpC,OAAO,GAAGF,aAAa,CAAC9W,mBAAmB,CAACyB,SAAD,CAApB,EAAiC;AAC5D8K,IAAAA,SAAS,EAAEA,SAAS,IAAIkL,wBADoC;AAE5D8B,IAAAA,UAAU,EAAEvB;AAFgD,GAAjC,CAA7B;AAIAM,EAAAA,OAAO,CAAClB,uBAAR,CAAgC,MAAM;AACpCJ,IAAAA,OAAO,CAACwC,KAAR;AACD,GAFD;AAGAxC,EAAAA,OAAO,CAAChD,EAAR,CAAW,QAAX,EAAqB,CAAC0E,SAAD,EAAYxY,cAAZ,KAA+B;AAClDsY,IAAAA,oBAAoB,CAAC,EACnB,GAAGiB,+CAA+C,CAACvZ,cAAD,CAD/B;AAEnBwY,MAAAA;AAFmB,KAAD,CAApB;AAID,GALD;AAOA,SAAOJ,OAAO,CAAChB,OAAf;AACD,CAlOM;;AAoOP,MAAMW,mBAAmB,GAAI9d,KAAD,IAAW,OAAOA,KAAP,KAAiB,WAAjB,IAAgC,OAAOA,KAAP,KAAiB,UAAxF;;AAEA,MAAMkR,cAAc,GAAG,CAAC;AAAEnE,EAAAA,YAAF;AAAgBmS,EAAAA;AAAhB,CAAD,KAAkC;AACvD,QAAMlS,aAAa,GAAGnH,mBAAmB,CAACkH,YAAD,CAAzC;AACAwS,EAAAA,cAAW,CAACvS,aAAD,CAAX,CAA2BpK,OAA3B,CAAoCuc,KAAD,IAAW;AAC5C,UAAMnB,QAAQ,GAAGtL,UAAU,CAACyM,KAAD,EAAQpS,YAAR,CAA3B;AACA,UAAMqJ,IAAI,GAAGoG,0BAA0B,CAACwB,QAAD,CAAvC;;AACA,QAAI5H,IAAI,KAAK,IAAb,EAAmB;AACjB;AACD;;AAED,UAAM1E,WAAW,GAAG7C,gBAAgB,CAACmP,QAAD,EAAWjR,YAAX,CAApC;AACAmS,IAAAA,UAAU,CAAC;AACTxN,MAAAA,WADS;AAET0E,MAAAA;AAFS,KAAD,CAAV;AAID,GAZD;AAaD,CAfD;;AAiBA,MAAMkJ,+CAA+C,GAAI7C,IAAD,IAAU;AAChE,MAAI,CAACA,IAAL,EAAW;AACT,WAAO;AACLtE,MAAAA,oBAAoB,EAAE,EADjB;AAELmG,MAAAA,QAAQ,EAAE;AAFL,KAAP;AAID;;AAED,QAAMkB,cAAc,GAAG5J,6BAA6B,CAAC6G,IAAD,CAApD;AACA,QAAM7N,cAAc,GAAG4Q,cAAc,CAACnR,WAAf,CAA2B,GAA3B,CAAvB;;AACA,MAAIO,cAAc,KAAK,CAAC,CAAxB,EAA2B;AACzB,WAAO;AACLuJ,MAAAA,oBAAoB,EAAE,EADjB;AAELmG,MAAAA,QAAQ,EAAEkB;AAFL,KAAP;AAID;;AAED,QAAMrH,oBAAoB,GAAGqH,cAAc,CAAC9d,KAAf,CAAqB,CAArB,EAAwBkN,cAAxB,CAA7B;AACA,QAAM0P,QAAQ,GAAGkB,cAAc,CAAC9d,KAAf,CAAqBkN,cAAc,GAAG,CAAtC,CAAjB;AACA,SAAO;AACLuJ,IAAAA,oBADK;AAELmG,IAAAA;AAFK,GAAP;AAID,CAvBD;;MCtQamB,qBAAqB,GAAG,CACnCrY,MADmC,EAEnC;AAAEoW,EAAAA,KAAF;AAASC,EAAAA,OAAT;AAAkBC,EAAAA,OAAlB;AAA2BE,EAAAA,cAAc,GAAG,KAA5C;AAAmDC,EAAAA,gBAAgB,GAAG;AAAtE,CAFmC,KAGhC;AACH,QAAMvW,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;;AACA,MAAI,CAAC0W,qBAAmB,CAACN,KAAD,CAAxB,EAAiC;AAC/B,UAAM,IAAItd,SAAJ,CAAe,8CAA6Csd,KAAM,EAAlE,CAAN;AACD;;AACD,MAAI,CAACM,qBAAmB,CAACL,OAAD,CAAxB,EAAmC;AACjC,UAAM,IAAIvd,SAAJ,CAAe,gDAA+Cud,OAAQ,EAAtE,CAAN;AACD;;AACD,MAAI,CAACK,qBAAmB,CAACJ,OAAD,CAAxB,EAAmC;AACjC,UAAM,IAAIxd,SAAJ,CAAe,gDAA+Cwd,OAAQ,EAAtE,CAAN;AACD;;AAED,QAAMS,OAAO,GAAGpB,eAAe,EAA/B;;AAEA,QAAM2C,eAAe,GAAG,CAAC;AAAET,IAAAA;AAAF,GAAD,KAAkB;AACxC,UAAMU,wBAAwB,GAAGC,iBAAiB,CAACtY,SAAD,EAAY;AAC5DmW,MAAAA,OAD4D;AAE5DC,MAAAA,OAAO,EAAE,MAAM;AACbmC,QAAAA,wBAAwB;AACxBC,QAAAA,cAAc;;AACd,YAAIpC,OAAJ,EAAa;AACXA,UAAAA,OAAO;AACR;AACF,OAR2D;AAS5DG,MAAAA;AAT4D,KAAZ,CAAlD;AAWA,UAAMgC,wBAAwB,GAAG1B,OAAO,CAAClB,uBAAR,CAAgC0C,wBAAhC,CAAjC;;AAEA,QAAInC,KAAJ,EAAW;AACT,UAAIyB,QAAJ,EAAc;AACZ,YAAIrB,cAAJ,EAAoB;AAClBJ,UAAAA,KAAK,CAAC;AAAEyB,YAAAA,QAAQ,EAAE;AAAZ,WAAD,CAAL;AACD;AACF,OAJD,MAIO;AACLzB,QAAAA,KAAK,CAAC,EAAD,CAAL;AACD;AACF;AACF,GAvBD;;AAyBA,QAAMsC,cAAc,GAAG,MAAM;AAC3B,UAAMC,wBAAwB,GAAGC,iBAAiB,CAChD1Y,SADgD,EAEhD,MAAM;AACJ2Y,MAAAA,yBAAyB;AACzBP,MAAAA,eAAe,CAAC;AAAET,QAAAA,QAAQ,EAAE;AAAZ,OAAD,CAAf;AACD,KAL+C,EAMhDpB,gBANgD,CAAlD;AAQA,UAAMoC,yBAAyB,GAAG9B,OAAO,CAAClB,uBAAR,CAAgC8C,wBAAhC,CAAlC;AACD,GAVD;;AAYA,QAAMxL,UAAU,GAAGiI,0BAA0B,CAAClV,SAAD,CAA7C;;AACA,MAAIiN,UAAU,KAAK,IAAnB,EAAyB;AACvB,QAAIiJ,KAAJ,EAAW;AACTsC,MAAAA,cAAc;AACf,KAFD,MAEO;AACL,YAAM,IAAI9e,KAAJ,CAAW,GAAE6E,mBAAmB,CAACyB,SAAD,CAAY,qCAA5C,CAAN;AACD;AACF,GAND,MAMO,IAAIiN,UAAU,KAAK,MAAnB,EAA2B;AAChCmL,IAAAA,eAAe,CAAC;AAAET,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CAAf;AACD,GAFM,MAEA;AACL,UAAM,IAAIje,KAAJ,CAAW,GAAE6E,mBAAmB,CAACyB,SAAD,CAAY,0CAA5C,CAAN;AACD;;AAED,SAAO6W,OAAO,CAAChB,OAAf;AACD,CApEM;;AAsEP,MAAMW,qBAAmB,GAAI9d,KAAD,IAAW,OAAOA,KAAP,KAAiB,WAAjB,IAAgC,OAAOA,KAAP,KAAiB,UAAxF;;AAEA,MAAMggB,iBAAiB,GAAG,CAAC5Y,MAAD,EAASuD,QAAT,EAAmBkT,gBAAnB,KAAwC;AAChE,QAAMtW,UAAU,GAAG1B,mBAAmB,CAACuB,MAAD,CAAtC;AACA,QAAM8Y,cAAc,GAAGC,aAAQ,CAAC5Y,UAAD,CAA/B;AACA,QAAMyF,aAAa,GAAGqI,YAAO,CAAC9N,UAAD,CAA7B;AACA,MAAI6Y,gBAAgB,GAAGzD,aAAa,CAAC3P,aAAD,EAAgB;AAAEoS,IAAAA,UAAU,EAAEvB;AAAd,GAAhB,CAApC;AACAuC,EAAAA,gBAAgB,CAACvG,EAAjB,CAAoB,QAApB,EAA8B,CAAC0E,SAAD,EAAYD,QAAZ,KAAyB;AACrD,QAAIA,QAAQ,IAAIA,QAAQ,KAAK4B,cAA7B,EAA6C;AAE7C,UAAM9J,IAAI,GAAGoG,0BAA0B,CAACpV,MAAD,CAAvC,CAHqD;AAKrD;;AACA,QAAIgP,IAAI,KAAK,MAAb,EAAqB;AAErBgK,IAAAA,gBAAgB,CAACf,KAAjB;AACAe,IAAAA,gBAAgB,GAAGxa,SAAnB;AACA+E,IAAAA,QAAQ;AACT,GAXD;AAaA,SAAO,MAAM;AACX,QAAIyV,gBAAJ,EAAsB;AACpBA,MAAAA,gBAAgB,CAACf,KAAjB;AACD;AACF,GAJD;AAKD,CAvBD;;AAyBA,MAAMO,iBAAiB,GAAG,CAACtY,SAAD,EAAY;AAAEmW,EAAAA,OAAF;AAAWC,EAAAA,OAAX;AAAoBG,EAAAA;AAApB,CAAZ,KAAuD;AAC/E,MAAIhB,OAAO,GAAGF,aAAa,CAAC9W,mBAAmB,CAACyB,SAAD,CAApB,EAAiC;AAAE8X,IAAAA,UAAU,EAAEvB;AAAd,GAAjC,CAA3B;AAEAhB,EAAAA,OAAO,CAAChD,EAAR,CAAW,QAAX,EAAqB,MAAM;AACzB,UAAMtF,UAAU,GAAGiI,0BAA0B,CAAClV,SAAD,CAA7C;;AAEA,QAAIiN,UAAU,KAAK,IAAnB,EAAyB;AACvBsI,MAAAA,OAAO,CAACwC,KAAR;AACAxC,MAAAA,OAAO,GAAGjX,SAAV;;AACA,UAAI8X,OAAJ,EAAa;AACXA,QAAAA,OAAO;AACR;AACF,KAND,MAMO,IAAInJ,UAAU,KAAK,MAAnB,EAA2B;AAChC,UAAIkJ,OAAJ,EAAa;AACXA,QAAAA,OAAO;AACR;AACF;AACF,GAdD;AAgBA,SAAO,MAAM;AACX,QAAIZ,OAAJ,EAAa;AACXA,MAAAA,OAAO,CAACwC,KAAR;AACD;AACF,GAJD;AAKD,CAxBD;;MCrGagB,mBAAmB,GAAG,CAAChgB,SAAD,EAAY6E,OAAZ,KAAwB;AACzD,QAAMvE,GAAG,GAAG+R,UAAU,CAACrS,SAAD,EAAY6E,OAAZ,CAAtB;AACA,SAAOX,sBAAsB,CAAC5D,GAAD,CAA7B;AACD,CAHM;;ACCP,MAAM;AAAE2f,EAAAA;AAAF,IAAarO,WAAnB;AACA,MAAM;AACJ;AACAsO,EAAAA,IAFI;AAGJC,EAAAA,IAHI;AAIJC,EAAAA;AAJI,IAKFC,YALJ;AAOA,MAAaC,6BAA6B,GAAG,OAC3CvZ,MAD2C,EAE3C;AAAEP,EAAAA,IAAI,GAAG,KAAT;AAAgBC,EAAAA,KAAK,GAAG,KAAxB;AAA+BC,EAAAA,OAAO,GAAG,KAAzC;AAAgD6Z,EAAAA,iBAAiB,GAAG;AAApE,IAA8E,EAFnC,KAGxC;AACH,QAAMtZ,SAAS,GAAGrC,yBAAyB,CAACmC,MAAD,CAA3C;AACA,QAAMG,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AACA,MAAIX,WAAW,GAAG,CAAlB,CAHG;;AAMH,MAAIE,IAAJ,EAAUF,WAAW,IAAI4Z,IAAf;AACV,MAAIzZ,KAAJ,EAAWH,WAAW,IAAI6Z,IAAf;AACX,MAAIzZ,OAAJ,EAAaJ,WAAW,IAAI8Z,IAAf;;AAEb,MAAI;AACF,UAAMH,MAAM,CAAC/Y,UAAD,EAAaZ,WAAb,CAAZ;AACA,WAAO,IAAP;AACD,GAHD,CAGE,OAAOmB,KAAP,EAAc;AACd,QAAIA,KAAK,CAAC2B,IAAN,KAAe,QAAnB,EAA6B;AAC3B,UAAImX,iBAAJ,EAAuB;AACrB,eAAO,IAAP;AACD;;AACD,YAAM9Y,KAAN;AACD;;AACD,WAAO,KAAP;AACD;AACF,CAzBM;;ACNP,MAAM;AAAE+Y,EAAAA,SAAS,EAAEC;AAAb,IAA+B7O,WAArC;AAEA,MAAa4O,SAAS,GAAG,OAAO1O,WAAP,EAAoB4O,OAAO,GAAG,EAA9B,KAAqC;AAC5D,QAAMzO,cAAc,GAAGrN,yBAAyB,CAACkN,WAAD,CAAhD;AAEA,QAAMI,eAAe,GAAG1M,mBAAmB,CAACyM,cAAD,CAA3C;;AACA,MAAI;AACF,UAAMwO,aAAa,CAACvO,eAAD,EAAkBwO,OAAlB,CAAnB;AACD,GAFD,CAEE,OAAOjZ,KAAP,EAAc;AACd,QAAIA,KAAK,CAAC2B,IAAN,KAAe,QAAnB,EAA6B;AAC3B,YAAM0L,uBAAuB,CAAC7C,cAAD,CAA7B;AACA,YAAMwO,aAAa,CAACvO,eAAD,EAAkBwO,OAAlB,CAAnB;AACA;AACD;;AACD,UAAMjZ,KAAN;AACD;AACF,CAdM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}