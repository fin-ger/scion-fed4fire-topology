{"version":3,"file":"main.cjs","sources":["../../node_modules/@jsenv/import-map/src/internal/assertImportMap.js","../../node_modules/@jsenv/import-map/src/sortImportMap.js","../../node_modules/@jsenv/util/src/internal/ensureUrlTrailingSlash.js","../../node_modules/@jsenv/util/src/isFileSystemPath.js","../../node_modules/@jsenv/util/src/fileSystemPathToUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeDirectoryUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeFileUrl.js","../../node_modules/@jsenv/util/src/internal/statsToType.js","../../node_modules/@jsenv/util/src/urlToFileSystemPath.js","../../node_modules/@jsenv/util/src/internal/permissions.js","../../node_modules/@jsenv/util/src/writeFileSystemNodePermissions.js","../../node_modules/@jsenv/util/src/readFileSystemNodeStat.js","../../node_modules/@jsenv/cancellation/src/operation/firstOperationMatching.js","../../node_modules/@jsenv/cancellation/src/cancelError.js","../../node_modules/@jsenv/cancellation/src/internal/arrayHelper.js","../../node_modules/@jsenv/cancellation/src/createCancellationSource.js","../../node_modules/@jsenv/util/src/catchCancellation.js","../../node_modules/@jsenv/util/src/internal/getCommonPathname.js","../../node_modules/@jsenv/util/src/internal/pathnameToDirectoryPathname.js","../../node_modules/@jsenv/util/src/urlToRelativeUrl.js","../../node_modules/@jsenv/util/src/writeDirectory.js","../../node_modules/@jsenv/util/src/resolveUrl.js","../../node_modules/@jsenv/util/src/ensureWindowsDriveLetter.js","../../node_modules/@jsenv/util/src/ensureParentDirectories.js","../../node_modules/@jsenv/util/src/writeSymbolicLink.js","../../node_modules/@jsenv/node-signals/src/SIGUPSignal.js","../../node_modules/@jsenv/node-signals/src/SIGINTSignal.js","../../node_modules/@jsenv/node-signals/src/SIGTERMSignal.js","../../node_modules/@jsenv/node-signals/src/beforeExitSignal.js","../../node_modules/@jsenv/node-signals/src/exitSignal.js","../../node_modules/@jsenv/node-signals/src/teardownSignal.js","../../node_modules/@jsenv/util/src/createCancellationTokenForProcess.js","../../node_modules/@jsenv/util/src/readFile.js","../../node_modules/@jsenv/util/src/internal/createWatcher.js","../../node_modules/@jsenv/util/src/registerDirectoryLifecycle.js","../../node_modules/@jsenv/util/src/writeFile.js","../../src/internal/readPackageFile.js","../../src/internal/resolveNodeModule.js","../../src/internal/resolvePackageMain.js","../../src/internal/specifierIsRelative.js","../../src/internal/visitPackageImports.js","../../src/internal/visitPackageExports.js","../../src/generateImportMapForPackage.js","../../node_modules/@jsenv/logger/src/LOG_LEVELS.js","../../node_modules/@jsenv/logger/src/createLogger.js","../../src/internal/importMapToVsCodeConfigPaths.js","../../src/generateImportMapForProjectPackage.js"],"sourcesContent":null,"names":["assertImportMap","value","TypeError","type","Array","isArray","sortImportMap","importMap","imports","scopes","sortImports","undefined","sortScopes","importsSorted","Object","keys","sort","compareLengthOrLocaleCompare","forEach","name","scopesSorted","scopeName","a","b","length","localeCompare","ensureUrlTrailingSlash","url","endsWith","isFileSystemPath","startsWithWindowsDriveLetter","string","firstChar","test","secondChar","fileSystemPathToUrl","Error","String","pathToFileURL","assertAndNormalizeDirectoryUrl","urlString","URL","href","e","startsWith","assertAndNormalizeFileUrl","baseUrl","statsToType","stats","isFile","isDirectory","isSymbolicLink","isFIFO","isSocket","isCharacterDevice","isBlockDevice","urlToFileSystemPath","fileUrl","slice","fileSystemPath","fileURLToPath","S_IRUSR","S_IWUSR","S_IXUSR","S_IRGRP","S_IWGRP","S_IXGRP","S_IROTH","S_IWOTH","S_IXOTH","permissionsToBinaryFlags","owner","group","others","binaryFlags","read","write","execute","writeFileSystemNodePermissions","source","permissions","sourceUrl","sourcePath","getPermissionOrComputeDefault","chmodNaive","Promise","resolve","reject","chmod","error","actionLevels","subjectLevels","action","subject","subjectPermissions","actionLevel","actionFallback","find","actionFallbackCandidate","subjectLevel","subjectFallback","subjectFallbackCandidate","isWindows","process","platform","readFileSystemNodeStat","nullIfNotFound","followLink","handleNotFoundOption","handleNotFoundError","readStat","handlePermissionDeniedError","nodeMethod","stat","lstat","statsObject","code","firstOperationMatching","array","start","predicate","visit","index","input","returnValue","then","output","createCancelError","reason","cancelError","isCancelError","arrayWithout","item","arrayWithoutItem","i","push","createCancellationSource","requested","registrationArray","cancel","registrationArrayCopy","registration","callback","register","existingRegistration","unregister","throwIfRequested","token","cancellationRequested","catchCancellation","asyncFn","catch","getCommonPathname","pathname","otherPathname","firstDifferentCharacterIndex","findFirstDifferentCharacterIndex","commonString","charAt","firstDifferentSlashIndex","lastIndexOf","otherString","maxCommonLength","Math","min","char","otherChar","pathnameToDirectoryPathname","slashLastIndex","urlToRelativeUrl","urlArg","baseUrlArg","protocol","username","password","host","hash","search","basePathname","commonPathname","specificPathname","baseSpecificPathname","baseSpecificDirectoryPathname","relativeDirectoriesNotation","replace","relativePathname","mkdir","promises","writeDirectory","destination","recursive","allowUseless","destinationUrl","destinationPath","destinationStats","destinationType","resolveUrl","specifier","baseUrlFallback","cwd","ensureParentDirectories","destinationParentPath","dirname","addCallback","triggerHangUpOrDeath","once","removeListener","SIGUPSignal","SIGINTSignal","console","warn","triggerTermination","SIGTERMSignal","beforeExitCallbackArray","uninstall","install","filter","beforeExitCallback","onBeforeExit","reduce","previous","beforeExitSignal","collectExceptions","exitCallback","on","getExceptions","stop","trackExceptions","exceptionArray","map","exception","origin","unhandledRejectionCallback","unhandledRejection","promise","rejectionHandledCallback","uncaughtExceptionCallback","uncaughtException","exitSignal","eventRace","SIGHUP","SIGINT","SIGTERM","beforeExit","exit","eventMap","unregisterMap","unregisterAll","args","teardownSignal","createCancellationTokenForProcess","teardownCancelSource","readFilePromisified","promisify","readFileNode","readFile","filePath","buffer","toString","isLinux","writeFile","writeFileNode","content","readPackageFile","packageFileUrl","manualOverrides","packageFileString","packageJsonObject","JSON","parse","version","overrideKey","overrideKeyCandidate","composeObject","leftObject","rightObject","composedObject","key","rightValue","leftValue","resolveNodeModule","logger","rootProjectDirectoryUrl","dependencyName","dependencyVersionPattern","dependencyType","packageDirectoryUrl","nodeModuleCandidateArray","computeNodeModuleCandidateArray","result","nodeModuleCandidate","message","Boolean","packageDirectoryRelativeUrl","candidateArray","relativeNodeModuleDirectoryArray","split","shift","join","resolvePackageMain","resolveMainFile","packageMainFieldName","packageMainFieldValue","module","main","extensionCandidateArray","packageFilePath","mainFileRelativeUrl","mainFileUrlFirstCandidate","mainFileUrl","findMainFileUrlOrNull","extensionTried","extname","mainStats","indexFileUrl","extensionLeadingToAFile","findExtension","mainFilePath","extension","fileDirname","fileBasename","basename","extensionLeadingToFile","extensionCandidate","filePathCandidate","specifierIsRelative","visitPackageImports","importsForPackageImports","packageImports","address","from","to","visitPackageExports","packageName","packageInfo","favoredExports","importsForPackageExports","exports","packageExports","addressToDestination","packageExportsKeys","someSpecifierStartsWithDot","some","someSpecifierDoesNotStartsWithDot","favoredExport","default","generateImportMapForPackage","projectDirectoryUrl","includeDevDependencies","includeExports","includeImports","selfImport","projectPackageFileUrl","rootProjectPackageFileUrl","seen","markPackageAsSeen","importerPackageFileUrl","packageIsSeen","includes","importerPackageJsonObject","visitPackage","visitDependencies","computePackageInfo","visitPackageMain","packageIsRoot","addImportMapping","toScoped","addScopedImportMapping","scope","importerIsRoot","importerRelativeUrl","packageIsProject","packageDirectoryUrlExpected","dependencyMap","dependencies","versionPattern","peerDependencies","isProjectPackage","devDependencies","hasOwnProperty","all","dependency","visitDependency","dependencyData","findDependency","dependencyPackageFileUrl","dependencyPackageJsonObject","importerIsProject","importerPackageDirectoryUrl","dependenciesCache","dependencyPromise","projectPackageJsonObject","scopedImports","scopedImportKey","LOG_LEVEL_OFF","LOG_LEVEL_DEBUG","LOG_LEVEL_INFO","LOG_LEVEL_WARN","LOG_LEVEL_ERROR","createLogger","logLevel","debug","info","debugDisabled","infoDisabled","warnDisabled","errorDisabled","importMapToVsCodeConfigPaths","paths","importKey","importValue","importValueArray","candidatesForPath","generateImportMapForProjectPackage","cancellationToken","env","NODE_ENV","importMapFile","importMapFileRelativeUrl","importMapFileLog","jsConfigFile","jsConfigFileLog","jsConfigLeadingSlash","importMapFileUrl","stringify","jsConfigFileUrl","jsConfig","compilerOptions","exitCode"],"mappings":";;;;;;;;;;AAAO,MAAMA,eAAe,GAAIC,KAAD,IAAW;AACxC,MAAIA,KAAK,KAAK,IAAd,EAAoB;AAClB,UAAM,IAAIC,SAAJ,CAAe,0CAAf,CAAN;AACD;;AAED,QAAMC,IAAI,GAAG,OAAOF,KAApB;;AACA,MAAIE,IAAI,KAAK,QAAb,EAAuB;AACrB,UAAM,IAAID,SAAJ,CAAe,4CAA2CD,KAAM,EAAhE,CAAN;AACD;;AAED,MAAIG,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAJ,EAA0B;AACxB,UAAM,IAAIC,SAAJ,CAAe,kDAAiDD,KAAM,EAAtE,CAAN;AACD;AACF,CAbM;;ACEA,MAAMK,aAAa,GAAIC,SAAD,IAAe;AAC1CP,EAAAA,eAAe,CAACO,SAAD,CAAf;AAEA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAsBF,SAA5B;AACA,SAAO;AACLC,IAAAA,OAAO,EAAEA,OAAO,GAAGE,WAAW,CAACF,OAAD,CAAd,GAA0BG,SADrC;AAELF,IAAAA,MAAM,EAAEA,MAAM,GAAGG,UAAU,CAACH,MAAD,CAAb,GAAwBE;AAFjC,GAAP;AAID,CARM;AAUP,AAAO,MAAMD,WAAW,GAAIF,OAAD,IAAa;AACtC,QAAMK,aAAa,GAAG,EAAtB;AACAC,EAAAA,MAAM,CAACC,IAAP,CAAYP,OAAZ,EACGQ,IADH,CACQC,4BADR,EAEGC,OAFH,CAEYC,IAAD,IAAU;AACjBN,IAAAA,aAAa,CAACM,IAAD,CAAb,GAAsBX,OAAO,CAACW,IAAD,CAA7B;AACD,GAJH;AAKA,SAAON,aAAP;AACD,CARM;AAUP,AAAO,MAAMD,UAAU,GAAIH,MAAD,IAAY;AACpC,QAAMW,YAAY,GAAG,EAArB;AACAN,EAAAA,MAAM,CAACC,IAAP,CAAYN,MAAZ,EACGO,IADH,CACQC,4BADR,EAEGC,OAFH,CAEYG,SAAD,IAAe;AACtBD,IAAAA,YAAY,CAACC,SAAD,CAAZ,GAA0BX,WAAW,CAACD,MAAM,CAACY,SAAD,CAAP,CAArC;AACD,GAJH;AAKA,SAAOD,YAAP;AACD,CARM;;AAUP,MAAMH,4BAA4B,GAAG,CAACK,CAAD,EAAIC,CAAJ,KAAU;AAC7C,SAAOA,CAAC,CAACC,MAAF,GAAWF,CAAC,CAACE,MAAb,IAAuBF,CAAC,CAACG,aAAF,CAAgBF,CAAhB,CAA9B;AACD,CAFD;;AChCO,MAAMG,sBAAsB,GAAIC,GAAD,IAAS;AAC7C,SAAOA,GAAG,CAACC,QAAJ,CAAa,GAAb,IAAoBD,GAApB,GAA2B,GAAEA,GAAI,GAAxC;AACD,CAFM;;ACAA,MAAME,gBAAgB,GAAI5B,KAAD,IAAW;AACzC,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,UAAM,IAAIC,SAAJ,CAAe,oDAAmDD,KAAM,EAAxE,CAAN;AACD;;AAED,MAAIA,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB,OAAO,IAAP;AACtB,SAAO6B,4BAA4B,CAAC7B,KAAD,CAAnC;AACD,CAPM;;AASP,MAAM6B,4BAA4B,GAAIC,MAAD,IAAY;AAC/C,QAAMC,SAAS,GAAGD,MAAM,CAAC,CAAD,CAAxB;AACA,MAAI,CAAC,WAAWE,IAAX,CAAgBD,SAAhB,CAAL,EAAiC,OAAO,KAAP;AAEjC,QAAME,UAAU,GAAGH,MAAM,CAAC,CAAD,CAAzB;AACA,MAAIG,UAAU,KAAK,GAAnB,EAAwB,OAAO,KAAP;AAExB,SAAO,IAAP;AACD,CARD;;ACNO,MAAMC,mBAAmB,GAAIlC,KAAD,IAAW;AAC5C,MAAI,CAAC4B,gBAAgB,CAAC5B,KAAD,CAArB,EAA8B;AAC5B,UAAM,IAAImC,KAAJ,CAAW,iDAAgDnC,KAAM,EAAjE,CAAN;AACD;;AACD,SAAOoC,MAAM,CAACC,iBAAa,CAACrC,KAAD,CAAd,CAAb;AACD,CALM;;ACCA,MAAMsC,8BAA8B,GAAItC,KAAD,IAAW;AACvD,MAAIuC,SAAJ;;AAEA,MAAIvC,KAAK,YAAYwC,GAArB,EAA0B;AACxBD,IAAAA,SAAS,GAAGvC,KAAK,CAACyC,IAAlB;AACD,GAFD,MAEO,IAAI,OAAOzC,KAAP,KAAiB,QAArB,EAA+B;AACpC,QAAI4B,gBAAgB,CAAC5B,KAAD,CAApB,EAA6B;AAC3BuC,MAAAA,SAAS,GAAGL,mBAAmB,CAAClC,KAAD,CAA/B;AACD,KAFD,MAEO;AACL,UAAI;AACFuC,QAAAA,SAAS,GAAGH,MAAM,CAAC,IAAII,GAAJ,CAAQxC,KAAR,CAAD,CAAlB;AACD,OAFD,CAEE,OAAO0C,CAAP,EAAU;AACV,cAAM,IAAIzC,SAAJ,CAAe,8CAA6CD,KAAM,EAAlE,CAAN;AACD;AACF;AACF,GAVM,MAUA;AACL,UAAM,IAAIC,SAAJ,CAAe,qDAAoDD,KAAM,EAAzE,CAAN;AACD;;AAED,MAAI,CAACuC,SAAS,CAACI,UAAV,CAAqB,SAArB,CAAL,EAAsC;AACpC,UAAM,IAAIR,KAAJ,CAAW,mDAAkDnC,KAAM,EAAnE,CAAN;AACD;;AAED,SAAOyB,sBAAsB,CAACc,SAAD,CAA7B;AACD,CAxBM;;ACDA,MAAMK,yBAAyB,GAAG,CAAC5C,KAAD,EAAQ6C,OAAR,KAAoB;AAC3D,MAAIN,SAAJ;;AAEA,MAAIvC,KAAK,YAAYwC,GAArB,EAA0B;AACxBD,IAAAA,SAAS,GAAGvC,KAAK,CAACyC,IAAlB;AACD,GAFD,MAEO,IAAI,OAAOzC,KAAP,KAAiB,QAArB,EAA+B;AACpC,QAAI4B,gBAAgB,CAAC5B,KAAD,CAApB,EAA6B;AAC3BuC,MAAAA,SAAS,GAAGL,mBAAmB,CAAClC,KAAD,CAA/B;AACD,KAFD,MAEO;AACL,UAAI;AACFuC,QAAAA,SAAS,GAAGH,MAAM,CAAC,IAAII,GAAJ,CAAQxC,KAAR,EAAe6C,OAAf,CAAD,CAAlB;AACD,OAFD,CAEE,OAAOH,CAAP,EAAU;AACV,cAAM,IAAIzC,SAAJ,CAAe,yCAAwCD,KAAM,EAA7D,CAAN;AACD;AACF;AACF,GAVM,MAUA;AACL,UAAM,IAAIC,SAAJ,CAAe,gDAA+CD,KAAM,EAApE,CAAN;AACD;;AAED,MAAI,CAACuC,SAAS,CAACI,UAAV,CAAqB,SAArB,CAAL,EAAsC;AACpC,UAAM,IAAIR,KAAJ,CAAW,8CAA6CnC,KAAM,EAA9D,CAAN;AACD;;AAED,SAAOuC,SAAP;AACD,CAxBM;;ACHA,MAAMO,WAAW,GAAIC,KAAD,IAAW;AACpC,MAAIA,KAAK,CAACC,MAAN,EAAJ,EAAoB,OAAO,MAAP;AACpB,MAAID,KAAK,CAACE,WAAN,EAAJ,EAAyB,OAAO,WAAP;AACzB,MAAIF,KAAK,CAACG,cAAN,EAAJ,EAA4B,OAAO,eAAP;AAC5B,MAAIH,KAAK,CAACI,MAAN,EAAJ,EAAoB,OAAO,MAAP;AACpB,MAAIJ,KAAK,CAACK,QAAN,EAAJ,EAAsB,OAAO,QAAP;AACtB,MAAIL,KAAK,CAACM,iBAAN,EAAJ,EAA+B,OAAO,kBAAP;AAC/B,MAAIN,KAAK,CAACO,aAAN,EAAJ,EAA2B,OAAO,cAAP;AAC3B,SAAO5C,SAAP;AACD,CATM;;ACEA,MAAM6C,mBAAmB,GAAIC,OAAD,IAAa;AAC9C,MAAIA,OAAO,CAACA,OAAO,CAACjC,MAAR,GAAiB,CAAlB,CAAP,KAAgC,GAApC,EAAyC;AACvC;AACA;AACAiC,IAAAA,OAAO,GAAGA,OAAO,CAACC,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAV;AACD;;AACD,QAAMC,cAAc,GAAGC,iBAAa,CAACH,OAAD,CAApC;AACA,SAAOE,cAAP;AACD,CARM;;ACFP;AACA;AACA;AAEA;AACA,MAAME,OAAO,GAAG,GAAhB;AAAoB;;AACpB,MAAMC,OAAO,GAAG,GAAhB;AAAoB;;AACpB,MAAMC,OAAO,GAAG,EAAhB;AAAmB;;AACnB,MAAMC,OAAO,GAAG,EAAhB;AAAmB;;AACnB,MAAMC,OAAO,GAAG,EAAhB;AAAmB;;AACnB,MAAMC,OAAO,GAAG,CAAhB;AAAkB;;AAClB,MAAMC,OAAO,GAAG,CAAhB;AAAkB;;AAClB,MAAMC,OAAO,GAAG,CAAhB;AAAkB;;AAClB,MAAMC,OAAO,GAAG,CAAhB;AAAkB,AA6CX,MAAMC,wBAAwB,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,KAAT;AAAgBC,EAAAA;AAAhB,CAAD,KAA8B;AACpE,MAAIC,WAAW,GAAG,CAAlB;AAEA,MAAIH,KAAK,CAACI,IAAV,EAAgBD,WAAW,IAAIb,OAAf;AAChB,MAAIU,KAAK,CAACK,KAAV,EAAiBF,WAAW,IAAIZ,OAAf;AACjB,MAAIS,KAAK,CAACM,OAAV,EAAmBH,WAAW,IAAIX,OAAf;AAEnB,MAAIS,KAAK,CAACG,IAAV,EAAgBD,WAAW,IAAIV,OAAf;AAChB,MAAIQ,KAAK,CAACI,KAAV,EAAiBF,WAAW,IAAIT,OAAf;AACjB,MAAIO,KAAK,CAACK,OAAV,EAAmBH,WAAW,IAAIR,OAAf;AAEnB,MAAIO,MAAM,CAACE,IAAX,EAAiBD,WAAW,IAAIP,OAAf;AACjB,MAAIM,MAAM,CAACG,KAAX,EAAkBF,WAAW,IAAIN,OAAf;AAClB,MAAIK,MAAM,CAACI,OAAX,EAAoBH,WAAW,IAAIL,OAAf;AAEpB,SAAOK,WAAP;AACD,CAhBM;;ACrDA,MAAMI,8BAA8B,GAAG,OAAOC,MAAP,EAAeC,WAAf,KAA+B;AAC3E,QAAMC,SAAS,GAAGpC,yBAAyB,CAACkC,MAAD,CAA3C;AACA,QAAMG,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,MAAIP,WAAJ;;AACA,MAAI,OAAOM,WAAP,KAAuB,QAA3B,EAAqC;AACnCA,IAAAA,WAAW,GAAG;AACZT,MAAAA,KAAK,EAAE;AACLI,QAAAA,IAAI,EAAEQ,6BAA6B,CAAC,MAAD,EAAS,OAAT,EAAkBH,WAAlB,CAD9B;AAELJ,QAAAA,KAAK,EAAEO,6BAA6B,CAAC,OAAD,EAAU,OAAV,EAAmBH,WAAnB,CAF/B;AAGLH,QAAAA,OAAO,EAAEM,6BAA6B,CAAC,SAAD,EAAY,OAAZ,EAAqBH,WAArB;AAHjC,OADK;AAMZR,MAAAA,KAAK,EAAE;AACLG,QAAAA,IAAI,EAAEQ,6BAA6B,CAAC,MAAD,EAAS,OAAT,EAAkBH,WAAlB,CAD9B;AAELJ,QAAAA,KAAK,EAAEO,6BAA6B,CAAC,OAAD,EAAU,OAAV,EAAmBH,WAAnB,CAF/B;AAGLH,QAAAA,OAAO,EAAEM,6BAA6B,CAAC,SAAD,EAAY,OAAZ,EAAqBH,WAArB;AAHjC,OANK;AAWZP,MAAAA,MAAM,EAAE;AACNE,QAAAA,IAAI,EAAEQ,6BAA6B,CAAC,MAAD,EAAS,QAAT,EAAmBH,WAAnB,CAD7B;AAENJ,QAAAA,KAAK,EAAEO,6BAA6B,CAAC,OAAD,EAAU,QAAV,EAAoBH,WAApB,CAF9B;AAGNH,QAAAA,OAAO,EAAEM,6BAA6B,CAAC,SAAD,EAAY,QAAZ,EAAsBH,WAAtB;AAHhC;AAXI,KAAd;AAiBAN,IAAAA,WAAW,GAAGJ,wBAAwB,CAACU,WAAD,CAAtC;AACD,GAnBD,MAmBO;AACLN,IAAAA,WAAW,GAAGM,WAAd;AACD;;AAED,SAAOI,UAAU,CAACF,UAAD,EAAaR,WAAb,CAAjB;AACD,CA7BM;;AA+BP,MAAMU,UAAU,GAAG,CAACzB,cAAD,EAAiBe,WAAjB,KAAiC;AAClD,SAAO,IAAIW,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,IAAAA,QAAK,CAAC7B,cAAD,EAAiBe,WAAjB,EAA+Be,KAAD,IAAW;AAC5C,UAAIA,KAAJ,EAAW;AACTF,QAAAA,MAAM,CAACE,KAAD,CAAN;AACD,OAFD,MAEO;AACLH,QAAAA,OAAO;AACR;AACF,KANI,CAAL;AAOD,GARM,CAAP;AASD,CAVD;;AAYA,MAAMI,YAAY,GAAG;AAAEf,EAAAA,IAAI,EAAE,CAAR;AAAWC,EAAAA,KAAK,EAAE,CAAlB;AAAqBC,EAAAA,OAAO,EAAE;AAA9B,CAArB;AACA,MAAMc,aAAa,GAAG;AAAElB,EAAAA,MAAM,EAAE,CAAV;AAAaD,EAAAA,KAAK,EAAE,CAApB;AAAuBD,EAAAA,KAAK,EAAE;AAA9B,CAAtB;;AAEA,MAAMY,6BAA6B,GAAG,CAACS,MAAD,EAASC,OAAT,EAAkBb,WAAlB,KAAkC;AACtE,MAAIa,OAAO,IAAIb,WAAf,EAA4B;AAC1B,UAAMc,kBAAkB,GAAGd,WAAW,CAACa,OAAD,CAAtC;;AACA,QAAID,MAAM,IAAIE,kBAAd,EAAkC;AAChC,aAAOA,kBAAkB,CAACF,MAAD,CAAzB;AACD;;AAED,UAAMG,WAAW,GAAGL,YAAY,CAACE,MAAD,CAAhC;AACA,UAAMI,cAAc,GAAGlF,MAAM,CAACC,IAAP,CAAY2E,YAAZ,EAA0BO,IAA1B,CACpBC,uBAAD,IACER,YAAY,CAACQ,uBAAD,CAAZ,GAAwCH,WAAxC,IACAG,uBAAuB,IAAIJ,kBAHR,CAAvB;;AAKA,QAAIE,cAAJ,EAAoB;AAClB,aAAOF,kBAAkB,CAACE,cAAD,CAAzB;AACD;AACF;;AAED,QAAMG,YAAY,GAAGR,aAAa,CAACE,OAAD,CAAlC,CAlBsE;AAoBtE;;AACA,QAAMO,eAAe,GAAGtF,MAAM,CAACC,IAAP,CAAY4E,aAAZ,EAA2BM,IAA3B,CACrBI,wBAAD,IACEV,aAAa,CAACU,wBAAD,CAAb,GAA0CF,YAA1C,IACAE,wBAAwB,IAAIrB,WAHR,CAAxB;;AAKA,MAAIoB,eAAJ,EAAqB;AACnB,UAAMN,kBAAkB,GAAGd,WAAW,CAACoB,eAAD,CAAtC;AACA,WAAOR,MAAM,IAAIE,kBAAV,GACHA,kBAAkB,CAACF,MAAD,CADf,GAEHT,6BAA6B,CAACS,MAAD,EAASQ,eAAT,EAA0BpB,WAA1B,CAFjC;AAGD;;AAED,SAAO,KAAP;AACD,CAlCD;;AC9CA,MAAMsB,SAAS,GAAGC,OAAO,CAACC,QAAR,KAAqB,OAAvC;AAEA,AAAO,MAAMC,sBAAsB,GAAG,OACpC1B,MADoC,EAEpC;AAAE2B,EAAAA,cAAc,GAAG,KAAnB;AAA0BC,EAAAA,UAAU,GAAG;AAAvC,IAAgD,EAFZ,KAGjC;AACH,MAAI5B,MAAM,CAACnD,QAAP,CAAgB,GAAhB,CAAJ,EAA0BmD,MAAM,GAAGA,MAAM,CAACrB,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,CAAT;AAE1B,QAAMuB,SAAS,GAAGpC,yBAAyB,CAACkC,MAAD,CAA3C;AACA,QAAMG,UAAU,GAAG1B,mBAAmB,CAACyB,SAAD,CAAtC;AAEA,QAAM2B,oBAAoB,GAAGF,cAAc,GACvC;AACEG,IAAAA,mBAAmB,EAAE,MAAM;AAD7B,GADuC,GAIvC,EAJJ;AAMA,SAAOC,QAAQ,CAAC5B,UAAD,EAAa;AAC1ByB,IAAAA,UAD0B;AAE1B,OAAGC,oBAFuB;AAG1B,QAAIN,SAAS,GACT;AACE;AACAS,MAAAA,2BAA2B,EAAE,MAAOtB,KAAP,IAAiB;AAC5C;AACA;AACA;AACA,YAAI;AACF,gBAAMX,8BAA8B,CAACG,SAAD,EAAY,KAAZ,CAApC;AACA,gBAAMjC,KAAK,GAAG,MAAM8D,QAAQ,CAAC5B,UAAD,EAAa;AACvCyB,YAAAA,UADuC;AAEvC,eAAGC,oBAFoC;AAGvC;AACAG,YAAAA,2BAA2B,EAAE,MAAM;AACjC,oBAAMtB,KAAN;AACD;AANsC,WAAb,CAA5B;AAQA,iBAAOzC,KAAP;AACD,SAXD,CAWE,OAAOL,CAAP,EAAU;AACV;AACA,gBAAM8C,KAAN;AACD;AACF;AArBH,KADS,GAwBT,EAxBJ;AAH0B,GAAb,CAAf;AA6BD,CA5CM;;AA8CP,MAAMqB,QAAQ,GAAG,CACf5B,UADe,EAEf;AAAEyB,EAAAA,UAAF;AAAcE,EAAAA,mBAAmB,GAAG,IAApC;AAA0CE,EAAAA,2BAA2B,GAAG;AAAxE,IAAiF,EAFlE,KAGZ;AACH,QAAMC,UAAU,GAAGL,UAAU,GAAGM,OAAH,GAAUC,QAAvC;AAEA,SAAO,IAAI7B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCyB,IAAAA,UAAU,CAAC9B,UAAD,EAAa,CAACO,KAAD,EAAQ0B,WAAR,KAAwB;AAC7C,UAAI1B,KAAJ,EAAW;AACT,YAAIsB,2BAA2B,KAAKtB,KAAK,CAAC2B,IAAN,KAAe,OAAf,IAA0B3B,KAAK,CAAC2B,IAAN,KAAe,QAA9C,CAA/B,EAAwF;AACtF9B,UAAAA,OAAO,CAACyB,2BAA2B,CAACtB,KAAD,CAA5B,CAAP;AACD,SAFD,MAEO,IAAIoB,mBAAmB,IAAIpB,KAAK,CAAC2B,IAAN,KAAe,QAA1C,EAAoD;AACzD9B,UAAAA,OAAO,CAACuB,mBAAmB,CAACpB,KAAD,CAApB,CAAP;AACD,SAFM,MAEA;AACLF,UAAAA,MAAM,CAACE,KAAD,CAAN;AACD;AACF,OARD,MAQO;AACLH,QAAAA,OAAO,CAAC6B,WAAD,CAAP;AACD;AACF,KAZS,CAAV;AAaD,GAdM,CAAP;AAeD,CArBD;;ACrDO,MAAME,sBAAsB,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,KAAT;AAAgBC,EAAAA;AAAhB,CAAD,KAAiC;AACrE,MAAI,OAAOF,KAAP,KAAiB,QAArB,EAA+B;AAC7B,UAAM,IAAIpH,SAAJ,CAAe,gCAA+BoH,KAAM,EAApD,CAAN;AACD;;AACD,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC;AAC/B,UAAM,IAAIrH,SAAJ,CAAe,iCAAgCqH,KAAM,EAArD,CAAN;AACD;;AACD,MAAI,OAAOC,SAAP,KAAqB,UAAzB,EAAqC;AACnC,UAAM,IAAItH,SAAJ,CAAe,qCAAoCsH,SAAU,EAA7D,CAAN;AACD;;AAED,SAAO,IAAInC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAMkC,KAAK,GAAIC,KAAD,IAAW;AACvB,UAAIA,KAAK,IAAIJ,KAAK,CAAC9F,MAAnB,EAA2B;AACzB,eAAO8D,OAAO,EAAd;AACD;;AACD,YAAMqC,KAAK,GAAGL,KAAK,CAACI,KAAD,CAAnB;AACA,YAAME,WAAW,GAAGL,KAAK,CAACI,KAAD,CAAzB;AACA,aAAOtC,OAAO,CAACC,OAAR,CAAgBsC,WAAhB,EAA6BC,IAA7B,CAAmCC,MAAD,IAAY;AACnD,YAAIN,SAAS,CAACM,MAAD,CAAb,EAAuB;AACrB,iBAAOxC,OAAO,CAACwC,MAAD,CAAd;AACD;;AACD,eAAOL,KAAK,CAACC,KAAK,GAAG,CAAT,CAAZ;AACD,OALM,EAKJnC,MALI,CAAP;AAMD,KAZD;;AAcAkC,IAAAA,KAAK,CAAC,CAAD,CAAL;AACD,GAhBM,CAAP;AAiBD,CA5BM;;ACAA,MAAMM,iBAAiB,GAAIC,MAAD,IAAY;AAC3C,QAAMC,WAAW,GAAG,IAAI7F,KAAJ,CAAW,oBAAmB4F,MAAO,EAArC,CAApB;AACAC,EAAAA,WAAW,CAAC9G,IAAZ,GAAmB,cAAnB;AACA8G,EAAAA,WAAW,CAACD,MAAZ,GAAqBA,MAArB;AACA,SAAOC,WAAP;AACD,CALM;AAOP,AAAO,MAAMC,aAAa,GAAIjI,KAAD,IAAW;AACtC,SAAOA,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAA1B,IAAsCA,KAAK,CAACkB,IAAN,KAAe,cAA5D;AACD,CAFM;;ACPA,MAAMgH,YAAY,GAAG,CAACb,KAAD,EAAQc,IAAR,KAAiB;AAC3C,QAAMC,gBAAgB,GAAG,EAAzB;AACA,MAAIC,CAAC,GAAG,CAAR;;AACA,SAAOA,CAAC,GAAGhB,KAAK,CAAC9F,MAAjB,EAAyB;AACvB,UAAMvB,KAAK,GAAGqH,KAAK,CAACgB,CAAD,CAAnB;AACAA,IAAAA,CAAC;;AACD,QAAIrI,KAAK,KAAKmI,IAAd,EAAoB;AAClB;AACD;;AACDC,IAAAA,gBAAgB,CAACE,IAAjB,CAAsBtI,KAAtB;AACD;;AACD,SAAOoI,gBAAP;AACD,CAZM;;ACAP;AACA,AAGO,MAAMG,wBAAwB,GAAG,MAAM;AAC5C,MAAIC,SAAS,GAAG,KAAhB;AACA,MAAIR,WAAJ;AACA,MAAIS,iBAAiB,GAAG,EAAxB;;AACA,QAAMC,MAAM,GAAIX,MAAD,IAAY;AACzB,QAAIS,SAAJ,EAAe;AACfA,IAAAA,SAAS,GAAG,IAAZ;AACAR,IAAAA,WAAW,GAAGF,iBAAiB,CAACC,MAAD,CAA/B;AAEA,UAAMY,qBAAqB,GAAGF,iBAAiB,CAAChF,KAAlB,EAA9B;AACAgF,IAAAA,iBAAiB,CAAClH,MAAlB,GAA2B,CAA3B;AACAoH,IAAAA,qBAAqB,CAAC1H,OAAtB,CAA+B2H,YAAD,IAAkB;AAC9CA,MAAAA,YAAY,CAACC,QAAb,CAAsBb,WAAtB,EAD8C;AAG/C,KAHD;AAID,GAXD;;AAaA,QAAMc,QAAQ,GAAID,QAAD,IAAc;AAC7B,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,YAAM,IAAI1G,KAAJ,CAAW,oCAAmC0G,QAAS,EAAvD,CAAN;AACD;;AAED,UAAME,oBAAoB,GAAGN,iBAAiB,CAACzC,IAAlB,CAAwB4C,YAAD,IAAkB;AACpE,aAAOA,YAAY,CAACC,QAAb,KAA0BA,QAAjC;AACD,KAF4B,CAA7B,CAL6B;;AAS7B,QAAIE,oBAAJ,EAA0B;AACxB,aAAOA,oBAAP;AACD;;AAED,UAAMH,YAAY,GAAG;AACnBC,MAAAA,QADmB;AAEnBG,MAAAA,UAAU,EAAE,MAAM;AAChBP,QAAAA,iBAAiB,GAAGP,YAAY,CAACO,iBAAD,EAAoBG,YAApB,CAAhC;AACD;AAJkB,KAArB;AAMAH,IAAAA,iBAAiB,GAAG,CAACG,YAAD,EAAe,GAAGH,iBAAlB,CAApB;AAEA,WAAOG,YAAP;AACD,GAtBD;;AAwBA,QAAMK,gBAAgB,GAAG,MAAM;AAC7B,QAAIT,SAAJ,EAAe;AACb,YAAMR,WAAN;AACD;AACF,GAJD;;AAMA,SAAO;AACLkB,IAAAA,KAAK,EAAE;AACLJ,MAAAA,QADK;;AAEL,UAAIK,qBAAJ,GAA4B;AAC1B,eAAOX,SAAP;AACD,OAJI;;AAKLS,MAAAA;AALK,KADF;AAQLP,IAAAA;AARK,GAAP;AAUD,CAzDM;;ACFA,MAAMU,iBAAiB,GAAIC,OAAD,IAAa;AAC5C,SAAOA,OAAO,GAAGC,KAAV,CAAiB9D,KAAD,IAAW;AAChC,QAAIyC,aAAa,CAACzC,KAAD,CAAjB,EAA0B;AACxB;AACA;AACA;AACA,aAAOA,KAAP;AACD;;AACD,UAAMA,KAAN;AACD,GARM,CAAP;AASD,CAVM;;ACFA,MAAM+D,iBAAiB,GAAG,CAACC,QAAD,EAAWC,aAAX,KAA6B;AAC5D,QAAMC,4BAA4B,GAAGC,gCAAgC,CAACH,QAAD,EAAWC,aAAX,CAArE,CAD4D;;AAI5D,MAAIC,4BAA4B,KAAK,CAAC,CAAtC,EAAyC;AACvC,WAAOF,QAAP;AACD;;AAED,QAAMI,YAAY,GAAGJ,QAAQ,CAAC/F,KAAT,CAAe,CAAf,EAAkBiG,4BAA4B,GAAG,CAAjD,CAArB,CAR4D;;AAW5D,MAAIF,QAAQ,CAACK,MAAT,CAAgBH,4BAAhB,MAAkD,GAAtD,EAA2D;AACzD,WAAOE,YAAP;AACD;;AAED,MAAIH,aAAa,CAACI,MAAd,CAAqBH,4BAArB,MAAuD,GAA3D,EAAgE;AAC9D,WAAOE,YAAP;AACD;;AAED,QAAME,wBAAwB,GAAGF,YAAY,CAACG,WAAb,CAAyB,GAAzB,CAAjC;AACA,SAAOP,QAAQ,CAAC/F,KAAT,CAAe,CAAf,EAAkBqG,wBAAwB,GAAG,CAA7C,CAAP;AACD,CArBM;;AAuBP,MAAMH,gCAAgC,GAAG,CAAC7H,MAAD,EAASkI,WAAT,KAAyB;AAChE,QAAMC,eAAe,GAAGC,IAAI,CAACC,GAAL,CAASrI,MAAM,CAACP,MAAhB,EAAwByI,WAAW,CAACzI,MAApC,CAAxB;AACA,MAAI8G,CAAC,GAAG,CAAR;;AACA,SAAOA,CAAC,GAAG4B,eAAX,EAA4B;AAC1B,UAAMG,IAAI,GAAGtI,MAAM,CAAC+H,MAAP,CAAcxB,CAAd,CAAb;AACA,UAAMgC,SAAS,GAAGL,WAAW,CAACH,MAAZ,CAAmBxB,CAAnB,CAAlB;;AACA,QAAI+B,IAAI,KAAKC,SAAb,EAAwB;AACtB,aAAOhC,CAAP;AACD;;AACDA,IAAAA,CAAC;AACF;;AACD,MAAIvG,MAAM,CAACP,MAAP,KAAkByI,WAAW,CAACzI,MAAlC,EAA0C;AACxC,WAAO,CAAC,CAAR;AACD,GAb+D;;;AAehE,SAAO0I,eAAP;AACD,CAhBD;;ACvBO,MAAMK,2BAA2B,GAAId,QAAD,IAAc;AACvD,MAAIA,QAAQ,CAAC7H,QAAT,CAAkB,GAAlB,CAAJ,EAA4B;AAC1B,WAAO6H,QAAP;AACD;;AAED,QAAMe,cAAc,GAAGf,QAAQ,CAACO,WAAT,CAAqB,GAArB,CAAvB;;AACA,MAAIQ,cAAc,KAAK,CAAC,CAAxB,EAA2B;AACzB,WAAO,EAAP;AACD;;AAED,SAAOf,QAAQ,CAAC/F,KAAT,CAAe,CAAf,EAAkB8G,cAAc,GAAG,CAAnC,CAAP;AACD,CAXM;;ACGA,MAAMC,gBAAgB,GAAG,CAACC,MAAD,EAASC,UAAT,KAAwB;AACtD,QAAMhJ,GAAG,GAAG,IAAIc,GAAJ,CAAQiI,MAAR,CAAZ;AACA,QAAM5H,OAAO,GAAG,IAAIL,GAAJ,CAAQkI,UAAR,CAAhB;;AAEA,MAAIhJ,GAAG,CAACiJ,QAAJ,KAAiB9H,OAAO,CAAC8H,QAA7B,EAAuC;AACrC,WAAOF,MAAP;AACD;;AAED,MAAI/I,GAAG,CAACkJ,QAAJ,KAAiB/H,OAAO,CAAC+H,QAAzB,IAAqClJ,GAAG,CAACmJ,QAAJ,KAAiBhI,OAAO,CAACgI,QAAlE,EAA4E;AAC1E,WAAOJ,MAAM,CAAChH,KAAP,CAAa/B,GAAG,CAACiJ,QAAJ,CAAapJ,MAA1B,CAAP;AACD;;AAED,MAAIG,GAAG,CAACoJ,IAAJ,KAAajI,OAAO,CAACiI,IAAzB,EAA+B;AAC7B,WAAOL,MAAM,CAAChH,KAAP,CAAa/B,GAAG,CAACiJ,QAAJ,CAAapJ,MAA1B,CAAP;AACD;;AAED,QAAM;AAAEiI,IAAAA,QAAF;AAAYuB,IAAAA,IAAZ;AAAkBC,IAAAA;AAAlB,MAA6BtJ,GAAnC;;AACA,MAAI8H,QAAQ,KAAK,GAAjB,EAAsB;AACpB,WAAO3G,OAAO,CAAC2G,QAAR,CAAiB/F,KAAjB,CAAuB,CAAvB,CAAP;AACD;;AAED,QAAM;AAAE+F,IAAAA,QAAQ,EAAEyB;AAAZ,MAA6BpI,OAAnC;AAEA,QAAMqI,cAAc,GAAG3B,iBAAiB,CAACC,QAAD,EAAWyB,YAAX,CAAxC;;AACA,MAAI,CAACC,cAAL,EAAqB;AACnB,WAAOT,MAAP;AACD;;AAED,QAAMU,gBAAgB,GAAG3B,QAAQ,CAAC/F,KAAT,CAAeyH,cAAc,CAAC3J,MAA9B,CAAzB;AACA,QAAM6J,oBAAoB,GAAGH,YAAY,CAACxH,KAAb,CAAmByH,cAAc,CAAC3J,MAAlC,CAA7B;AACA,QAAM8J,6BAA6B,GAAGf,2BAA2B,CAACc,oBAAD,CAAjE;AACA,QAAME,2BAA2B,GAAGD,6BAA6B,CAACE,OAA9B,CAAsC,QAAtC,EAAgD,KAAhD,CAApC;AAEA,QAAMC,gBAAgB,GAAI,GAAEF,2BAA4B,GAAEH,gBAAiB,EAA3E;AACA,SAAQ,GAAEK,gBAAiB,GAAER,MAAO,GAAED,IAAK,EAA3C;AACD,CAnCM;;ACIP,MAAM;AAAEU,EAAAA;AAAF,IAAYC,WAAlB;AAEA,AAAO,MAAMC,cAAc,GAAG,OAC5BC,WAD4B,EAE5B;AAAEC,EAAAA,SAAS,GAAG,IAAd;AAAoBC,EAAAA,YAAY,GAAG;AAAnC,IAA6C,EAFjB,KAGzB;AACH,QAAMC,cAAc,GAAGzJ,8BAA8B,CAACsJ,WAAD,CAArD;AACA,QAAMI,eAAe,GAAGzI,mBAAmB,CAACwI,cAAD,CAA3C;AAEA,QAAME,gBAAgB,GAAG,MAAMzF,sBAAsB,CAACuF,cAAD,EAAiB;AACpEtF,IAAAA,cAAc,EAAE,IADoD;AAEpEC,IAAAA,UAAU,EAAE;AAFwD,GAAjB,CAArD;;AAKA,MAAIuF,gBAAJ,EAAsB;AACpB,QAAIA,gBAAgB,CAAChJ,WAAjB,EAAJ,EAAoC;AAClC,UAAI6I,YAAJ,EAAkB;AAChB;AACD;;AACD,YAAM,IAAI3J,KAAJ,CAAW,+BAA8B6J,eAAgB,EAAzD,CAAN;AACD;;AAED,UAAME,eAAe,GAAGpJ,WAAW,CAACmJ,gBAAD,CAAnC;AACA,UAAM,IAAI9J,KAAJ,CACH,6BAA4B6J,eAAgB,uBAAsBE,eAAgB,EAD/E,CAAN;AAGD;;AAED,MAAI;AACF,UAAMT,KAAK,CAACO,eAAD,EAAkB;AAAEH,MAAAA;AAAF,KAAlB,CAAX;AACD,GAFD,CAEE,OAAOrG,KAAP,EAAc;AACd,QAAIsG,YAAY,IAAItG,KAAK,CAAC2B,IAAN,KAAe,QAAnC,EAA6C;AAC3C;AACD;;AACD,UAAM3B,KAAN;AACD;AACF,CAlCM;;ACTA,MAAM2G,UAAU,GAAG,CAACC,SAAD,EAAYvJ,OAAZ,KAAwB;AAChD,MAAI,OAAOA,OAAP,KAAmB,WAAvB,EAAoC;AAClC,UAAM,IAAI5C,SAAJ,CAAe,8BAA6BmM,SAAU,EAAtD,CAAN;AACD;;AAED,SAAOhK,MAAM,CAAC,IAAII,GAAJ,CAAQ4J,SAAR,EAAmBvJ,OAAnB,CAAD,CAAb;AACD,CANM;;ACEP,MAAMwD,WAAS,GAAGC,OAAO,CAACC,QAAR,KAAqB,OAAvC;AACA,MAAM8F,eAAe,GAAGnK,mBAAmB,CAACoE,OAAO,CAACgG,GAAR,EAAD,CAA3C;;ACEO,MAAMC,uBAAuB,GAAG,MAAOX,WAAP,IAAuB;AAC5D,QAAMG,cAAc,GAAGnJ,yBAAyB,CAACgJ,WAAD,CAAhD;AACA,QAAMI,eAAe,GAAGzI,mBAAmB,CAACwI,cAAD,CAA3C;AACA,QAAMS,qBAAqB,GAAGC,YAAO,CAACT,eAAD,CAArC;AAEA,SAAOL,cAAc,CAACa,qBAAD,EAAwB;AAAEX,IAAAA,SAAS,EAAE,IAAb;AAAmBC,IAAAA,YAAY,EAAE;AAAjC,GAAxB,CAArB;AACD,CANM;;ACKP,MAAMzF,WAAS,GAAGC,OAAO,CAACC,QAAR,KAAqB,OAAvC;;ACVA,MAAMmG,WAAW,GAAI7D,QAAD,IAAc;AAChC,QAAM8D,oBAAoB,GAAG,MAAM9D,QAAQ,EAA3C,CADgC;;;AAGhCvC,EAAAA,OAAO,CAACsG,IAAR,CAAa,OAAb,EAAsBD,oBAAtB;AACA,SAAO,MAAM;AACXrG,IAAAA,OAAO,CAACuG,cAAR,CAAuB,OAAvB,EAAgCF,oBAAhC;AACD,GAFD;AAGD,CAPD;;AASA,AAAO,MAAMG,WAAW,GAAG;AACzBJ,EAAAA;AADyB,CAApB;;ACTP,MAAMA,aAAW,GAAI7D,QAAD,IAAc;AAChC;AACA;AACA;AACAvC,EAAAA,OAAO,CAACsG,IAAR,CAAa,QAAb,EAAuB/D,QAAvB;AACA,SAAO,MAAM;AACXvC,IAAAA,OAAO,CAACuG,cAAR,CAAuB,QAAvB,EAAiChE,QAAjC;AACD,GAFD;AAGD,CARD;;AAUA,AAAO,MAAMkE,YAAY,GAAG;AAC1BL,eAAAA;AAD0B,CAArB;;ACVP,MAAMA,aAAW,GAAI7D,QAAD,IAAc;AAChC,MAAIvC,OAAO,CAACC,QAAR,KAAqB,OAAzB,EAAkC;AAChCyG,IAAAA,OAAO,CAACC,IAAR,CAAc,qCAAd;AACA,WAAO,MAAM,EAAb;AACD;;AAED,QAAMC,kBAAkB,GAAG,MAAMrE,QAAQ,EAAzC,CANgC;;;AAQhCvC,EAAAA,OAAO,CAACsG,IAAR,CAAa,SAAb,EAAwBM,kBAAxB;AACA,SAAO,MAAM;AACX5G,IAAAA,OAAO,CAACuG,cAAR,CAAuB,SAAvB,EAAkCK,kBAAlC;AACD,GAFD;AAGD,CAZD;;AAcA,AAAO,MAAMC,aAAa,GAAG;AAC3BT,eAAAA;AAD2B,CAAtB;;ACdP,IAAIU,uBAAuB,GAAG,EAA9B;AACA,IAAIC,SAAJ;;AACA,MAAMX,aAAW,GAAI7D,QAAD,IAAc;AAChC,MAAIuE,uBAAuB,CAAC7L,MAAxB,KAAmC,CAAvC,EAA0C8L,SAAS,GAAGC,OAAO,EAAnB;AAC1CF,EAAAA,uBAAuB,GAAG,CAAC,GAAGA,uBAAJ,EAA6BvE,QAA7B,CAA1B;AAEA,SAAO,MAAM;AACX,QAAIuE,uBAAuB,CAAC7L,MAAxB,KAAmC,CAAvC,EAA0C;AAC1C6L,IAAAA,uBAAuB,GAAGA,uBAAuB,CAACG,MAAxB,CACvBC,kBAAD,IAAwBA,kBAAkB,KAAK3E,QADvB,CAA1B;AAGA,QAAIuE,uBAAuB,CAAC7L,MAAxB,KAAmC,CAAvC,EAA0C8L,SAAS;AACpD,GAND;AAOD,CAXD;;AAaA,MAAMC,OAAO,GAAG,MAAM;AACpB,QAAMG,YAAY,GAAG,MAAM;AACzB,WAAOL,uBAAuB,CAACM,MAAxB,CAA+B,OAAOC,QAAP,EAAiB9E,QAAjB,KAA8B;AAClE,YAAM8E,QAAN;AACA,aAAO9E,QAAQ,EAAf;AACD,KAHM,EAGJzD,OAAO,CAACC,OAAR,EAHI,CAAP;AAID,GALD;;AAMAiB,EAAAA,OAAO,CAACsG,IAAR,CAAa,YAAb,EAA2Ba,YAA3B;AACA,SAAO,MAAM;AACXnH,IAAAA,OAAO,CAACuG,cAAR,CAAuB,YAAvB,EAAqCY,YAArC;AACD,GAFD;AAGD,CAXD;;AAaA,AAAO,MAAMG,gBAAgB,GAAG;AAC9BlB,eAAAA;AAD8B,CAAzB;;AC5BP,MAAMA,aAAW,GAAG,CAAC7D,QAAD,EAAW;AAAEgF,EAAAA,iBAAiB,GAAG;AAAtB,IAAgC,EAA3C,KAAkD;AACpE,MAAI,CAACA,iBAAL,EAAwB;AACtB,UAAMC,YAAY,GAAG,MAAM;AACzBjF,MAAAA,QAAQ;AACT,KAFD;;AAGAvC,IAAAA,OAAO,CAACyH,EAAR,CAAW,MAAX,EAAmBD,YAAnB;AACA,WAAO,MAAM;AACXxH,MAAAA,OAAO,CAACuG,cAAR,CAAuB,MAAvB,EAA+BiB,YAA/B;AACD,KAFD;AAGD;;AAED,QAAM;AAAEE,IAAAA,aAAF;AAAiBC,IAAAA;AAAjB,MAA0BC,eAAe,EAA/C;;AACA,QAAMJ,YAAY,GAAG,MAAM;AACzBxH,IAAAA,OAAO,CAACuG,cAAR,CAAuB,MAAvB,EAA+BiB,YAA/B;AACAG,IAAAA,IAAI;AACJpF,IAAAA,QAAQ,CAAC;AACPsF,MAAAA,cAAc,EAAEH,aAAa,GAAGI,GAAhB,CAAoB,CAAC;AAAEC,QAAAA,SAAF;AAAaC,QAAAA;AAAb,OAAD,KAA2B;AAC7D,eAAO;AAAED,UAAAA,SAAF;AAAaC,UAAAA;AAAb,SAAP;AACD,OAFe;AADT,KAAD,CAAR;AAKD,GARD;;AASAhI,EAAAA,OAAO,CAACyH,EAAR,CAAW,MAAX,EAAmBD,YAAnB;AACA,SAAO,MAAM;AACXxH,IAAAA,OAAO,CAACuG,cAAR,CAAuB,MAAvB,EAA+BiB,YAA/B;AACD,GAFD;AAGD,CAzBD;;AA2BA,MAAMI,eAAe,GAAG,MAAM;AAC5B,MAAIC,cAAc,GAAG,EAArB;;AAEA,QAAMI,0BAA0B,GAAG,CAACC,kBAAD,EAAqBC,OAArB,KAAiC;AAClEN,IAAAA,cAAc,GAAG,CACf,GAAGA,cADY,EAEf;AAAEG,MAAAA,MAAM,EAAE,oBAAV;AAAgCD,MAAAA,SAAS,EAAEG,kBAA3C;AAA+DC,MAAAA;AAA/D,KAFe,CAAjB;AAID,GALD;;AAOA,QAAMC,wBAAwB,GAAID,OAAD,IAAa;AAC5CN,IAAAA,cAAc,GAAGA,cAAc,CAACZ,MAAf,CAAuBY,cAAD,IAAoBA,cAAc,CAACM,OAAf,KAA2BA,OAArE,CAAjB;AACD,GAFD;;AAIA,QAAME,yBAAyB,GAAG,CAACC,iBAAD,EAAoBN,MAApB,KAA+B;AAC/D;AACA,QAAIA,MAAM,KAAK,oBAAf,EAAqC;AAErCH,IAAAA,cAAc,GAAG,CACf,GAAGA,cADY,EAEf;AAAEG,MAAAA,MAAM,EAAE,mBAAV;AAA+BD,MAAAA,SAAS,EAAEO;AAA1C,KAFe,CAAjB;AAID,GARD;;AAUAtI,EAAAA,OAAO,CAACyH,EAAR,CAAW,oBAAX,EAAiCQ,0BAAjC;AACAjI,EAAAA,OAAO,CAACyH,EAAR,CAAW,kBAAX,EAA+BW,wBAA/B;AACApI,EAAAA,OAAO,CAACyH,EAAR,CAAW,mBAAX,EAAgCY,yBAAhC;AAEA,SAAO;AACLX,IAAAA,aAAa,EAAE,MAAMG,cADhB;AAELF,IAAAA,IAAI,EAAE,MAAM;AACV3H,MAAAA,OAAO,CAACuG,cAAR,CAAuB,oBAAvB,EAA6C0B,0BAA7C;AACAjI,MAAAA,OAAO,CAACuG,cAAR,CAAuB,kBAAvB,EAA2C6B,wBAA3C;AACApI,MAAAA,OAAO,CAACuG,cAAR,CAAuB,mBAAvB,EAA4C8B,yBAA5C;AACD;AANI,GAAP;AAQD,CApCD;;AAsCA,AAAO,MAAME,UAAU,GAAG;AACxBnC,eAAAA;AADwB,CAAnB;;AC1DP,MAAMA,aAAW,GAAI7D,QAAD,IAAc;AAChC,SAAOiG,SAAS,CAAC;AACfC,IAAAA,MAAM,EAAE;AACNjG,MAAAA,QAAQ,EAAEgE,WAAW,CAACJ,WADhB;AAEN7D,MAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,QAAD;AAFlB,KADO;AAKfmG,IAAAA,MAAM,EAAE;AACNlG,MAAAA,QAAQ,EAAEiE,YAAY,CAACL,WADjB;AAEN7D,MAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,QAAD;AAFlB,KALO;AASf,QAAIvC,OAAO,CAACC,QAAR,KAAqB,OAArB,GACA,EADA,GAEA;AACE0I,MAAAA,OAAO,EAAE;AACPnG,QAAAA,QAAQ,EAAEqE,aAAa,CAACT,WADjB;AAEP7D,QAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,SAAD;AAFjB;AADX,KAFJ,CATe;AAiBfqG,IAAAA,UAAU,EAAE;AACVpG,MAAAA,QAAQ,EAAE8E,gBAAgB,CAAClB,WADjB;AAEV7D,MAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,YAAD;AAFd,KAjBG;AAqBfsG,IAAAA,IAAI,EAAE;AACJrG,MAAAA,QAAQ,EAAE+F,UAAU,CAACnC,WADjB;AAEJ7D,MAAAA,QAAQ,EAAE,MAAMA,QAAQ,CAAC,MAAD;AAFpB;AArBS,GAAD,CAAhB;AA0BD,CA3BD;;AA6BA,MAAMiG,SAAS,GAAIM,QAAD,IAAc;AAC9B,QAAMC,aAAa,GAAG,EAAtB;;AAEA,QAAMC,aAAa,GAAIvH,MAAD,IAAY;AAChC,WAAOlH,MAAM,CAACC,IAAP,CAAYuO,aAAZ,EAA2BjB,GAA3B,CAAgClN,IAAD,IAAUmO,aAAa,CAACnO,IAAD,CAAb,CAAoB6G,MAApB,CAAzC,CAAP;AACD,GAFD;;AAIAlH,EAAAA,MAAM,CAACC,IAAP,CAAYsO,QAAZ,EAAsBnO,OAAtB,CAA+BC,IAAD,IAAU;AACtC,UAAM;AAAE4H,MAAAA,QAAF;AAAYD,MAAAA;AAAZ,QAAyBuG,QAAQ,CAAClO,IAAD,CAAvC;AAEAmO,IAAAA,aAAa,CAACnO,IAAD,CAAb,GAAsB4H,QAAQ,CAAC,CAAC,GAAGyG,IAAJ,KAAa;AAC1CD,MAAAA,aAAa;AACbzG,MAAAA,QAAQ,CAAC,GAAG0G,IAAJ,CAAR;AACD,KAH6B,CAA9B;AAID,GAPD;AASA,SAAOD,aAAP;AACD,CAjBD;;AAmBA,AAAO,MAAME,cAAc,GAAG;AAC5B9C,eAAAA;AAD4B,CAAvB;;ACpDA,MAAM+C,iCAAiC,GAAG,MAAM;AACrD,QAAMC,oBAAoB,GAAGnH,wBAAwB,EAArD;AACAiH,EAAAA,cAAc,CAAC9C,WAAf,CAA4B3E,MAAD,IAAY2H,oBAAoB,CAAChH,MAArB,CAA6B,WAAUX,MAAO,EAA9C,CAAvC;AACA,SAAO2H,oBAAoB,CAACxG,KAA5B;AACD,CAJM;;ACEP,MAAMyG,mBAAmB,GAAGC,cAAS,CAACC,WAAD,CAArC;AACA,AAAO,MAAMC,QAAQ,GAAG,MAAO9P,KAAP,IAAiB;AACvC,QAAMwD,OAAO,GAAGZ,yBAAyB,CAAC5C,KAAD,CAAzC;AACA,QAAM+P,QAAQ,GAAGxM,mBAAmB,CAACC,OAAD,CAApC;AACA,QAAMwM,MAAM,GAAG,MAAML,mBAAmB,CAACI,QAAD,CAAxC;AACA,SAAOC,MAAM,CAACC,QAAP,EAAP;AACD,CALM;;ACJP,MAAM5J,WAAS,GAAGC,OAAO,CAACC,QAAR,KAAqB,OAAvC;;ACFA;AACA,AAiBA,MAAM2J,OAAO,GAAG5J,OAAO,CAACC,QAAR,KAAqB,OAArC;;ACZA,MAAM;AAAE4J,EAAAA,SAAS,EAAEC;AAAb,IAA+B1E,WAArC;AAEA,AAAO,MAAMyE,SAAS,GAAG,OAAOvE,WAAP,EAAoByE,OAAO,GAAG,EAA9B,KAAqC;AAC5D,QAAMtE,cAAc,GAAGnJ,yBAAyB,CAACgJ,WAAD,CAAhD;AAEA,QAAMI,eAAe,GAAGzI,mBAAmB,CAACwI,cAAD,CAA3C;;AACA,MAAI;AACF,UAAMqE,aAAa,CAACpE,eAAD,EAAkBqE,OAAlB,CAAnB;AACD,GAFD,CAEE,OAAO7K,KAAP,EAAc;AACd,QAAIA,KAAK,CAAC2B,IAAN,KAAe,QAAnB,EAA6B;AAC3B,YAAMoF,uBAAuB,CAACR,cAAD,CAA7B;AACA,YAAMqE,aAAa,CAACpE,eAAD,EAAkBqE,OAAlB,CAAnB;AACA;AACD;;AACD,UAAM7K,KAAN;AACD;AACF,CAdM;;ACNA,MAAM8K,eAAe,GAAG,OAAOC,cAAP,EAAuBC,eAAvB,KAA2C;AACxE,QAAMC,iBAAiB,GAAG,MAAMX,QAAQ,CAACS,cAAD,CAAxC;AACA,QAAMG,iBAAiB,GAAGC,IAAI,CAACC,KAAL,CAAWH,iBAAX,CAA1B;AACA,QAAM;AAAEvP,IAAAA,IAAF;AAAQ2P,IAAAA;AAAR,MAAoBH,iBAA1B;AAEA,QAAMI,WAAW,GAAGjQ,MAAM,CAACC,IAAP,CAAY0P,eAAZ,EAA6BxK,IAA7B,CAAmC+K,oBAAD,IAA0B;AAC9E,QAAI7P,IAAI,KAAK6P,oBAAb,EAAmC,OAAO,IAAP;AACnC,QAAK,GAAE7P,IAAK,IAAG2P,OAAQ,EAAnB,KAAyBE,oBAA7B,EAAmD,OAAO,IAAP;AACnD,WAAO,KAAP;AACD,GAJmB,CAApB;;AAKA,MAAID,WAAJ,EAAiB;AACf,WAAOE,aAAa,CAACN,iBAAD,EAAoBF,eAAe,CAACM,WAAD,CAAnC,CAApB;AACD;;AACD,SAAOJ,iBAAP;AACD,CAdM;;AAgBP,MAAMM,aAAa,GAAG,CAACC,UAAD,EAAaC,WAAb,KAA6B;AACjD,QAAMC,cAAc,GAAG,EACrB,GAAGF;AADkB,GAAvB;AAGApQ,EAAAA,MAAM,CAACC,IAAP,CAAYoQ,WAAZ,EAAyBjQ,OAAzB,CAAkCmQ,GAAD,IAAS;AACxC,UAAMC,UAAU,GAAGH,WAAW,CAACE,GAAD,CAA9B;;AAEA,QAAIC,UAAU,KAAK,IAAf,IAAuB,OAAOA,UAAP,KAAsB,QAA7C,IAAyDD,GAAG,IAAIH,UAAP,KAAsB,KAAnF,EAA0F;AACxFE,MAAAA,cAAc,CAACC,GAAD,CAAd,GAAsBC,UAAtB;AACD,KAFD,MAEO;AACL,YAAMC,SAAS,GAAGL,UAAU,CAACG,GAAD,CAA5B;;AACA,UAAIE,SAAS,KAAK,IAAd,IAAsB,OAAOA,SAAP,KAAqB,QAA/C,EAAyD;AACvDH,QAAAA,cAAc,CAACC,GAAD,CAAd,GAAsBC,UAAtB;AACD,OAFD,MAEO;AACLF,QAAAA,cAAc,CAACC,GAAD,CAAd,GAAsBJ,aAAa,CAACM,SAAD,EAAYD,UAAZ,CAAnC;AACD;AACF;AACF,GAbD;AAcA,SAAOF,cAAP;AACD,CAnBD;;ACdO,MAAMI,iBAAiB,GAAG,OAAO;AACtCC,EAAAA,MADsC;AAEtCC,EAAAA,uBAFsC;AAGtCjB,EAAAA,eAHsC;AAItCD,EAAAA,cAJsC;AAKtCG,EAAAA,iBALsC;AAMtCgB,EAAAA,cANsC;AAOtCC,EAAAA,wBAPsC;AAQtCC,EAAAA;AARsC,CAAP,KAS3B;AACJ,QAAMC,mBAAmB,GAAG1F,UAAU,CAAC,IAAD,EAAOoE,cAAP,CAAtC;AACA,QAAMuB,wBAAwB,GAAG,CAC/B,GAAGC,+BAA+B,CAACF,mBAAD,EAAsBJ,uBAAtB,CADH,EAE9B,eAF8B,CAAjC;AAKA,QAAMO,MAAM,GAAG,MAAM5K,sBAAsB,CAAC;AAC1CC,IAAAA,KAAK,EAAEyK,wBADmC;AAE1CxK,IAAAA,KAAK,EAAE,MAAO2K,mBAAP,IAA+B;AACpC,YAAM1B,cAAc,GAAI,GAAEkB,uBAAwB,GAAEQ,mBAAoB,GAAEP,cAAe,eAAzF;;AACA,UAAI;AACF,cAAMhB,iBAAiB,GAAG,MAAMJ,eAAe,CAACC,cAAD,EAAiBC,eAAjB,CAA/C;AACA,eAAO;AACLD,UAAAA,cADK;AAELG,UAAAA;AAFK,SAAP;AAID,OAND,CAME,OAAOhO,CAAP,EAAU;AACV,YAAIA,CAAC,CAACyE,IAAF,KAAW,QAAf,EAAyB;AACvB,iBAAO,EAAP;AACD;;AAED,YAAIzE,CAAC,CAACxB,IAAF,KAAW,aAAf,EAA8B;AAC5BsQ,UAAAA,MAAM,CAAChM,KAAP,CAAc;;;EAGtB9C,CAAC,CAACwP,OAAQ;;EAEV3O,mBAAmB,CAACgN,cAAD,CAAiB;CAL5B;AAOA,iBAAO,EAAP;AACD;;AAED,cAAM7N,CAAN;AACD;AACF,KA5ByC;AA6B1C6E,IAAAA,SAAS,EAAE,CAAC;AAAEmJ,MAAAA;AAAF,KAAD,KAA2ByB,OAAO,CAACzB,iBAAD;AA7BH,GAAD,CAA3C;;AAgCA,MAAI,CAACsB,MAAL,EAAa;AACXR,IAAAA,MAAM,CAACvE,IAAP,CAAa;gBACD2E,cAAe;MACzBA,cAAe;EACnBF,cAAe,IAAGC,wBAAyB;;EAE3CjB,iBAAiB,CAACxP,IAAK,IAAGwP,iBAAiB,CAACG,OAAQ;;EAEpDtN,mBAAmB,CAACgN,cAAD,CAAiB;KAPlC;AASD;;AAED,SAAOyB,MAAP;AACD,CA7DM;;AA+DP,MAAMD,+BAA+B,GAAG,CAACF,mBAAD,EAAsBJ,uBAAtB,KAAkD;AACxF,MAAII,mBAAmB,KAAKJ,uBAA5B,EAAqD;AACnD,WAAO,EAAP;AACD;;AAED,QAAMW,2BAA2B,GAAG5H,gBAAgB,CAACqH,mBAAD,EAAsBJ,uBAAtB,CAApD;AAEA,QAAMY,cAAc,GAAG,EAAvB;AACA,QAAMC,gCAAgC,GAAI,KAAIF,2BAA4B,EAAjC,CAAmCG,KAAnC,CACvC,gBADuC,CAAzC,CARwF;;AAYxFD,EAAAA,gCAAgC,CAACE,KAAjC;AAEA,MAAInK,CAAC,GAAGiK,gCAAgC,CAAC/Q,MAAzC;;AACA,SAAO8G,CAAC,EAAR,EAAY;AACVgK,IAAAA,cAAc,CAAC/J,IAAf,CACG,gBAAegK,gCAAgC,CAC7C7O,KADa,CACP,CADO,EACJ4E,CAAC,GAAG,CADA,EAEboK,IAFa,CAER,gBAFQ,CAEU,eAH5B;AAKD;;AAED,SAAOJ,cAAP;AACD,CAxBD;;AC/DO,MAAMK,kBAAkB,GAAG,CAAC;AAAElB,EAAAA,MAAF;AAAUjB,EAAAA,cAAV;AAA0BG,EAAAA;AAA1B,CAAD,KAAmD;AACnF,MAAI,YAAYA,iBAAhB,EAAmC;AACjC,WAAOiC,eAAe,CAAC;AACrBnB,MAAAA,MADqB;AAErBjB,MAAAA,cAFqB;AAGrBqC,MAAAA,oBAAoB,EAAE,QAHD;AAIrBC,MAAAA,qBAAqB,EAAEnC,iBAAiB,CAACoC;AAJpB,KAAD,CAAtB;AAMD;;AAED,MAAI,iBAAiBpC,iBAArB,EAAwC;AACtC,WAAOiC,eAAe,CAAC;AACrBnB,MAAAA,MADqB;AAErBjB,MAAAA,cAFqB;AAGrBqC,MAAAA,oBAAoB,EAAE,aAHD;AAIrBC,MAAAA,qBAAqB,EAAEnC,iBAAiB,CAAC,aAAD;AAJnB,KAAD,CAAtB;AAMD;;AAED,MAAI,UAAUA,iBAAd,EAAiC;AAC/B,WAAOiC,eAAe,CAAC;AACrBnB,MAAAA,MADqB;AAErBjB,MAAAA,cAFqB;AAGrBqC,MAAAA,oBAAoB,EAAE,MAHD;AAIrBC,MAAAA,qBAAqB,EAAEnC,iBAAiB,CAACqC;AAJpB,KAAD,CAAtB;AAMD;;AAED,SAAOJ,eAAe,CAAC;AACrBnB,IAAAA,MADqB;AAErBjB,IAAAA,cAFqB;AAGrBqC,IAAAA,oBAAoB,EAAE,SAHD;AAIrBC,IAAAA,qBAAqB,EAAE;AAJF,GAAD,CAAtB;AAMD,CAlCM;AAoCP,MAAMG,uBAAuB,GAAG,CAAC,IAAD,EAAO,MAAP,EAAe,MAAf,CAAhC;;AAEA,MAAML,eAAe,GAAG,OAAO;AAC7BnB,EAAAA,MAD6B;AAE7BjB,EAAAA,cAF6B;AAG7BqC,EAAAA,oBAH6B;AAI7BC,EAAAA;AAJ6B,CAAP,KAKlB;AACJ;AACA;AACA,MAAIA,qBAAqB,KAAK,EAA9B,EAAkC;AAChC,WAAO,IAAP;AACD;;AAED,QAAMI,eAAe,GAAG1P,mBAAmB,CAACgN,cAAD,CAA3C;AACA,QAAMsB,mBAAmB,GAAG1F,UAAU,CAAC,IAAD,EAAOoE,cAAP,CAAtC;AACA,QAAM2C,mBAAmB,GAAGL,qBAAqB,CAAClR,QAAtB,CAA+B,GAA/B,IACvB,GAAEkR,qBAAsB,OADD,GAExBA,qBAFJ;AAIA,QAAMM,yBAAyB,GAAGhH,UAAU,CAAC+G,mBAAD,EAAsB3C,cAAtB,CAA5C;;AAEA,MAAI,CAAC4C,yBAAyB,CAACxQ,UAA1B,CAAqCkP,mBAArC,CAAL,EAAgE;AAC9DL,IAAAA,MAAM,CAACvE,IAAP,CACG;EACL2F,oBAAqB;MACjBA,oBAAqB;EACzBC,qBAAsB;;EAEtBI,eAAgB;CANd;AASA,WAAO,IAAP;AACD;;AAED,QAAMG,WAAW,GAAG,MAAMC,qBAAqB,CAACF,yBAAD,CAA/C;;AAEA,MAAIC,WAAW,KAAK,IAApB,EAA0B;AACxB;AACA;AACA;AAEA;AACA;AACA;AACA,QAAIR,oBAAoB,KAAK,SAA7B,EAAwC;AACtC,YAAMU,cAAc,GAClBC,YAAO,CAAChQ,mBAAmB,CAAC4P,yBAAD,CAApB,CAAP,KAA4D,EAA5D,GACK;EACXH,uBAAuB,CAACP,IAAxB,CAA8B,GAA9B,CAAkC;CAF5B,GAIK;CALP;AAQAjB,MAAAA,MAAM,CAACvE,IAAP,CACG;oCAC2B2F,oBAAqB;MACnDA,oBAAqB;EACzBC,qBAAsB;;EAEtBtP,mBAAmB,CAAC4P,yBAAD,CAA4B;;EAE/CF,eAAgB;EAChBK,cAAe,EATX;AAWD;;AACD,WAAOH,yBAAP;AACD;;AAED,SAAOC,WAAP;AACD,CApED;;AAsEA,MAAMC,qBAAqB,GAAG,MAAOD,WAAP,IAAuB;AACnD,QAAMI,SAAS,GAAG,MAAMhN,sBAAsB,CAAC4M,WAAD,EAAc;AAAE3M,IAAAA,cAAc,EAAE;AAAlB,GAAd,CAA9C;;AAEA,MAAI+M,SAAS,IAAIA,SAAS,CAACxQ,MAAV,EAAjB,EAAqC;AACnC,WAAOoQ,WAAP;AACD;;AAED,MAAII,SAAS,IAAIA,SAAS,CAACvQ,WAAV,EAAjB,EAA0C;AACxC,UAAMwQ,YAAY,GAAGtH,UAAU,CAC7B,SAD6B,EAE7BiH,WAAW,CAACzR,QAAZ,CAAqB,GAArB,IAA4ByR,WAA5B,GAA2C,GAAEA,WAAY,GAF5B,CAA/B;AAIA,UAAMM,uBAAuB,GAAG,MAAMC,aAAa,CAACF,YAAD,CAAnD;;AACA,QAAIC,uBAAuB,KAAK,IAAhC,EAAsC;AACpC,aAAO,IAAP;AACD;;AACD,WAAQ,GAAED,YAAa,IAAGC,uBAAwB,EAAlD;AACD;;AAED,QAAME,YAAY,GAAGrQ,mBAAmB,CAAC6P,WAAD,CAAxC;AACA,QAAMS,SAAS,GAAGN,YAAO,CAACK,YAAD,CAAzB;;AAEA,MAAIC,SAAS,KAAK,EAAlB,EAAsB;AACpB,UAAMH,uBAAuB,GAAG,MAAMC,aAAa,CAACP,WAAD,CAAnD;;AACA,QAAIM,uBAAuB,KAAK,IAAhC,EAAsC;AACpC,aAAO,IAAP;AACD;;AACD,WAAQ,GAAEN,WAAY,IAAGM,uBAAwB,EAAjD;AACD;;AACD,SAAO,IAAP;AACD,CA9BD;;AAgCA,MAAMC,aAAa,GAAG,MAAOnQ,OAAP,IAAmB;AACvC,QAAMuM,QAAQ,GAAGxM,mBAAmB,CAACC,OAAD,CAApC;AACA,QAAMsQ,WAAW,GAAGrH,YAAO,CAACsD,QAAD,CAA3B;AACA,QAAMgE,YAAY,GAAGC,aAAQ,CAACjE,QAAD,CAA7B;AACA,QAAMkE,sBAAsB,GAAG,MAAM7M,sBAAsB,CAAC;AAC1DC,IAAAA,KAAK,EAAE2L,uBADmD;AAE1D1L,IAAAA,KAAK,EAAE,MAAO4M,kBAAP,IAA8B;AACnC,YAAMC,iBAAiB,GAAI,GAAEL,WAAY,IAAGC,YAAa,IAAGG,kBAAmB,EAA/E;AACA,YAAMnR,KAAK,GAAG,MAAMyD,sBAAsB,CAAC2N,iBAAD,EAAoB;AAAE1N,QAAAA,cAAc,EAAE;AAAlB,OAApB,CAA1C;AACA,aAAO1D,KAAK,IAAIA,KAAK,CAACC,MAAN,EAAT,GAA0BkR,kBAA1B,GAA+C,IAAtD;AACD,KANyD;AAO1D3M,IAAAA,SAAS,EAAGsM,SAAD,IAAe1B,OAAO,CAAC0B,SAAD;AAPyB,GAAD,CAA3D;AASA,SAAOI,sBAAsB,IAAI,IAAjC;AACD,CAdD;;AChJO,MAAMG,mBAAmB,GAAIhI,SAAD,IAAe;AAChD,MAAIA,SAAS,CAACzJ,UAAV,CAAqB,IAArB,CAAJ,EAAgC;AAC9B,WAAO,KAAP;AACD;;AACD,MAAIyJ,SAAS,CAACzJ,UAAV,CAAqB,KAArB,CAAJ,EAAiC;AAC/B,WAAO,KAAP;AACD,GAN+C;;;AAQhD,MAAI,eAAeX,IAAf,CAAoBoK,SAApB,CAAJ,EAAoC;AAClC,WAAO,KAAP;AACD;;AACD,SAAO,IAAP;AACD,CAZM;;ACGA,MAAMiI,mBAAmB,GAAG,CAAC;AAAE7C,EAAAA,MAAF;AAAUjB,EAAAA,cAAV;AAA0BG,EAAAA;AAA1B,CAAD,KAAmD;AACpF,QAAM4D,wBAAwB,GAAG,EAAjC;AACA,QAAMrB,eAAe,GAAG1P,mBAAmB,CAACgN,cAAD,CAA3C;AAEA,QAAM;AAAEhQ,IAAAA,OAAO,EAAEgU;AAAX,MAA8B7D,iBAApC;;AACA,MAAI,OAAO6D,cAAP,KAA0B,QAA1B,IAAsCA,cAAc,KAAK,IAA7D,EAAmE;AACjE/C,IAAAA,MAAM,CAACvE,IAAP,CAAa;;;EAGfsH,cAAe;;EAEftB,eAAgB;CALd;AAOA,WAAOqB,wBAAP;AACD;;AAEDzT,EAAAA,MAAM,CAACC,IAAP,CAAYyT,cAAZ,EAA4BtT,OAA5B,CAAqCmL,SAAD,IAAe;AACjD,QAAI,CAACgI,mBAAmB,CAAChI,SAAD,CAAxB,EAAqC;AACnCoF,MAAAA,MAAM,CAACvE,IAAP,CAAa;;;EAGjBb,SAAU;;EAEV6G,eAAgB;CALZ;AAOA;AACD;;AAED,UAAMuB,OAAO,GAAGD,cAAc,CAACnI,SAAD,CAA9B;;AACA,QAAI,OAAOoI,OAAP,KAAmB,QAAvB,EAAiC;AAC/BhD,MAAAA,MAAM,CAACvE,IAAP,CAAa;;;EAGjBuH,OAAQ;;EAERpI,SAAU;;EAEV6G,eAAgB;CAPZ;AASA;AACD;;AACD,QAAI,CAACmB,mBAAmB,CAACI,OAAD,CAAxB,EAAmC;AACjChD,MAAAA,MAAM,CAACvE,IAAP,CAAa;;;EAGjBuH,OAAQ;;EAERpI,SAAU;;EAEV6G,eAAgB;CAPZ;AASA;AACD;;AAED,QAAIwB,IAAJ;;AACA,QAAIrI,SAAS,CAAC,CAAD,CAAT,KAAiB,GAArB,EAA0B;AACxBqI,MAAAA,IAAI,GAAGrI,SAAP;AACD,KAFD,MAEO,IAAIA,SAAS,CAACzJ,UAAV,CAAqB,IAArB,CAAJ,EAAgC;AACrC8R,MAAAA,IAAI,GAAGrI,SAAP;AACD,KAFM,MAEA;AACLqI,MAAAA,IAAI,GAAGrI,SAAP;AACD;;AAED,UAAMsI,EAAE,GAAGF,OAAX;AAEAF,IAAAA,wBAAwB,CAACG,IAAD,CAAxB,GAAiCC,EAAjC;AACD,GAlDD;AAoDA,SAAOJ,wBAAP;AACD,CArEM;;ACHP;AAEA,AAGO,MAAMK,mBAAmB,GAAG,CAAC;AAClCnD,EAAAA,MADkC;AAElCjB,EAAAA,cAFkC;AAGlCqE,EAAAA,WAHkC;AAIlClE,EAAAA,iBAJkC;AAKlCmE,EAAAA,WAAW,EAAE;AAAEzC,IAAAA;AAAF,GALqB;AAMlC0C,EAAAA;AANkC,CAAD,KAO7B;AACJ,QAAMC,wBAAwB,GAAG,EAAjC;AAEA,QAAM9B,eAAe,GAAG1P,mBAAmB,CAACgN,cAAD,CAA3C;AACA,QAAM;AAAEyE,IAAAA,OAAO,EAAEC;AAAX,MAA8BvE,iBAApC,CAJI;;AAOJ,MAAIuE,cAAc,KAAK,KAAvB,EAA8B,OAAOF,wBAAP;;AAE9B,QAAMG,oBAAoB,GAAIV,OAAD,IAAa;AACxC,QAAIA,OAAO,CAAC,CAAD,CAAP,KAAe,GAAnB,EAAwB;AACtB,aAAOA,OAAP;AACD;;AACD,QAAIA,OAAO,CAAC7R,UAAR,CAAmB,IAAnB,CAAJ,EAA8B;AAC5B,aAAQ,KAAIyP,2BAA4B,GAAEoC,OAAO,CAAC/Q,KAAR,CAAc,CAAd,CAAiB,EAA3D;AACD;;AACD,WAAQ,KAAI2O,2BAA4B,GAAEoC,OAAQ,EAAlD;AACD,GARD,CATI;;;AAoBJ,MAAI,OAAOS,cAAP,KAA0B,QAA9B,EAAwC;AACtC,UAAMR,IAAI,GAAGG,WAAb;AACA,UAAMF,EAAE,GAAGQ,oBAAoB,CAACD,cAAD,CAA/B;AACAF,IAAAA,wBAAwB,CAACN,IAAD,CAAxB,GAAiCC,EAAjC;AACA,WAAOK,wBAAP;AACD;;AAED,MAAI,OAAOE,cAAP,KAA0B,QAA1B,IAAsCA,cAAc,KAAK,IAA7D,EAAmE;AACjEzD,IAAAA,MAAM,CAACvE,IAAP,CAAa;;;EAGfgI,cAAe;;EAEfhC,eAAgB;CALd;AAOA,WAAO8B,wBAAP;AACD;;AAED,QAAMI,kBAAkB,GAAGtU,MAAM,CAACC,IAAP,CAAYmU,cAAZ,CAA3B;AACA,QAAMG,0BAA0B,GAAGD,kBAAkB,CAACE,IAAnB,CAAyBjE,GAAD,IAASA,GAAG,CAACzO,UAAJ,CAAe,GAAf,CAAjC,CAAnC;;AACA,MAAIyS,0BAAJ,EAAgC;AAC9B,UAAME,iCAAiC,GAAGH,kBAAkB,CAACE,IAAnB,CAAyBjE,GAAD,IAAS,CAACA,GAAG,CAACzO,UAAJ,CAAe,GAAf,CAAlC,CAA1C;;AACA,QAAI2S,iCAAJ,EAAuC;AACrC;AACA9D,MAAAA,MAAM,CAAChM,KAAP,CAAc;;;EAGlByN,eAAgB;CAHZ;AAKA,aAAO8B,wBAAP;AACD;AACF;;AAEDI,EAAAA,kBAAkB,CAAClU,OAAnB,CAA4BmL,SAAD,IAAe;AACxC,QAAI,CAACgI,mBAAmB,CAAChI,SAAD,CAAxB,EAAqC;AACnCoF,MAAAA,MAAM,CAACvE,IAAP,CAAa;;;EAGjBb,SAAU;;EAEV6G,eAAgB;CALZ;AAOA;AACD;;AAED,UAAMjT,KAAK,GAAGiV,cAAc,CAAC7I,SAAD,CAA5B;AACA,QAAIoI,OAAJ;;AAEA,QAAI,OAAOxU,KAAP,KAAiB,QAArB,EAA+B;AAC7B,YAAMuV,aAAa,GAAGT,cAAc,CAAC9O,IAAf,CAAqBoL,GAAD,IAASA,GAAG,IAAIpR,KAApC,CAAtB;;AAEA,UAAIuV,aAAJ,EAAmB;AACjBf,QAAAA,OAAO,GAAGxU,KAAK,CAACuV,aAAD,CAAf;AACD,OAFD,MAEO,IAAI,aAAavV,KAAjB,EAAwB;AAC7BwU,QAAAA,OAAO,GAAGxU,KAAK,CAACwV,OAAhB;AACD,OAFM,MAEA;AACL;AACD;AACF,KAVD,MAUO,IAAI,OAAOxV,KAAP,KAAiB,QAArB,EAA+B;AACpCwU,MAAAA,OAAO,GAAGxU,KAAV;AACD,KAFM,MAEA;AACLwR,MAAAA,MAAM,CAACvE,IAAP,CAAa;;;EAGjBuH,OAAQ;;EAERpI,SAAU;;EAEV6G,eAAgB;CAPZ;AASA;AACD;;AAED,QAAI,CAACmB,mBAAmB,CAACI,OAAD,CAAxB,EAAmC;AACjChD,MAAAA,MAAM,CAACvE,IAAP,CAAa;;;EAGjBuH,OAAQ;;EAERpI,SAAU;;EAEV6G,eAAgB;CAPZ;AASA;AACD;;AAED,QAAIwB,IAAJ;;AACA,QAAIrI,SAAS,KAAK,GAAlB,EAAuB;AACrBqI,MAAAA,IAAI,GAAGG,WAAP;AACD,KAFD,MAEO,IAAIxI,SAAS,CAAC,CAAD,CAAT,KAAiB,GAArB,EAA0B;AAC/BqI,MAAAA,IAAI,GAAGrI,SAAP;AACD,KAFM,MAEA,IAAIA,SAAS,CAACzJ,UAAV,CAAqB,IAArB,CAAJ,EAAgC;AACrC8R,MAAAA,IAAI,GAAI,GAAEG,WAAY,GAAExI,SAAS,CAAC3I,KAAV,CAAgB,CAAhB,CAAmB,EAA3C;AACD,KAFM,MAEA;AACLgR,MAAAA,IAAI,GAAI,GAAEG,WAAY,IAAGxI,SAAU,EAAnC;AACD;;AAED,UAAMsI,EAAE,GAAGQ,oBAAoB,CAACV,OAAD,CAA/B;AAEAO,IAAAA,wBAAwB,CAACN,IAAD,CAAxB,GAAiCC,EAAjC;AACD,GAnED;AAqEA,SAAOK,wBAAP;AACD,CAlIM;;ACLP;AACA,MASaU,2BAA2B,GAAG,OAAO;AAChDjE,EAAAA,MADgD;AAEhDkE,EAAAA,mBAFgD;AAGhDjE,EAAAA,uBAHgD;AAIhDjB,EAAAA,eAAe,GAAG,EAJ8B;AAKhDmF,EAAAA,sBAAsB,GAAG,KALuB;AAMhDC,EAAAA,cAAc,GAAG,IAN+B;AAOhD;AACA;AACAd,EAAAA,cAAc,GAAG,CAAC,QAAD,EAAW,MAAX,EAAmB,SAAnB,CAT+B;AAUhDe,EAAAA,cAAc,GAAG,IAV+B;AAUzB;AACvBC,EAAAA,UAAU,GAAG;AAXmC,CAAP,KAYrC;AACJJ,EAAAA,mBAAmB,GAAGpT,8BAA8B,CAACoT,mBAAD,CAApD;;AACA,MAAI,OAAOjE,uBAAP,KAAmC,WAAvC,EAAoD;AAClDA,IAAAA,uBAAuB,GAAGiE,mBAA1B;AACD,GAFD,MAEO;AACLjE,IAAAA,uBAAuB,GAAGnP,8BAA8B,CAACmP,uBAAD,CAAxD;AACD;;AAED,QAAMsE,qBAAqB,GAAG5J,UAAU,CAAC,gBAAD,EAAmBuJ,mBAAnB,CAAxC;AACA,QAAMM,yBAAyB,GAAG7J,UAAU,CAAC,gBAAD,EAAmBsF,uBAAnB,CAA5C;AAEA,QAAMlR,OAAO,GAAG,EAAhB;AACA,QAAMC,MAAM,GAAG,EAAf;AACA,QAAMyV,IAAI,GAAG,EAAb;;AAEA,QAAMC,iBAAiB,GAAG,CAAC3F,cAAD,EAAiB4F,sBAAjB,KAA4C;AACpE,QAAI5F,cAAc,IAAI0F,IAAtB,EAA4B;AAC1BA,MAAAA,IAAI,CAAC1F,cAAD,CAAJ,CAAqBjI,IAArB,CAA0B6N,sBAA1B;AACD,KAFD,MAEO;AACLF,MAAAA,IAAI,CAAC1F,cAAD,CAAJ,GAAuB,CAAC4F,sBAAD,CAAvB;AACD;AACF,GAND;;AAQA,QAAMC,aAAa,GAAG,CAAC7F,cAAD,EAAiB4F,sBAAjB,KAA4C;AAChE,WAAO5F,cAAc,IAAI0F,IAAlB,IAA0BA,IAAI,CAAC1F,cAAD,CAAJ,CAAqB8F,QAArB,CAA8BF,sBAA9B,CAAjC;AACD,GAFD;;AAIA,QAAM3O,KAAK,GAAG,OAAO;AACnB+I,IAAAA,cADmB;AAEnBqE,IAAAA,WAFmB;AAGnBlE,IAAAA,iBAHmB;AAInByF,IAAAA,sBAJmB;AAKnBG,IAAAA,yBALmB;AAMnBX,IAAAA;AANmB,GAAP,KAOR;AACJ,UAAMY,YAAY,CAAC;AACjBhG,MAAAA,cADiB;AAEjBqE,MAAAA,WAFiB;AAGjBlE,MAAAA,iBAHiB;AAIjByF,MAAAA,sBAJiB;AAKjBG,MAAAA;AALiB,KAAD,CAAlB;AAOA,UAAME,iBAAiB,CAAC;AACtBjG,MAAAA,cADsB;AAEtBG,MAAAA,iBAFsB;AAGtBiF,MAAAA;AAHsB,KAAD,CAAvB;AAKD,GApBD;;AAsBA,QAAMY,YAAY,GAAG,OAAO;AAC1BhG,IAAAA,cAD0B;AAE1BqE,IAAAA,WAF0B;AAG1BlE,IAAAA,iBAH0B;AAI1ByF,IAAAA,sBAJ0B;AAK1BG,IAAAA;AAL0B,GAAP,KAMf;AACJ,UAAMzB,WAAW,GAAG4B,kBAAkB,CAAC;AACrClG,MAAAA,cADqC;AAErCqE,MAAAA,WAFqC;AAGrCuB,MAAAA;AAHqC,KAAD,CAAtC;AAMA,UAAMO,gBAAgB,CAAC;AACrBnG,MAAAA,cADqB;AAErBqE,MAAAA,WAFqB;AAGrBlE,MAAAA,iBAHqB;AAIrBmE,MAAAA;AAJqB,KAAD,CAAtB;;AAOA,QAAIgB,cAAc,IAAI,aAAanF,iBAAnC,EAAsD;AACpD,YAAM4D,wBAAwB,GAAGD,mBAAmB,CAAC;AACnD7C,QAAAA,MADmD;AAEnDjB,QAAAA,cAFmD;AAGnDqE,QAAAA,WAHmD;AAInDlE,QAAAA,iBAJmD;AAKnDmE,QAAAA;AALmD,OAAD,CAApD;AAQA,YAAM;AAAE8B,QAAAA,aAAF;AAAiBvE,QAAAA;AAAjB,UAAiDyC,WAAvD;AACAhU,MAAAA,MAAM,CAACC,IAAP,CAAYwT,wBAAZ,EAAsCrT,OAAtC,CAA+CwT,IAAD,IAAU;AACtD,cAAMC,EAAE,GAAGJ,wBAAwB,CAACG,IAAD,CAAnC;;AAEA,YAAIkC,aAAJ,EAAmB;AACjBC,UAAAA,gBAAgB,CAAC;AAAEnC,YAAAA,IAAF;AAAQC,YAAAA;AAAR,WAAD,CAAhB;AACD,SAFD,MAEO;AACL,gBAAMmC,QAAQ,GACZnC,EAAE,CAAC,CAAD,CAAF,KAAU,GAAV,GACIA,EADJ,GAEK,KAAItC,2BAA4B,GAAEsC,EAAE,CAAC/R,UAAH,CAAc,IAAd,IAAsB+R,EAAE,CAACjR,KAAH,CAAS,CAAT,CAAtB,GAAoCiR,EAAG,EAHhF;AAKAoC,UAAAA,sBAAsB,CAAC;AACrBC,YAAAA,KAAK,EAAG,KAAI3E,2BAA4B,EADnB;AAErBqC,YAAAA,IAFqB;AAGrBC,YAAAA,EAAE,EAAEmC;AAHiB,WAAD,CAAtB,CANK;AAaL;AACA;;AACA,cAAIpC,IAAI,KAAK,IAAT,IAAiBC,EAAE,KAAK,IAA5B,EAAkC;AAChCoC,YAAAA,sBAAsB,CAAC;AACrBC,cAAAA,KAAK,EAAG,KAAI3E,2BAA4B,EADnB;AAErBqC,cAAAA,IAAI,EAAG,KAAIrC,2BAA4B,EAFlB;AAGrBsC,cAAAA,EAAE,EAAG,KAAItC,2BAA4B;AAHhB,aAAD,CAAtB;AAKD,WAND,MAMO,IAAIqC,IAAI,KAAK,GAAT,IAAgBC,EAAE,KAAK,GAA3B,EAAgC;AACrCoC,YAAAA,sBAAsB,CAAC;AACrBC,cAAAA,KAAK,EAAG,KAAI3E,2BAA4B,EADnB;AAErBqC,cAAAA,IAAI,EAAG,KAAIrC,2BAA4B,EAFlB;AAGrBsC,cAAAA,EAAE,EAAG,KAAItC,2BAA4B;AAHhB,aAAD,CAAtB;AAKD;AACF;AACF,OAlCD;AAmCD;;AAED,QAAI0D,UAAJ,EAAgB;AACd,YAAM;AAAEa,QAAAA,aAAF;AAAiBvE,QAAAA;AAAjB,UAAiDyC,WAAvD,CADc;;AAId,UAAI8B,aAAJ,EAAmB;AACjBC,QAAAA,gBAAgB,CAAC;AACfnC,UAAAA,IAAI,EAAG,GAAEG,WAAY,GADN;AAEfF,UAAAA,EAAE,EAAG,KAAItC,2BAA4B;AAFtB,SAAD,CAAhB;AAID,OALD;AAAA,WAOK;AACH0E,UAAAA,sBAAsB,CAAC;AACrBC,YAAAA,KAAK,EAAG,KAAI3E,2BAA4B,EADnB;AAErBqC,YAAAA,IAAI,EAAG,GAAEG,WAAY,GAFA;AAGrBF,YAAAA,EAAE,EAAG,KAAItC,2BAA4B;AAHhB,WAAD,CAAtB;AAKD;AACF;;AAED,QAAIwD,cAAc,IAAI,aAAalF,iBAAnC,EAAsD;AACpD,YAAMqE,wBAAwB,GAAGJ,mBAAmB,CAAC;AACnDnD,QAAAA,MADmD;AAEnDjB,QAAAA,cAFmD;AAGnDqE,QAAAA,WAHmD;AAInDlE,QAAAA,iBAJmD;AAKnDmE,QAAAA,WALmD;AAMnDC,QAAAA;AANmD,OAAD,CAApD;AASA,YAAM;AACJkC,QAAAA,cADI;AAEJC,QAAAA,mBAFI;AAGJN,QAAAA,aAHI;AAIJvE,QAAAA,2BAJI;AAMJ;;AANI,UAOFyC,WAPJ;;AASA,UAAI8B,aAAa,IAAIb,UAArB,EAAiC;AAC/BjV,QAAAA,MAAM,CAACC,IAAP,CAAYiU,wBAAZ,EAAsC9T,OAAtC,CAA+CwT,IAAD,IAAU;AACtD,gBAAMC,EAAE,GAAGK,wBAAwB,CAACN,IAAD,CAAnC;AACAmC,UAAAA,gBAAgB,CAAC;AACfnC,YAAAA,IADe;AAEfC,YAAAA;AAFe,WAAD,CAAhB;AAID,SAND;AAOD,OARD,MAQO,IAAIiC,aAAJ,EAAmB,CAAnB,MAEA;AACL9V,QAAAA,MAAM,CAACC,IAAP,CAAYiU,wBAAZ,EAAsC9T,OAAtC,CAA+CwT,IAAD,IAAU;AACtD,gBAAMC,EAAE,GAAGK,wBAAwB,CAACN,IAAD,CAAnC,CADsD;;AAItD,cAAIuC,cAAJ,EAAoB;AAClB;AACA;AACA,gBAAIV,yBAAyB,CAACpV,IAA1B,KAAmC0T,WAAvC,EAAoD;AAClDkC,cAAAA,sBAAsB,CAAC;AACrBC,gBAAAA,KAAK,EAAG,KAAI3E,2BAA4B,EADnB;AAErBqC,gBAAAA,IAFqB;AAGrBC,gBAAAA;AAHqB,eAAD,CAAtB;;AAKA,kBAAID,IAAI,KAAKG,WAAT,IAAwBH,IAAI,IAAIlU,OAAR,KAAoB,KAAhD,EAAuD;AACrDqW,gBAAAA,gBAAgB,CAAC;AAAEnC,kBAAAA,IAAF;AAAQC,kBAAAA;AAAR,iBAAD,CAAhB;AACD;AACF,aATD,MASO;AACLkC,cAAAA,gBAAgB,CAAC;AAAEnC,gBAAAA,IAAF;AAAQC,gBAAAA;AAAR,eAAD,CAAhB;AACD;AACF,WAfD,MAeO;AACLoC,YAAAA,sBAAsB,CAAC;AACrBC,cAAAA,KAAK,EAAG,KAAI3E,2BAA4B,EADnB;AAErBqC,cAAAA,IAFqB;AAGrBC,cAAAA;AAHqB,aAAD,CAAtB;AAKD,WAzBqD;AA4BtD;;;AACA,cAAIsC,cAAJ,EAAoB;AAClB;AACD,WA/BqD;AAkCtD;AACA;;;AACAF,UAAAA,sBAAsB,CAAC;AAAEC,YAAAA,KAAK,EAAG,KAAIE,mBAAoB,EAAlC;AAAqCxC,YAAAA,IAArC;AAA2CC,YAAAA;AAA3C,WAAD,CAAtB;AACD,SArCD;AAsCD;AACF;AACF,GA7JD;;AA+JA,QAAMgC,gBAAgB,GAAG,OAAO;AAC9BnG,IAAAA,cAD8B;AAE9BqE,IAAAA,WAF8B;AAG9BlE,IAAAA,iBAH8B;AAI9BmE,IAAAA,WAAW,EAAE;AACXmC,MAAAA,cADW;AAEXC,MAAAA,mBAFW;AAGXN,MAAAA,aAHW;AAIXO,MAAAA,gBAJW;AAKXrF,MAAAA,mBALW;AAMXsF,MAAAA;AANW;AAJiB,GAAP,KAYnB;AACJ,QAAIR,aAAJ,EAAmB;AACnB,QAAIO,gBAAJ,EAAsB;AAEtB,UAAM9D,WAAW,GAAG,MAAMV,kBAAkB,CAAC;AAC3CnC,MAAAA,cAD2C;AAE3CG,MAAAA,iBAF2C;AAG3Cc,MAAAA;AAH2C,KAAD,CAA5C,CAJI;AAWJ;AACA;;AACA,QAAI4B,WAAW,KAAK,IAApB,EAA0B;AAE1B,UAAMF,mBAAmB,GAAG1I,gBAAgB,CAAC4I,WAAD,EAAc3B,uBAAd,CAA5C;AACA,UAAMgD,IAAI,GAAGG,WAAb;AACA,UAAMF,EAAE,GAAI,KAAIxB,mBAAoB,EAApC;;AAEA,QAAI8D,cAAJ,EAAoB;AAClBJ,MAAAA,gBAAgB,CAAC;AAAEnC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,OAAD,CAAhB;AACD,KAFD,MAEO;AACLoC,MAAAA,sBAAsB,CAAC;AAAEC,QAAAA,KAAK,EAAG,KAAIE,mBAAoB,EAAlC;AAAqCxC,QAAAA,IAArC;AAA2CC,QAAAA;AAA3C,OAAD,CAAtB;AACD;;AACD,QAAI7C,mBAAmB,KAAKsF,2BAA5B,EAAyD;AACvDL,MAAAA,sBAAsB,CAAC;AAAEC,QAAAA,KAAK,EAAG,KAAIE,mBAAoB,EAAlC;AAAqCxC,QAAAA,IAArC;AAA2CC,QAAAA;AAA3C,OAAD,CAAtB;AACD;AACF,GAvCD;;AAyCA,QAAM8B,iBAAiB,GAAG,OAAO;AAC/BjG,IAAAA,cAD+B;AAE/BG,IAAAA,iBAF+B;AAG/BiF,IAAAA;AAH+B,GAAP,KAIpB;AACJ,UAAMyB,aAAa,GAAG,EAAtB;AAEA,UAAM;AAAEC,MAAAA,YAAY,GAAG;AAAjB,QAAwB3G,iBAA9B;AACA7P,IAAAA,MAAM,CAACC,IAAP,CAAYuW,YAAZ,EAA0BpW,OAA1B,CAAmCyQ,cAAD,IAAoB;AACpD0F,MAAAA,aAAa,CAAC1F,cAAD,CAAb,GAAgC;AAC9BxR,QAAAA,IAAI,EAAE,YADwB;AAE9BoX,QAAAA,cAAc,EAAED,YAAY,CAAC3F,cAAD;AAFE,OAAhC;AAID,KALD;AAOA,UAAM;AAAE6F,MAAAA,gBAAgB,GAAG;AAArB,QAA4B7G,iBAAlC;AACA7P,IAAAA,MAAM,CAACC,IAAP,CAAYyW,gBAAZ,EAA8BtW,OAA9B,CAAuCyQ,cAAD,IAAoB;AACxD0F,MAAAA,aAAa,CAAC1F,cAAD,CAAb,GAAgC;AAC9BxR,QAAAA,IAAI,EAAE,gBADwB;AAE9BoX,QAAAA,cAAc,EAAEC,gBAAgB,CAAC7F,cAAD;AAFF,OAAhC;AAID,KALD;AAOA,UAAM8F,gBAAgB,GAAGjH,cAAc,KAAKwF,qBAA5C;;AACA,QAAIJ,sBAAsB,IAAI6B,gBAA9B,EAAgD;AAC9C,YAAM;AAAEC,QAAAA,eAAe,GAAG;AAApB,UAA2B/G,iBAAjC;AACA7P,MAAAA,MAAM,CAACC,IAAP,CAAY2W,eAAZ,EAA6BxW,OAA7B,CAAsCyQ,cAAD,IAAoB;AACvD,YAAI,CAAC0F,aAAa,CAACM,cAAd,CAA6BhG,cAA7B,CAAL,EAAmD;AACjD0F,UAAAA,aAAa,CAAC1F,cAAD,CAAb,GAAgC;AAC9BxR,YAAAA,IAAI,EAAE,eADwB;AAE9BoX,YAAAA,cAAc,EAAEG,eAAe,CAAC/F,cAAD;AAFD,WAAhC;AAID;AACF,OAPD;AAQD;;AAED,UAAMtM,OAAO,CAACuS,GAAR,CACJ9W,MAAM,CAACC,IAAP,CAAYsW,aAAZ,EAA2BhJ,GAA3B,CAA+B,MAAOsD,cAAP,IAA0B;AACvD,YAAMkG,UAAU,GAAGR,aAAa,CAAC1F,cAAD,CAAhC;AACA,YAAMmG,eAAe,CAAC;AACpBtH,QAAAA,cADoB;AAEpBG,QAAAA,iBAFoB;AAGpBgB,QAAAA,cAHoB;AAIpBE,QAAAA,cAAc,EAAEgG,UAAU,CAAC1X,IAJP;AAKpByR,QAAAA,wBAAwB,EAAEiG,UAAU,CAACN;AALjB,OAAD,CAArB;AAOD,KATD,CADI,CAAN;AAYD,GAhDD;;AAkDA,QAAMO,eAAe,GAAG,OAAO;AAC7BtH,IAAAA,cAD6B;AAE7BG,IAAAA,iBAF6B;AAG7BgB,IAAAA,cAH6B;AAI7BE,IAAAA,cAJ6B;AAK7BD,IAAAA;AAL6B,GAAP,KAMlB;AACJ,UAAMmG,cAAc,GAAG,MAAMC,cAAc,CAAC;AAC1CxH,MAAAA,cAD0C;AAE1CG,MAAAA,iBAF0C;AAG1CgB,MAAAA,cAH0C;AAI1CE,MAAAA,cAJ0C;AAK1CD,MAAAA;AAL0C,KAAD,CAA3C;;AAOA,QAAI,CAACmG,cAAL,EAAqB;AACnB;AACD;;AAED,UAAM;AACJvH,MAAAA,cAAc,EAAEyH,wBADZ;AAEJtH,MAAAA,iBAAiB,EAAEuH;AAFf,QAGFH,cAHJ;;AAKA,QAAI1B,aAAa,CAAC4B,wBAAD,EAA2BzH,cAA3B,CAAjB,EAA6D;AAC3D;AACD;;AACD2F,IAAAA,iBAAiB,CAAC8B,wBAAD,EAA2BzH,cAA3B,CAAjB;AACA,UAAM/I,KAAK,CAAC;AACV+I,MAAAA,cAAc,EAAEyH,wBADN;AAEVpD,MAAAA,WAAW,EAAElD,cAFH;AAGVhB,MAAAA,iBAAiB,EAAEuH,2BAHT;AAIV9B,MAAAA,sBAAsB,EAAE5F,cAJd;AAKV+F,MAAAA,yBAAyB,EAAE5F;AALjB,KAAD,CAAX;AAOD,GAlCD;;AAoCA,QAAM+F,kBAAkB,GAAG,CAAC;AAAElG,IAAAA,cAAF;AAAkBqE,IAAAA,WAAlB;AAA+BuB,IAAAA;AAA/B,GAAD,KAA6D;AACtF,UAAMa,cAAc,GAAGb,sBAAsB,KAAKH,yBAAlD;AAEA,UAAMkC,iBAAiB,GAAG/B,sBAAsB,KAAKJ,qBAArD;AAEA,UAAMoC,2BAA2B,GAAGhM,UAAU,CAAC,IAAD,EAAOgK,sBAAP,CAA9C;AAEA,UAAMc,mBAAmB,GAAGD,cAAc,GACrC,GAAEhD,aAAQ,CAACvC,uBAAD,CAA0B,GADC,GAEtCjH,gBAAgB,CAAC2N,2BAAD,EAA8B1G,uBAA9B,CAFpB;AAIA,UAAMkF,aAAa,GAAGpG,cAAc,KAAKyF,yBAAzC;AAEA,UAAMkB,gBAAgB,GAAG3G,cAAc,KAAKwF,qBAA5C;AAEA,UAAMlE,mBAAmB,GAAG1F,UAAU,CAAC,IAAD,EAAOoE,cAAP,CAAtC;AAEA,QAAI4G,2BAAJ;;AACA,QAAID,gBAAgB,IAAI,CAACP,aAAzB,EAAwC;AACtCQ,MAAAA,2BAA2B,GAAGgB,2BAA9B;AACD,KAFD,MAEO;AACLhB,MAAAA,2BAA2B,GAAI,GAAEgB,2BAA4B,gBAAevD,WAAY,GAAxF;AACD;;AAED,UAAMxC,2BAA2B,GAAG5H,gBAAgB,CAClDqH,mBADkD,EAElDJ,uBAFkD,CAApD;AAKA,WAAO;AACLuF,MAAAA,cADK;AAELkB,MAAAA,iBAFK;AAGLjB,MAAAA,mBAHK;AAILN,MAAAA,aAJK;AAKLO,MAAAA,gBALK;AAMLrF,MAAAA,mBANK;AAOLsF,MAAAA,2BAPK;AAQL/E,MAAAA;AARK,KAAP;AAUD,GAvCD;;AAyCA,QAAMwE,gBAAgB,GAAG,CAAC;AAAEnC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAD,KAAkB;AACzC;AACA;AACA;AACA,QAAID,IAAI,KAAKC,EAAb,EAAiB;AACf;;;;;;;;;;AAUA,UAAID,IAAI,KAAK,GAAb,EAAkB;AACnB;;AAEDlU,IAAAA,OAAO,CAACkU,IAAD,CAAP,GAAgBC,EAAhB;AACD,GAnBD;;AAqBA,QAAMoC,sBAAsB,GAAG,CAAC;AAAEC,IAAAA,KAAF;AAAStC,IAAAA,IAAT;AAAeC,IAAAA;AAAf,GAAD,KAAyB;AACtDlU,IAAAA,MAAM,CAACuW,KAAD,CAAN,GAAgB,EACd,IAAIvW,MAAM,CAACuW,KAAD,CAAN,IAAiB,EAArB,CADc;AAEd,OAACtC,IAAD,GAAQC;AAFM,KAAhB;AAID,GALD;;AAOA,QAAM0D,iBAAiB,GAAG,EAA1B;;AACA,QAAML,cAAc,GAAG,CAAC;AACtBxH,IAAAA,cADsB;AAEtBG,IAAAA,iBAFsB;AAGtBgB,IAAAA,cAHsB;AAItBE,IAAAA,cAJsB;AAKtBD,IAAAA;AALsB,GAAD,KAMjB;AACJ,QAAIpB,cAAc,IAAI6H,iBAAlB,KAAwC,KAA5C,EAAmD;AACjDA,MAAAA,iBAAiB,CAAC7H,cAAD,CAAjB,GAAoC,EAApC;AACD;;AACD,QAAImB,cAAc,IAAI0G,iBAAiB,CAAC7H,cAAD,CAAvC,EAAyD;AACvD,aAAO6H,iBAAiB,CAAC7H,cAAD,CAAjB,CAAkCmB,cAAlC,CAAP;AACD;;AACD,UAAM2G,iBAAiB,GAAG9G,iBAAiB,CAAC;AAC1CE,MAAAA,uBAD0C;AAE1CjB,MAAAA,eAF0C;AAG1CD,MAAAA,cAH0C;AAI1CG,MAAAA,iBAJ0C;AAK1CgB,MAAAA,cAL0C;AAM1CE,MAAAA,cAN0C;AAO1CD,MAAAA,wBAP0C;AAQ1CH,MAAAA;AAR0C,KAAD,CAA3C;AAUA4G,IAAAA,iBAAiB,CAAC7H,cAAD,CAAjB,CAAkCmB,cAAlC,IAAoD2G,iBAApD;AACA,WAAOA,iBAAP;AACD,GAzBD;;AA2BA,QAAMC,wBAAwB,GAAG,MAAMhI,eAAe,CAACyF,qBAAD,EAAwBvF,eAAxB,CAAtD;AAEA,QAAMD,cAAc,GAAGwF,qBAAvB;AACA,QAAMI,sBAAsB,GAAGJ,qBAA/B;AACAG,EAAAA,iBAAiB,CAAC3F,cAAD,EAAiB4F,sBAAjB,CAAjB;AAEA,QAAMvB,WAAW,GAAG0D,wBAAwB,CAACpX,IAA7C;;AACA,MAAI,OAAO0T,WAAP,KAAuB,QAA3B,EAAqC;AACnC,UAAMpN,KAAK,CAAC;AACV+I,MAAAA,cADU;AAEVqE,MAAAA,WAAW,EAAE0D,wBAAwB,CAACpX,IAF5B;AAGVwP,MAAAA,iBAAiB,EAAE4H,wBAHT;AAIVnC,MAAAA,sBAJU;AAKVG,MAAAA,yBAAyB,EAAE,IALjB;AAMVX,MAAAA;AANU,KAAD,CAAX;AAQD,GATD,MASO;AACLnE,IAAAA,MAAM,CAACvE,IAAP,CAAa;;EAEf2H,WAAY;;EAEZrE,cAAe,EAJb;AAKD,GAtcG;;;AAycJ1P,EAAAA,MAAM,CAACC,IAAP,CAAYN,MAAZ,EAAoBS,OAApB,CAA6BmQ,GAAD,IAAS;AACnC,UAAMmH,aAAa,GAAG/X,MAAM,CAAC4Q,GAAD,CAA5B;AACAvQ,IAAAA,MAAM,CAACC,IAAP,CAAYyX,aAAZ,EAA2BtX,OAA3B,CAAoCuX,eAAD,IAAqB;AACtD,UACEA,eAAe,IAAIjY,OAAnB,IACAA,OAAO,CAACiY,eAAD,CAAP,KAA6BD,aAAa,CAACC,eAAD,CAF5C,EAGE;AACA,eAAOD,aAAa,CAACC,eAAD,CAApB;AACD;AACF,KAPD;;AAQA,QAAI3X,MAAM,CAACC,IAAP,CAAYyX,aAAZ,EAA2BhX,MAA3B,KAAsC,CAA1C,EAA6C;AAC3C,aAAOf,MAAM,CAAC4Q,GAAD,CAAb;AACD;AACF,GAbD;AAeA,SAAO/Q,aAAa,CAAC;AAAEE,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAD,CAApB;AACD,CAreM;;ACVA,MAAMiY,aAAa,GAAG,KAAtB;AAEP,AAAO,MAAMC,eAAe,GAAG,OAAxB;AAEP,AAAO,MAAMC,cAAc,GAAG,MAAvB;AAEP,AAAO,MAAMC,cAAc,GAAG,MAAvB;AAEP,AAAO,MAAMC,eAAe,GAAG,OAAxB;;ACAA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,QAAQ,GAAGJ;AAAb,IAAgC,EAAjC,KAAwC;AAClE,MAAII,QAAQ,KAAKL,eAAjB,EAAkC;AAChC,WAAO;AACLM,MAAAA,KADK;AAELC,MAAAA,IAFK;AAGLhM,MAAAA,IAHK;AAILzH,MAAAA;AAJK,KAAP;AAMD;;AAED,MAAIuT,QAAQ,KAAKJ,cAAjB,EAAiC;AAC/B,WAAO;AACLK,MAAAA,KAAK,EAAEE,aADF;AAELD,MAAAA,IAFK;AAGLhM,MAAAA,IAHK;AAILzH,MAAAA;AAJK,KAAP;AAMD;;AAED,MAAIuT,QAAQ,KAAKH,cAAjB,EAAiC;AAC/B,WAAO;AACLI,MAAAA,KAAK,EAAEE,aADF;AAELD,MAAAA,IAAI,EAAEE,YAFD;AAGLlM,MAAAA,IAHK;AAILzH,MAAAA;AAJK,KAAP;AAMD;;AAED,MAAIuT,QAAQ,KAAKF,eAAjB,EAAkC;AAChC,WAAO;AACLG,MAAAA,KAAK,EAAEE,aADF;AAELD,MAAAA,IAAI,EAAEE,YAFD;AAGLlM,MAAAA,IAAI,EAAEmM,YAHD;AAIL5T,MAAAA;AAJK,KAAP;AAMD;;AAED,MAAIuT,QAAQ,KAAKN,aAAjB,EAAgC;AAC9B,WAAO;AACLO,MAAAA,KAAK,EAAEE,aADF;AAELD,MAAAA,IAAI,EAAEE,YAFD;AAGLlM,MAAAA,IAAI,EAAEmM,YAHD;AAIL5T,MAAAA,KAAK,EAAE6T;AAJF,KAAP;AAMD;;AAED,QAAM,IAAIlX,KAAJ,CAAW;;EAEjB4W,QAAS;;EAETN,aAAc;EACdI,eAAgB;EAChBD,cAAe;EACfD,cAAe;EACfD,eAAgB,EARV,CAAN;AASD,CAvDM;AAyDP,MAAMM,KAAK,GAAGhM,OAAO,CAACgM,KAAtB;;AAEA,MAAME,aAAa,GAAG,MAAM,EAA5B;;AAEA,MAAMD,IAAI,GAAGjM,OAAO,CAACiM,IAArB;;AAEA,MAAME,YAAY,GAAG,MAAM,EAA3B;;AAEA,MAAMlM,IAAI,GAAGD,OAAO,CAACC,IAArB;;AAEA,MAAMmM,YAAY,GAAG,MAAM,EAA3B;;AAEA,MAAM5T,KAAK,GAAGwH,OAAO,CAACxH,KAAtB;;AAEA,MAAM6T,aAAa,GAAG,MAAM,EAA5B;;AC/EO,MAAMC,4BAA4B,GAAG,CAAC;AAAE/Y,EAAAA,OAAO,GAAG;AAAZ,CAAD,KAAsB;AAChE,QAAMgZ,KAAK,GAAG,EAAd;AAEA1Y,EAAAA,MAAM,CAACC,IAAP,CAAYP,OAAZ,EAAqBU,OAArB,CAA8BuY,SAAD,IAAe;AAC1C,UAAMC,WAAW,GAAGlZ,OAAO,CAACiZ,SAAD,CAA3B;AAEA,QAAIpI,GAAJ;;AACA,QAAIoI,SAAS,CAAC7X,QAAV,CAAmB,GAAnB,CAAJ,EAA6B;AAC3ByP,MAAAA,GAAG,GAAI,GAAEoI,SAAU,GAAnB;AACD,KAFD,MAEO;AACLpI,MAAAA,GAAG,GAAGoI,SAAN;AACD;;AAED,UAAME,gBAAgB,GAAG,OAAOD,WAAP,KAAuB,QAAvB,GAAkC,CAACA,WAAD,CAAlC,GAAkDA,WAA3E;AACA,UAAME,iBAAiB,GAAGD,gBAAgB,CAACtL,GAAjB,CAAsBqL,WAAD,IAAiB;AAC9D,UAAIA,WAAW,CAAC9X,QAAZ,CAAqB,GAArB,CAAJ,EAA+B;AAC7B,eAAQ,GAAE8X,WAAY,GAAtB;AACD;;AACD,aAAOA,WAAP;AACD,KALyB,CAA1B;;AAOA,QAAIrI,GAAG,IAAImI,KAAX,EAAkB;AAChBA,MAAAA,KAAK,CAACnI,GAAD,CAAL,GAAa,CAAC,GAAGmI,KAAK,CAACnI,GAAD,CAAT,EAAgB,GAAGuI,iBAAnB,CAAb;AACD,KAFD,MAEO;AACLJ,MAAAA,KAAK,CAACnI,GAAD,CAAL,GAAauI,iBAAb;AACD;AACF,GAvBD;AAyBA,SAAOJ,KAAP;AACD,CA7BM;;MCYMK,kCAAkC,GAAG,OAAO;AACvD;AACA;AACA;AACAC,EAAAA,iBAAiB,GAAGpK,iCAAiC,EAJE;AAKvDsJ,EAAAA,QALuD;AAMvDrD,EAAAA,mBANuD;AAQvDlF,EAAAA,eARuD;AASvDmF,EAAAA,sBAAsB,GAAGrP,OAAO,CAACwT,GAAR,CAAYC,QAAZ,KAAyB,YATK;AAUvDnE,EAAAA,cAAc,GAAG,IAVsC;AAWvDd,EAAAA,cAXuD;AAYvDe,EAAAA,cAAc,GAAG,IAZsC;AAYhC;AACvBC,EAAAA,UAAU,GAAG,KAb0C;AAanC;AACpBkE,EAAAA,aAAa,GAAG,KAduC;AAevDC,EAAAA,wBAAwB,GAAG,kBAf4B;AAgBvDC,EAAAA,gBAAgB,GAAG,IAhBoC;AAiBvDC,EAAAA,YAAY,GAAG,KAjBwC;AAkBvDC,EAAAA,eAAe,GAAG,IAlBqC;AAmBvDC,EAAAA,oBAAoB,GAAG;AAnBgC,CAAP,KAqBhDjR,iBAAiB,CAAC,YAAY;AAC5BsM,EAAAA,mBAAmB,GAAGpT,8BAA8B,CAACoT,mBAAD,CAApD;AAEA,QAAMlE,MAAM,GAAGsH,YAAY,CAAC;AAAEC,IAAAA;AAAF,GAAD,CAA3B;AACA,QAAMzY,SAAS,GAAG,MAAMmV,2BAA2B,CAAC;AAClDoE,IAAAA,iBADkD;AAElDrI,IAAAA,MAFkD;AAIlDkE,IAAAA,mBAJkD;AAKlDlF,IAAAA,eALkD;AAMlDmF,IAAAA,sBANkD;AAOlDC,IAAAA,cAPkD;AAQlDC,IAAAA,cARkD;AASlDf,IAAAA,cATkD;AAUlDgB,IAAAA;AAVkD,GAAD,CAAnD;;AAaA,MAAIkE,aAAJ,EAAmB;AACjB,UAAMM,gBAAgB,GAAGnO,UAAU,CAAC8N,wBAAD,EAA2BvE,mBAA3B,CAAnC;AACA,UAAMvF,SAAS,CAACmK,gBAAD,EAAmB3J,IAAI,CAAC4J,SAAL,CAAeja,SAAf,EAA0B,IAA1B,EAAgC,IAAhC,CAAnB,CAAf;;AACA,QAAI4Z,gBAAJ,EAAsB;AACpB1I,MAAAA,MAAM,CAACyH,IAAP,CAAa,MAAK1V,mBAAmB,CAAC+W,gBAAD,CAAmB,EAAxD;AACD;AACF;;AACD,MAAIH,YAAJ,EAAkB;AAChB,UAAMK,eAAe,GAAGrO,UAAU,CAAC,iBAAD,EAAoBuJ,mBAApB,CAAlC;;AACA,QAAI;AACF,YAAM+E,QAAQ,GAAG;AACfC,QAAAA,eAAe,EAAE;AACf7X,UAAAA,OAAO,EAAE,GADM;AAEf0W,UAAAA,KAAK,EAAE,EACL,IAAIc,oBAAoB,GAAG;AAAE,oBAAM,CAAC,KAAD;AAAR,aAAH,GAAuB,EAA/C,CADK;AAEL,eAAGf,4BAA4B,CAAChZ,SAAD;AAF1B;AAFQ;AADF,OAAjB;AASA,YAAM6P,SAAS,CAACqK,eAAD,EAAkB7J,IAAI,CAAC4J,SAAL,CAAeE,QAAf,EAAyB,IAAzB,EAA+B,IAA/B,CAAlB,CAAf;;AACA,UAAIL,eAAJ,EAAqB;AACnB5I,QAAAA,MAAM,CAACyH,IAAP,CAAa,MAAK1V,mBAAmB,CAACiX,eAAD,CAAkB,EAAvD;AACD;AACF,KAdD,CAcE,OAAO9X,CAAP,EAAU;AACV,UAAIA,CAAC,CAACyE,IAAF,KAAW,QAAf,EAAyB;AACvB,cAAMzE,CAAN;AACD;AACF;AACF;;AAED,SAAOpC,SAAP;AACD,CAhDgB,CAAjB,CAgDGgJ,KAhDH,CAgDU5G,CAAD,IAAO;AACd;AACA;AACA;AACA4D,EAAAA,OAAO,CAACqU,QAAR,GAAmB,CAAnB;AACA,QAAMjY,CAAN;AACD,CAtDD,CArBK;;;;;"}